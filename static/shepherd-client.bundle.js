(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: InitBrowserDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitBrowserDefault", function() { return InitBrowserDefault; });
/* harmony import */ var _src_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/browser */ "./src/browser.js");


function InitBrowserDefault(reqid, opts) {
  document.addEventListener("readystatechange", function() {
    if (document.readyState != "complete") {
      return;
    }

    opts = opts || {};

    // if in iframe, notify parent of reqid
    if (window != window.parent && !opts.noNotifyParent) {
      window.parent.postMessage({"type": "reqid", "reqid": reqid}, "*");
    }

    if (!opts.on_countdown) {
      opts.on_countdown = function(seconds, countdown_text) {
        var text = document.getElementById("countdown");
        if (text) {
          text.innerText = countdown_text;
        }
      }
    }

    if (!opts.on_event) {
      opts.on_event = function(type, data) {
        if (type == "fail" || type == "expire") {
          window.location.reload();
        }
      }
    }

    if (opts.proxy_ws === undefined) {
      if (!window.location.port) {
        opts.proxy_ws = "_websockify?port=";
      }
    }

    if (opts.audio === undefined) {
      opts.audio = true;
    }

    if (opts.fill_window === undefined) {
      opts.fill_window = true;
    }

    if (opts.inactiveSecs === undefined) {
      opts.inactiveSecs = 10;
    }

    var id = opts.id || "#browser";

    return new _src_browser__WEBPACK_IMPORTED_MODULE_0__["default"](reqid, id, opts);
  });
}





/***/ }),

/***/ "./node_modules/@novnc/novnc/core/base64.js":
/*!**************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/base64.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// From: http://hg.mozilla.org/mozilla-central/raw-file/ec10630b1a54/js/src/devtools/jint/sunspider/string-base64.js



/* harmony default export */ __webpack_exports__["default"] = ({
    /* Convert data (an array of integers) to a Base64 string. */
    toBase64Table : 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split(''),
    base64Pad     : '=',

    encode: function (data) {
        "use strict";
        var result = '';
        var toBase64Table = this.toBase64Table;
        var length = data.length;
        var lengthpad = (length % 3);
        // Convert every three bytes to 4 ascii characters.

        for (var i = 0; i < (length - 2); i += 3) {
            result += toBase64Table[data[i] >> 2];
            result += toBase64Table[((data[i] & 0x03) << 4) + (data[i + 1] >> 4)];
            result += toBase64Table[((data[i + 1] & 0x0f) << 2) + (data[i + 2] >> 6)];
            result += toBase64Table[data[i + 2] & 0x3f];
        }

        // Convert the remaining 1 or 2 bytes, pad out to 4 characters.
        var j = 0;
        if (lengthpad === 2) {
            j = length - lengthpad;
            result += toBase64Table[data[j] >> 2];
            result += toBase64Table[((data[j] & 0x03) << 4) + (data[j + 1] >> 4)];
            result += toBase64Table[(data[j + 1] & 0x0f) << 2];
            result += toBase64Table[64];
        } else if (lengthpad === 1) {
            j = length - lengthpad;
            result += toBase64Table[data[j] >> 2];
            result += toBase64Table[(data[j] & 0x03) << 4];
            result += toBase64Table[64];
            result += toBase64Table[64];
        }

        return result;
    },

    /* Convert Base64 data to a string */
    toBinaryTable : [
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
        -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,62, -1,-1,-1,63,
        52,53,54,55, 56,57,58,59, 60,61,-1,-1, -1, 0,-1,-1,
        -1, 0, 1, 2,  3, 4, 5, 6,  7, 8, 9,10, 11,12,13,14,
        15,16,17,18, 19,20,21,22, 23,24,25,-1, -1,-1,-1,-1,
        -1,26,27,28, 29,30,31,32, 33,34,35,36, 37,38,39,40,
        41,42,43,44, 45,46,47,48, 49,50,51,-1, -1,-1,-1,-1
    ],

    decode: function (data, offset) {
        "use strict";
        offset = typeof(offset) !== 'undefined' ? offset : 0;
        var toBinaryTable = this.toBinaryTable;
        var base64Pad = this.base64Pad;
        var result, result_length;
        var leftbits = 0; // number of bits decoded, but yet to be appended
        var leftdata = 0; // bits decoded, but yet to be appended
        var data_length = data.indexOf('=') - offset;

        if (data_length < 0) { data_length = data.length - offset; }

        /* Every four characters is 3 resulting numbers */
        result_length = (data_length >> 2) * 3 + Math.floor((data_length % 4) / 1.5);
        result = new Array(result_length);

        // Convert one by one.
        for (var idx = 0, i = offset; i < data.length; i++) {
            var c = toBinaryTable[data.charCodeAt(i) & 0x7f];
            var padding = (data.charAt(i) === base64Pad);
            // Skip illegal characters and whitespace
            if (c === -1) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Illegal character code " + data.charCodeAt(i) + " at position " + i);
                continue;
            }

            // Collect data into leftdata, update bitcount
            leftdata = (leftdata << 6) | c;
            leftbits += 6;

            // If we have 8 or more bits, append 8 bits to the result
            if (leftbits >= 8) {
                leftbits -= 8;
                // Append if not padding.
                if (!padding) {
                    result[idx++] = (leftdata >> leftbits) & 0xff;
                }
                leftdata &= (1 << leftbits) - 1;
            }
        }

        // If there are any bits left, the base64 string was corrupted
        if (leftbits) {
            err = new Error('Corrupted base64 string');
            err.name = 'Base64-Error';
            throw err;
        }

        return result;
    }
}); /* End of Base64 namespace */


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/des.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/des.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DES; });
/*
 * Ported from Flashlight VNC ActionScript implementation:
 *     http://www.wizhelp.com/flashlight-vnc/
 *
 * Full attribution follows:
 *
 * -------------------------------------------------------------------------
 *
 * This DES class has been extracted from package Acme.Crypto for use in VNC.
 * The unnecessary odd parity code has been removed.
 *
 * These changes are:
 *  Copyright (C) 1999 AT&T Laboratories Cambridge.  All Rights Reserved.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *

 * DesCipher - the DES encryption method
 *
 * The meat of this code is by Dave Zimmerman <dzimm@widget.com>, and is:
 *
 * Copyright (c) 1996 Widget Workshop, Inc. All Rights Reserved.
 *
 * Permission to use, copy, modify, and distribute this software
 * and its documentation for NON-COMMERCIAL or COMMERCIAL purposes and
 * without fee is hereby granted, provided that this copyright notice is kept
 * intact.
 *
 * WIDGET WORKSHOP MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY
 * OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
 * TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WIDGET WORKSHOP SHALL NOT BE LIABLE
 * FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR
 * DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.
 *
 * THIS SOFTWARE IS NOT DESIGNED OR INTENDED FOR USE OR RESALE AS ON-LINE
 * CONTROL EQUIPMENT IN HAZARDOUS ENVIRONMENTS REQUIRING FAIL-SAFE
 * PERFORMANCE, SUCH AS IN THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT
 * NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, DIRECT LIFE
 * SUPPORT MACHINES, OR WEAPONS SYSTEMS, IN WHICH THE FAILURE OF THE
 * SOFTWARE COULD LEAD DIRECTLY TO DEATH, PERSONAL INJURY, OR SEVERE
 * PHYSICAL OR ENVIRONMENTAL DAMAGE ("HIGH RISK ACTIVITIES").  WIDGET WORKSHOP
 * SPECIFICALLY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY OF FITNESS FOR
 * HIGH RISK ACTIVITIES.
 *
 *
 * The rest is:
 *
 * Copyright (C) 1996 by Jef Poskanzer <jef@acme.com>.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * Visit the ACME Labs Java page for up-to-date versions of this and other
 * fine Java utilities: http://www.acme.com/java/
 */

function DES(passwd) {
    "use strict";

    // Tables, permutations, S-boxes, etc.
    var PC2 = [13,16,10,23, 0, 4, 2,27,14, 5,20, 9,22,18,11, 3,
               25, 7,15, 6,26,19,12, 1,40,51,30,36,46,54,29,39,
               50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31 ],
        totrot = [ 1, 2, 4, 6, 8,10,12,14,15,17,19,21,23,25,27,28],
        z = 0x0, a,b,c,d,e,f, SP1,SP2,SP3,SP4,SP5,SP6,SP7,SP8,
        keys = [];

    a=1<<16; b=1<<24; c=a|b; d=1<<2; e=1<<10; f=d|e;
    SP1 = [c|e,z|z,a|z,c|f,c|d,a|f,z|d,a|z,z|e,c|e,c|f,z|e,b|f,c|d,b|z,z|d,
           z|f,b|e,b|e,a|e,a|e,c|z,c|z,b|f,a|d,b|d,b|d,a|d,z|z,z|f,a|f,b|z,
           a|z,c|f,z|d,c|z,c|e,b|z,b|z,z|e,c|d,a|z,a|e,b|d,z|e,z|d,b|f,a|f,
           c|f,a|d,c|z,b|f,b|d,z|f,a|f,c|e,z|f,b|e,b|e,z|z,a|d,a|e,z|z,c|d];
    a=1<<20; b=1<<31; c=a|b; d=1<<5; e=1<<15; f=d|e;
    SP2 = [c|f,b|e,z|e,a|f,a|z,z|d,c|d,b|f,b|d,c|f,c|e,b|z,b|e,a|z,z|d,c|d,
           a|e,a|d,b|f,z|z,b|z,z|e,a|f,c|z,a|d,b|d,z|z,a|e,z|f,c|e,c|z,z|f,
           z|z,a|f,c|d,a|z,b|f,c|z,c|e,z|e,c|z,b|e,z|d,c|f,a|f,z|d,z|e,b|z,
           z|f,c|e,a|z,b|d,a|d,b|f,b|d,a|d,a|e,z|z,b|e,z|f,b|z,c|d,c|f,a|e];
    a=1<<17; b=1<<27; c=a|b; d=1<<3; e=1<<9; f=d|e;
    SP3 = [z|f,c|e,z|z,c|d,b|e,z|z,a|f,b|e,a|d,b|d,b|d,a|z,c|f,a|d,c|z,z|f,
           b|z,z|d,c|e,z|e,a|e,c|z,c|d,a|f,b|f,a|e,a|z,b|f,z|d,c|f,z|e,b|z,
           c|e,b|z,a|d,z|f,a|z,c|e,b|e,z|z,z|e,a|d,c|f,b|e,b|d,z|e,z|z,c|d,
           b|f,a|z,b|z,c|f,z|d,a|f,a|e,b|d,c|z,b|f,z|f,c|z,a|f,z|d,c|d,a|e];
    a=1<<13; b=1<<23; c=a|b; d=1<<0; e=1<<7; f=d|e;
    SP4 = [c|d,a|f,a|f,z|e,c|e,b|f,b|d,a|d,z|z,c|z,c|z,c|f,z|f,z|z,b|e,b|d,
           z|d,a|z,b|z,c|d,z|e,b|z,a|d,a|e,b|f,z|d,a|e,b|e,a|z,c|e,c|f,z|f,
           b|e,b|d,c|z,c|f,z|f,z|z,z|z,c|z,a|e,b|e,b|f,z|d,c|d,a|f,a|f,z|e,
           c|f,z|f,z|d,a|z,b|d,a|d,c|e,b|f,a|d,a|e,b|z,c|d,z|e,b|z,a|z,c|e];
    a=1<<25; b=1<<30; c=a|b; d=1<<8; e=1<<19; f=d|e;
    SP5 = [z|d,a|f,a|e,c|d,z|e,z|d,b|z,a|e,b|f,z|e,a|d,b|f,c|d,c|e,z|f,b|z,
           a|z,b|e,b|e,z|z,b|d,c|f,c|f,a|d,c|e,b|d,z|z,c|z,a|f,a|z,c|z,z|f,
           z|e,c|d,z|d,a|z,b|z,a|e,c|d,b|f,a|d,b|z,c|e,a|f,b|f,z|d,a|z,c|e,
           c|f,z|f,c|z,c|f,a|e,z|z,b|e,c|z,z|f,a|d,b|d,z|e,z|z,b|e,a|f,b|d];
    a=1<<22; b=1<<29; c=a|b; d=1<<4; e=1<<14; f=d|e;
    SP6 = [b|d,c|z,z|e,c|f,c|z,z|d,c|f,a|z,b|e,a|f,a|z,b|d,a|d,b|e,b|z,z|f,
           z|z,a|d,b|f,z|e,a|e,b|f,z|d,c|d,c|d,z|z,a|f,c|e,z|f,a|e,c|e,b|z,
           b|e,z|d,c|d,a|e,c|f,a|z,z|f,b|d,a|z,b|e,b|z,z|f,b|d,c|f,a|e,c|z,
           a|f,c|e,z|z,c|d,z|d,z|e,c|z,a|f,z|e,a|d,b|f,z|z,c|e,b|z,a|d,b|f];
    a=1<<21; b=1<<26; c=a|b; d=1<<1; e=1<<11; f=d|e;
    SP7 = [a|z,c|d,b|f,z|z,z|e,b|f,a|f,c|e,c|f,a|z,z|z,b|d,z|d,b|z,c|d,z|f,
           b|e,a|f,a|d,b|e,b|d,c|z,c|e,a|d,c|z,z|e,z|f,c|f,a|e,z|d,b|z,a|e,
           b|z,a|e,a|z,b|f,b|f,c|d,c|d,z|d,a|d,b|z,b|e,a|z,c|e,z|f,a|f,c|e,
           z|f,b|d,c|f,c|z,a|e,z|z,z|d,c|f,z|z,a|f,c|z,z|e,b|d,b|e,z|e,a|d];
    a=1<<18; b=1<<28; c=a|b; d=1<<6; e=1<<12; f=d|e;
    SP8 = [b|f,z|e,a|z,c|f,b|z,b|f,z|d,b|z,a|d,c|z,c|f,a|e,c|e,a|f,z|e,z|d,
           c|z,b|d,b|e,z|f,a|e,a|d,c|d,c|e,z|f,z|z,z|z,c|d,b|d,b|e,a|f,a|z,
           a|f,a|z,c|e,z|e,z|d,c|d,z|e,a|f,b|e,z|d,b|d,c|z,c|d,b|z,a|z,b|f,
           z|z,c|f,a|d,b|d,c|z,b|e,b|f,z|z,c|f,a|e,a|e,z|f,z|f,a|d,b|z,c|e];

    // Set the key.
    function setKeys(keyBlock) {
        var i, j, l, m, n, o, pc1m = [], pcr = [], kn = [],
            raw0, raw1, rawi, KnLi;

        for (j = 0, l = 56; j < 56; ++j, l -= 8) {
            l += l < -5 ? 65 : l < -3 ? 31 : l < -1 ? 63 : l === 27 ? 35 : 0; // PC1
            m = l & 0x7;
            pc1m[j] = ((keyBlock[l >>> 3] & (1<<m)) !== 0) ? 1: 0;
        }

        for (i = 0; i < 16; ++i) {
            m = i << 1;
            n = m + 1;
            kn[m] = kn[n] = 0;
            for (o = 28; o < 59; o += 28) {
                for (j = o - 28; j < o; ++j) {
                    l = j + totrot[i];
                    if (l < o) {
                        pcr[j] = pc1m[l];
                    } else {
                        pcr[j] = pc1m[l - 28];
                    }
                }
            }
            for (j = 0; j < 24; ++j) {
                if (pcr[PC2[j]] !== 0) {
                    kn[m] |= 1 << (23 - j);
                }
                if (pcr[PC2[j + 24]] !== 0) {
                    kn[n] |= 1 << (23 - j);
                }
            }
        }

        // cookey
        for (i = 0, rawi = 0, KnLi = 0; i < 16; ++i) {
            raw0 = kn[rawi++];
            raw1 = kn[rawi++];
            keys[KnLi] = (raw0 & 0x00fc0000) << 6;
            keys[KnLi] |= (raw0 & 0x00000fc0) << 10;
            keys[KnLi] |= (raw1 & 0x00fc0000) >>> 10;
            keys[KnLi] |= (raw1 & 0x00000fc0) >>> 6;
            ++KnLi;
            keys[KnLi] = (raw0 & 0x0003f000) << 12;
            keys[KnLi] |= (raw0 & 0x0000003f) << 16;
            keys[KnLi] |= (raw1 & 0x0003f000) >>> 4;
            keys[KnLi] |= (raw1 & 0x0000003f);
            ++KnLi;
        }
    }

    // Encrypt 8 bytes of text
    function enc8(text) {
        var i = 0, b = text.slice(), fval, keysi = 0,
            l, r, x; // left, right, accumulator

        // Squash 8 bytes to 2 ints
        l = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];
        r = b[i++]<<24 | b[i++]<<16 | b[i++]<<8 | b[i++];

        x = ((l >>> 4) ^ r) & 0x0f0f0f0f;
        r ^= x;
        l ^= (x << 4);
        x = ((l >>> 16) ^ r) & 0x0000ffff;
        r ^= x;
        l ^= (x << 16);
        x = ((r >>> 2) ^ l) & 0x33333333;
        l ^= x;
        r ^= (x << 2);
        x = ((r >>> 8) ^ l) & 0x00ff00ff;
        l ^= x;
        r ^= (x << 8);
        r = (r << 1) | ((r >>> 31) & 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 1) | ((l >>> 31) & 1);

        for (i = 0; i < 8; ++i) {
            x = (r << 28) | (r >>> 4);
            x ^= keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = r ^ keys[keysi++];
            fval |= SP8[x & 0x3f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            l ^= fval;
            x = (l << 28) | (l >>> 4);
            x ^= keys[keysi++];
            fval =  SP7[x & 0x3f];
            fval |= SP5[(x >>> 8) & 0x3f];
            fval |= SP3[(x >>> 16) & 0x3f];
            fval |= SP1[(x >>> 24) & 0x3f];
            x = l ^ keys[keysi++];
            fval |= SP8[x & 0x0000003f];
            fval |= SP6[(x >>> 8) & 0x3f];
            fval |= SP4[(x >>> 16) & 0x3f];
            fval |= SP2[(x >>> 24) & 0x3f];
            r ^= fval;
        }

        r = (r << 31) | (r >>> 1);
        x = (l ^ r) & 0xaaaaaaaa;
        l ^= x;
        r ^= x;
        l = (l << 31) | (l >>> 1);
        x = ((l >>> 8) ^ r) & 0x00ff00ff;
        r ^= x;
        l ^= (x << 8);
        x = ((l >>> 2) ^ r) & 0x33333333;
        r ^= x;
        l ^= (x << 2);
        x = ((r >>> 16) ^ l) & 0x0000ffff;
        l ^= x;
        r ^= (x << 16);
        x = ((r >>> 4) ^ l) & 0x0f0f0f0f;
        l ^= x;
        r ^= (x << 4);

        // Spread ints to bytes
        x = [r, l];
        for (i = 0; i < 8; i++) {
            b[i] = (x[i>>>2] >>> (8 * (3 - (i % 4)))) % 256;
            if (b[i] < 0) { b[i] += 256; } // unsigned
        }
        return b;
    }

    // Encrypt 16 bytes of text using passwd as key
    function encrypt(t) {
        return enc8(t.slice(0, 8)).concat(enc8(t.slice(8, 16)));
    }

    setKeys(passwd);             // Setup keys
    return {'encrypt': encrypt}; // Public interface

}; // function DES


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/display.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/display.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Display; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base64.js */ "./node_modules/@novnc/novnc/core/base64.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2015 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */




function Display(target) {
    this._drawCtx = null;
    this._c_forceCanvas = false;

    this._renderQ = [];  // queue drawing actions for in-oder rendering
    this._flushing = false;

    // the full frame buffer (logical canvas) size
    this._fb_width = 0;
    this._fb_height = 0;

    this._prevDrawStyle = "";
    this._tile = null;
    this._tile16x16 = null;
    this._tile_x = 0;
    this._tile_y = 0;

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Display.constructor");

    // The visible canvas
    this._target = target;

    if (!this._target) {
        throw new Error("Target must be set");
    }

    if (typeof this._target === 'string') {
        throw new Error('target must be a DOM element');
    }

    if (!this._target.getContext) {
        throw new Error("no getContext method");
    }

    this._targetCtx = this._target.getContext('2d');

    // the visible canvas viewport (i.e. what actually gets seen)
    this._viewportLoc = { 'x': 0, 'y': 0, 'w': this._target.width, 'h': this._target.height };

    // The hidden canvas, where we do the actual rendering
    this._backbuffer = document.createElement('canvas');
    this._drawCtx = this._backbuffer.getContext('2d');

    this._damageBounds = { left:0, top:0,
                           right: this._backbuffer.width,
                           bottom: this._backbuffer.height };

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("User Agent: " + navigator.userAgent);

    this.clear();

    // Check canvas features
    if (!('createImageData' in this._drawCtx)) {
        throw new Error("Canvas does not support createImageData");
    }

    this._tile16x16 = this._drawCtx.createImageData(16, 16);
    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Display.constructor");
};

var SUPPORTS_IMAGEDATA_CONSTRUCTOR = false;
try {
    new ImageData(new Uint8ClampedArray(4), 1, 1);
    SUPPORTS_IMAGEDATA_CONSTRUCTOR = true;
} catch (ex) {
    // ignore failure
}

Display.prototype = {
    // ===== PROPERTIES =====

    _scale: 1.0,
    get scale() { return this._scale; },
    set scale(scale) {
        this._rescale(scale);
    },

    _clipViewport: false,
    get clipViewport() { return this._clipViewport; },
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        // May need to readjust the viewport dimensions
        var vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    },

    get width() {
        return this._fb_width;
    },
    get height() {
        return this._fb_height;
    },

    logo: null,

    // ===== EVENT HANDLERS =====

    onflush: function () {},        // A flush request has finished

    // ===== PUBLIC METHODS =====

    viewportChangePos: function (deltaX, deltaY) {
        var vp = this._viewportLoc;
        deltaX = Math.floor(deltaX);
        deltaY = Math.floor(deltaY);

        if (!this._clipViewport) {
            deltaX = -vp.w;  // clamped later of out of bounds
            deltaY = -vp.h;
        }

        var vx2 = vp.x + vp.w - 1;
        var vy2 = vp.y + vp.h - 1;

        // Position change

        if (deltaX < 0 && vp.x + deltaX < 0) {
            deltaX = -vp.x;
        }
        if (vx2 + deltaX >= this._fb_width) {
            deltaX -= vx2 + deltaX - this._fb_width + 1;
        }

        if (vp.y + deltaY < 0) {
            deltaY = -vp.y;
        }
        if (vy2 + deltaY >= this._fb_height) {
            deltaY -= (vy2 + deltaY - this._fb_height + 1);
        }

        if (deltaX === 0 && deltaY === 0) {
            return;
        }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("viewportChange deltaX: " + deltaX + ", deltaY: " + deltaY);

        vp.x += deltaX;
        vp.y += deltaY;

        this._damage(vp.x, vp.y, vp.w, vp.h);

        this.flip();
    },

    viewportChangeSize: function(width, height) {

        if (!this._clipViewport ||
            typeof(width) === "undefined" ||
            typeof(height) === "undefined") {

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Setting viewport to full display region");
            width = this._fb_width;
            height = this._fb_height;
        }

        if (width > this._fb_width) {
            width = this._fb_width;
        }
        if (height > this._fb_height) {
            height = this._fb_height;
        }

        var vp = this._viewportLoc;
        if (vp.w !== width || vp.h !== height) {
            vp.w = width;
            vp.h = height;

            var canvas = this._target;
            canvas.width = width;
            canvas.height = height;

            // The position might need to be updated if we've grown
            this.viewportChangePos(0, 0);

            this._damage(vp.x, vp.y, vp.w, vp.h);
            this.flip();

            // Update the visible size of the target canvas
            this._rescale(this._scale);
        }
    },

    absX: function (x) {
        return x / this._scale + this._viewportLoc.x;
    },

    absY: function (y) {
        return y / this._scale + this._viewportLoc.y;
    },

    resize: function (width, height) {
        this._prevDrawStyle = "";

        this._fb_width = width;
        this._fb_height = height;

        var canvas = this._backbuffer;
        if (canvas.width !== width || canvas.height !== height) {

            // We have to save the canvas data since changing the size will clear it
            var saveImg = null;
            if (canvas.width > 0 && canvas.height > 0) {
                saveImg = this._drawCtx.getImageData(0, 0, canvas.width, canvas.height);
            }

            if (canvas.width !== width) {
                canvas.width = width;
            }
            if (canvas.height !== height) {
                canvas.height = height;
            }

            if (saveImg) {
                this._drawCtx.putImageData(saveImg, 0, 0);
            }
        }

        // Readjust the viewport as it may be incorrectly sized
        // and positioned
        var vp = this._viewportLoc;
        this.viewportChangeSize(vp.w, vp.h);
        this.viewportChangePos(0, 0);
    },

    // Track what parts of the visible canvas that need updating
    _damage: function(x, y, w, h) {
        if (x < this._damageBounds.left) {
            this._damageBounds.left = x;
        }
        if (y < this._damageBounds.top) {
            this._damageBounds.top = y;
        }
        if ((x + w) > this._damageBounds.right) {
            this._damageBounds.right = x + w;
        }
        if ((y + h) > this._damageBounds.bottom) {
            this._damageBounds.bottom = y + h;
        }
    },

    // Update the visible canvas with the contents of the
    // rendering canvas
    flip: function(from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'flip'
            });
        } else {
            var x, y, vx, vy, w, h;

            x = this._damageBounds.left;
            y = this._damageBounds.top;
            w = this._damageBounds.right - x;
            h = this._damageBounds.bottom - y;

            vx = x - this._viewportLoc.x;
            vy = y - this._viewportLoc.y;

            if (vx < 0) {
                w += vx;
                x -= vx;
                vx = 0;
            }
            if (vy < 0) {
                h += vy;
                y -= vy;
                vy = 0;
            }

            if ((vx + w) > this._viewportLoc.w) {
                w = this._viewportLoc.w - vx;
            }
            if ((vy + h) > this._viewportLoc.h) {
                h = this._viewportLoc.h - vy;
            }

            if ((w > 0) && (h > 0)) {
                // FIXME: We may need to disable image smoothing here
                //        as well (see copyImage()), but we haven't
                //        noticed any problem yet.
                this._targetCtx.drawImage(this._backbuffer,
                                          x, y, w, h,
                                          vx, vy, w, h);
            }

            this._damageBounds.left = this._damageBounds.top = 65535;
            this._damageBounds.right = this._damageBounds.bottom = 0;
        }
    },

    clear: function () {
        if (this._logo) {
            this.resize(this._logo.width, this._logo.height);
            this.imageRect(0, 0, this._logo.type, this._logo.data);
        } else {
            this.resize(240, 20);
            this._drawCtx.clearRect(0, 0, this._fb_width, this._fb_height);
        }
        this.flip();
    },

    pending: function() {
        return this._renderQ.length > 0;
    },

    flush: function() {
        if (this._renderQ.length === 0) {
            this.onflush();
        } else {
            this._flushing = true;
        }
    },

    fillRect: function (x, y, width, height, color, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'fill',
                'x': x,
                'y': y,
                'width': width,
                'height': height,
                'color': color
            });
        } else {
            this._setFillColor(color);
            this._drawCtx.fillRect(x, y, width, height);
            this._damage(x, y, width, height);
        }
    },

    copyImage: function (old_x, old_y, new_x, new_y, w, h, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            this._renderQ_push({
                'type': 'copy',
                'old_x': old_x,
                'old_y': old_y,
                'x': new_x,
                'y': new_y,
                'width': w,
                'height': h,
            });
        } else {
            // Due to this bug among others [1] we need to disable the image-smoothing to
            // avoid getting a blur effect when copying data.
            //
            // 1. https://bugzilla.mozilla.org/show_bug.cgi?id=1194719
            //
            // We need to set these every time since all properties are reset
            // when the the size is changed
            this._drawCtx.mozImageSmoothingEnabled = false;
            this._drawCtx.webkitImageSmoothingEnabled = false;
            this._drawCtx.msImageSmoothingEnabled = false;
            this._drawCtx.imageSmoothingEnabled = false;

            this._drawCtx.drawImage(this._backbuffer,
                                    old_x, old_y, w, h,
                                    new_x, new_y, w, h);
            this._damage(new_x, new_y, w, h);
        }
    },

    imageRect: function(x, y, mime, arr) {
        var img = new Image();
        img.src = "data: " + mime + ";base64," + _base64_js__WEBPACK_IMPORTED_MODULE_1__["default"].encode(arr);
        this._renderQ_push({
            'type': 'img',
            'img': img,
            'x': x,
            'y': y
        });
    },

    // start updating a tile
    startTile: function (x, y, width, height, color) {
        this._tile_x = x;
        this._tile_y = y;
        if (width === 16 && height === 16) {
            this._tile = this._tile16x16;
        } else {
            this._tile = this._drawCtx.createImageData(width, height);
        }

        var red = color[2];
        var green = color[1];
        var blue = color[0];

        var data = this._tile.data;
        for (var i = 0; i < width * height * 4; i += 4) {
            data[i] = red;
            data[i + 1] = green;
            data[i + 2] = blue;
            data[i + 3] = 255;
        }
    },

    // update sub-rectangle of the current tile
    subTile: function (x, y, w, h, color) {
        var red = color[2];
        var green = color[1];
        var blue = color[0];
        var xend = x + w;
        var yend = y + h;

        var data = this._tile.data;
        var width = this._tile.width;
        for (var j = y; j < yend; j++) {
            for (var i = x; i < xend; i++) {
                var p = (i + (j * width)) * 4;
                data[p] = red;
                data[p + 1] = green;
                data[p + 2] = blue;
                data[p + 3] = 255;
            }
        }
    },

    // draw the current tile to the screen
    finishTile: function () {
        this._drawCtx.putImageData(this._tile, this._tile_x, this._tile_y);
        this._damage(this._tile_x, this._tile_y,
                     this._tile.width, this._tile.height);
    },

    blitImage: function (x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blit',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._bgrxImageData(x, y, width, height, arr, offset);
        }
    },

    blitRgbImage: function (x, y , width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 3);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgb',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbImageData(x, y, width, height, arr, offset);
        }
    },

    blitRgbxImage: function (x, y, width, height, arr, offset, from_queue) {
        if (this._renderQ.length !== 0 && !from_queue) {
            // NB(directxman12): it's technically more performant here to use preallocated arrays,
            // but it's a lot of extra work for not a lot of payoff -- if we're using the render queue,
            // this probably isn't getting called *nearly* as much
            var new_arr = new Uint8Array(width * height * 4);
            new_arr.set(new Uint8Array(arr.buffer, 0, new_arr.length));
            this._renderQ_push({
                'type': 'blitRgbx',
                'data': new_arr,
                'x': x,
                'y': y,
                'width': width,
                'height': height,
            });
        } else {
            this._rgbxImageData(x, y, width, height, arr, offset);
        }
    },

    drawImage: function (img, x, y) {
        this._drawCtx.drawImage(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    changeCursor: function (pixels, mask, hotx, hoty, w, h) {
        Display.changeCursor(this._target, pixels, mask, hotx, hoty, w, h);
    },

    defaultCursor: function () {
        this._target.style.cursor = "default";
    },

    disableLocalCursor: function () {
        this._target.style.cursor = "none";
    },

    autoscale: function (containerWidth, containerHeight) {
        var vp = this._viewportLoc;
        var targetAspectRatio = containerWidth / containerHeight;
        var fbAspectRatio = vp.w / vp.h;

        var scaleRatio;
        if (fbAspectRatio >= targetAspectRatio) {
            scaleRatio = containerWidth / vp.w;
        } else {
            scaleRatio = containerHeight / vp.h;
        }

        this._rescale(scaleRatio);
    },

    // ===== PRIVATE METHODS =====

    _rescale: function (factor) {
        this._scale = factor;
        var vp = this._viewportLoc;

        // NB(directxman12): If you set the width directly, or set the
        //                   style width to a number, the canvas is cleared.
        //                   However, if you set the style width to a string
        //                   ('NNNpx'), the canvas is scaled without clearing.
        var width = Math.round(factor * vp.w) + 'px';
        var height = Math.round(factor * vp.h) + 'px';

        if ((this._target.style.width !== width) ||
            (this._target.style.height !== height)) {
            this._target.style.width = width;
            this._target.style.height = height;
        }
    },

    _setFillColor: function (color) {
        var newStyle = 'rgb(' + color[2] + ',' + color[1] + ',' + color[0] + ')';
        if (newStyle !== this._prevDrawStyle) {
            this._drawCtx.fillStyle = newStyle;
            this._prevDrawStyle = newStyle;
        }
    },

    _rgbImageData: function (x, y, width, height, arr, offset) {
        var img = this._drawCtx.createImageData(width, height);
        var data = img.data;
        for (var i = 0, j = offset; i < width * height * 4; i += 4, j += 3) {
            data[i]     = arr[j];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j + 2];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _bgrxImageData: function (x, y, width, height, arr, offset) {
        var img = this._drawCtx.createImageData(width, height);
        var data = img.data;
        for (var i = 0, j = offset; i < width * height * 4; i += 4, j += 4) {
            data[i]     = arr[j + 2];
            data[i + 1] = arr[j + 1];
            data[i + 2] = arr[j];
            data[i + 3] = 255;  // Alpha
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _rgbxImageData: function (x, y, width, height, arr, offset) {
        // NB(directxman12): arr must be an Type Array view
        var img;
        if (SUPPORTS_IMAGEDATA_CONSTRUCTOR) {
            img = new ImageData(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4), width, height);
        } else {
            img = this._drawCtx.createImageData(width, height);
            img.data.set(new Uint8ClampedArray(arr.buffer, arr.byteOffset, width * height * 4));
        }
        this._drawCtx.putImageData(img, x, y);
        this._damage(x, y, img.width, img.height);
    },

    _renderQ_push: function (action) {
        this._renderQ.push(action);
        if (this._renderQ.length === 1) {
            // If this can be rendered immediately it will be, otherwise
            // the scanner will wait for the relevant event
            this._scan_renderQ();
        }
    },

    _resume_renderQ: function() {
        // "this" is the object that is ready, not the
        // display object
        this.removeEventListener('load', this._noVNC_display._resume_renderQ);
        this._noVNC_display._scan_renderQ();
    },

    _scan_renderQ: function () {
        var ready = true;
        while (ready && this._renderQ.length > 0) {
            var a = this._renderQ[0];
            switch (a.type) {
                case 'flip':
                    this.flip(true);
                    break;
                case 'copy':
                    this.copyImage(a.old_x, a.old_y, a.x, a.y, a.width, a.height, true);
                    break;
                case 'fill':
                    this.fillRect(a.x, a.y, a.width, a.height, a.color, true);
                    break;
                case 'blit':
                    this.blitImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgb':
                    this.blitRgbImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'blitRgbx':
                    this.blitRgbxImage(a.x, a.y, a.width, a.height, a.data, 0, true);
                    break;
                case 'img':
                    if (a.img.complete) {
                        this.drawImage(a.img, a.x, a.y);
                    } else {
                        a.img._noVNC_display = this;
                        a.img.addEventListener('load', this._resume_renderQ);
                        // We need to wait for this image to 'load'
                        // to keep things in-order
                        ready = false;
                    }
                    break;
            }

            if (ready) {
                this._renderQ.shift();
            }
        }

        if (this._renderQ.length === 0 && this._flushing) {
            this._flushing = false;
            this.onflush();
        }
    },
};

// Class Methods
Display.changeCursor = function (target, pixels, mask, hotx, hoty, w, h) {
    if ((w === 0) || (h === 0)) {
        target.style.cursor = 'none';
        return;
    }

    var cur = []
    var y, x;
    for (y = 0; y < h; y++) {
        for (x = 0; x < w; x++) {
            var idx = y * Math.ceil(w / 8) + Math.floor(x / 8);
            var alpha = (mask[idx] << (x % 8)) & 0x80 ? 255 : 0;
            idx = ((w * y) + x) * 4;
            cur.push(pixels[idx + 2]); // red
            cur.push(pixels[idx + 1]); // green
            cur.push(pixels[idx]);     // blue
            cur.push(alpha);           // alpha
        }
    }

    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    canvas.width = w;
    canvas.height = h;

    var img;
    if (SUPPORTS_IMAGEDATA_CONSTRUCTOR) {
        img = new ImageData(new Uint8ClampedArray(cur), w, h);
    } else {
        img = ctx.createImageData(w, h);
        img.data.set(new Uint8ClampedArray(cur));
    }
    ctx.clearRect(0, 0, w, h);
    ctx.putImageData(img, 0, 0);

    var url = canvas.toDataURL();
    target.style.cursor = 'url(' + url + ')' + hotx + ' ' + hoty + ', default';
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/encodings.js":
/*!*****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/encodings.js ***!
  \*****************************************************/
/*! exports provided: encodings, encodingName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodings", function() { return encodings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodingName", function() { return encodingName; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

var encodings = {
    encodingRaw: 0,
    encodingCopyRect: 1,
    encodingRRE: 2,
    encodingHextile: 5,
    encodingTight: 7,

    pseudoEncodingQualityLevel9: -23,
    pseudoEncodingQualityLevel0: -32,
    pseudoEncodingDesktopSize: -223,
    pseudoEncodingLastRect: -224,
    pseudoEncodingCursor: -239,
    pseudoEncodingQEMUExtendedKeyEvent: -258,
    pseudoEncodingTightPNG: -260,
    pseudoEncodingExtendedDesktopSize: -308,
    pseudoEncodingXvp: -309,
    pseudoEncodingFence: -312,
    pseudoEncodingContinuousUpdates: -313,
    pseudoEncodingCompressLevel9: -247,
    pseudoEncodingCompressLevel0: -256,
};

function encodingName(num) {
    switch (num) {
        case encodings.encodingRaw:      return "Raw";
        case encodings.encodingCopyRect: return "CopyRect";
        case encodings.encodingRRE:      return "RRE";
        case encodings.encodingHextile:  return "Hextile";
        case encodings.encodingTight:    return "Tight";
        default:                         return "[unknown encoding " + num + "]";
    }
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/inflator.js":
/*!****************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/inflator.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Inflate; });
/* harmony import */ var _vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/inflate.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js");
/* harmony import */ var _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vendor/pako/lib/zlib/zstream.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js");



Inflate.prototype = {
    inflate: function (data, flush, expected) {
        this.strm.input = data;
        this.strm.avail_in = this.strm.input.length;
        this.strm.next_in = 0;
        this.strm.next_out = 0;

        // resize our output buffer if it's too small
        // (we could just use multiple chunks, but that would cause an extra
        // allocation each time to flatten the chunks)
        if (expected > this.chunkSize) {
            this.chunkSize = expected;
            this.strm.output = new Uint8Array(this.chunkSize);
        }

        this.strm.avail_out = this.chunkSize;

        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflate"])(this.strm, flush);

        return new Uint8Array(this.strm.output.buffer, 0, this.strm.next_out);
    },

    reset: function () {
        Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateReset"])(this.strm);
    }
};

function Inflate() {
    this.strm = new _vendor_pako_lib_zlib_zstream_js__WEBPACK_IMPORTED_MODULE_1__["default"]();
    this.chunkSize = 1024 * 10 * 10;
    this.strm.output = new Uint8Array(this.chunkSize);
    this.windowBits = 5;

    Object(_vendor_pako_lib_zlib_inflate_js__WEBPACK_IMPORTED_MODULE_0__["inflateInit"])(this.strm, this.windowBits);
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/domkeytable.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/domkeytable.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */



/*
 * Mapping between HTML key values and VNC/X11 keysyms for "special"
 * keys that cannot be handled via their Unicode codepoint.
 *
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

var DOMKeyTable = {};

function addStandard(key, standard)
{
    if (standard === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [standard, standard, standard, standard];
}

function addLeftRight(key, left, right)
{
    if (left === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (right === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [left, left, right, left];
}

function addNumpad(key, standard, numpad)
{
    if (standard === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (numpad === undefined) throw "Undefined keysym for key \"" + key + "\"";
    if (key in DOMKeyTable) throw "Duplicate entry for key \"" + key + "\"";
    DOMKeyTable[key] = [standard, standard, standard, numpad];
}

// 2.2. Modifier Keys

addLeftRight("Alt", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Alt_R);
addStandard("AltGraph", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Level3_Shift);
addStandard("CapsLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Caps_Lock);
addLeftRight("Control", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Control_R);
// - Fn
// - FnLock
addLeftRight("Hyper", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addLeftRight("Meta", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
addStandard("NumLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Num_Lock);
addStandard("ScrollLock", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Scroll_Lock);
addLeftRight("Shift", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Shift_R);
addLeftRight("Super", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_L, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Super_R);
// - Symbol
// - SymbolLock

// 2.3. Whitespace Keys

addNumpad("Enter", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Return, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Enter);
addStandard("Tab", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Tab);
addNumpad(" ", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_space, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Space);

// 2.4. Navigation Keys

addNumpad("ArrowDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Down, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Down);
addNumpad("ArrowUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Up, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Up);
addNumpad("ArrowLeft", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Left, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Left);
addNumpad("ArrowRight", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Right, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Right);
addNumpad("End", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_End, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_End);
addNumpad("Home", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Home, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Home);
addNumpad("PageDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Next, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Next);
addNumpad("PageUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Prior, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Prior);

// 2.5. Editing Keys

addStandard("Backspace", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_BackSpace);
addStandard("Clear", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Clear);
addStandard("Copy", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Copy);
// - CrSel
addStandard("Cut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Cut);
addNumpad("Delete", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Delete, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Delete);
// - EraseEof
// - ExSel
addNumpad("Insert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Insert, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Insert);
addStandard("Paste", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Paste);
addStandard("Redo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Redo);
addStandard("Undo", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Undo);

// 2.6. UI Keys

// - Accept
// - Again (could just be XK_Redo)
// - Attn
addStandard("Cancel", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Cancel);
addStandard("ContextMenu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Menu);
addStandard("Escape", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Escape);
addStandard("Execute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Execute);
addStandard("Find", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Find);
addStandard("Help", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Help);
addStandard("Pause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Pause);
// - Play
// - Props
addStandard("Select", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Select);
addStandard("ZoomIn", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomIn);
addStandard("ZoomOut", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ZoomOut);

// 2.7. Device Keys

addStandard("BrightnessDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessDown);
addStandard("BrightnessUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MonBrightnessUp);
addStandard("Eject", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Eject);
addStandard("LogOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_LogOff);
addStandard("Power", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerOff);
addStandard("PowerOff", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_PowerDown);
addStandard("PrintScreen", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Hibernate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Hibernate);
addStandard("Standby", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Standby);
addStandard("WakeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WakeUp);

// 2.8. IME and Composition Keys

addStandard("AllCandidates", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_MultipleCandidate);
addStandard("Alphanumeric", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_Shift); // could also be _Eisu_Toggle
addStandard("CodeInput", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Codeinput);
addStandard("Compose", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Multi_key);
addStandard("Convert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Henkan);
// - Dead
// - FinalMode
addStandard("GroupFirst", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_First_Group);
addStandard("GroupLast", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Last_Group);
addStandard("GroupNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Next_Group);
addStandard("GroupPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_ISO_Prev_Group);
// - ModeChange (XK_Mode_switch is often used for AltGr)
// - NextCandidate
addStandard("NonConvert", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Muhenkan);
addStandard("PreviousCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_PreviousCandidate);
// - Process
addStandard("SingleCandidate", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_SingleCandidate);
addStandard("HangulMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul);
addStandard("HanjaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Hanja);
addStandard("JunjuaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hangul_Jeonja);
addStandard("Eisu", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Eisu_toggle);
addStandard("Hankaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hankaku);
addStandard("Hiragana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana);
addStandard("HiraganaKatakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Hiragana_Katakana);
addStandard("KanaMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kana_Shift); // could also be _Kana_Lock
addStandard("KanjiMode", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Kanji);
addStandard("Katakana", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Katakana);
addStandard("Romaji", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Romaji);
addStandard("Zenkaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku);
addStandard("ZenkakuHanaku", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Zenkaku_Hankaku);

// 2.9. General-Purpose Function Keys

addStandard("F1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F1);
addStandard("F2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F2);
addStandard("F3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F3);
addStandard("F4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F4);
addStandard("F5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F5);
addStandard("F6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F6);
addStandard("F7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F7);
addStandard("F8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F8);
addStandard("F9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F9);
addStandard("F10", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F10);
addStandard("F11", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F11);
addStandard("F12", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F12);
addStandard("F13", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F13);
addStandard("F14", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F14);
addStandard("F15", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F15);
addStandard("F16", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F16);
addStandard("F17", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F17);
addStandard("F18", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F18);
addStandard("F19", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F19);
addStandard("F20", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F20);
addStandard("F21", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F21);
addStandard("F22", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F22);
addStandard("F23", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F23);
addStandard("F24", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F24);
addStandard("F25", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F25);
addStandard("F26", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F26);
addStandard("F27", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F27);
addStandard("F28", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F28);
addStandard("F29", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F29);
addStandard("F30", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F30);
addStandard("F31", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F31);
addStandard("F32", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F32);
addStandard("F33", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F33);
addStandard("F34", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F34);
addStandard("F35", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_F35);
// - Soft1...

// 2.10. Multimedia Keys

// - ChannelDown
// - ChannelUp
addStandard("Close", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Close);
addStandard("MailForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MailForward);
addStandard("MailReply", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Reply);
addStandard("MainSend", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Send);
addStandard("MediaFastForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioForward);
addStandard("MediaPause", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPause);
addStandard("MediaPlay", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPlay);
addStandard("MediaRecord", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRecord);
addStandard("MediaRewind", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRewind);
addStandard("MediaStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioStop);
addStandard("MediaTrackNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioNext);
addStandard("MediaTrackPrevious", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioPrev);
addStandard("New", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_New);
addStandard("Open", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Open);
addStandard("Print", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_Print);
addStandard("Save", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Save);
addStandard("SpellCheck", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Spell);

// 2.11. Multimedia Numpad Keys

// - Key11
// - Key12

// 2.12. Audio Keys

// - AudioBalanceLeft
// - AudioBalanceRight
// - AudioBassDown
// - AudioBassBoostDown
// - AudioBassBoostToggle
// - AudioBassBoostUp
// - AudioBassUp
// - AudioFaderFront
// - AudioFaderRear
// - AudioSurroundModeNext
// - AudioTrebleDown
// - AudioTrebleUp
addStandard("AudioVolumeDown", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioLowerVolume);
addStandard("AudioVolumeUp", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRaiseVolume);
addStandard("AudioVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMute);
// - MicrophoneToggle
// - MicrophoneVolumeDown
// - MicrophoneVolumeUp
addStandard("MicrophoneVolumeMute", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMicMute);

// 2.13. Speech Keys

// - SpeechCorrectionList
// - SpeechInputToggle

// 2.14. Application Keys

addStandard("LaunchCalculator", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calculator);
addStandard("LaunchCalendar", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Calendar);
addStandard("LaunchMail", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Mail);
addStandard("LaunchMediaPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioMedia);
addStandard("LaunchMusicPlayer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Music);
addStandard("LaunchMyComputer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_MyComputer);
addStandard("LaunchPhone", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Phone);
addStandard("LaunchScreenSaver", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_ScreenSaver);
addStandard("LaunchSpreadsheet", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Excel);
addStandard("LaunchWebBrowser", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WWW);
addStandard("LaunchWebCam", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_WebCam);
addStandard("LaunchWordProcessor", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Word);

// 2.15. Browser Keys

addStandard("BrowserBack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Back);
addStandard("BrowserFavorites", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Favorites);
addStandard("BrowserForward", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Forward);
addStandard("BrowserHome", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_HomePage);
addStandard("BrowserRefresh", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Refresh);
addStandard("BrowserSearch", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Search);
addStandard("BrowserStop", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Stop);

// 2.16. Mobile Phone Keys

// - A whole bunch...

// 2.17. TV Keys

// - A whole bunch...

// 2.18. Media Controller Keys

// - A whole bunch...
addStandard("Dimmer", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_BrightnessAdjust);
addStandard("MediaAudioTrack", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioCycleTrack);
addStandard("RandomToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_AudioRandomPlay);
addStandard("SplitScreenToggle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_SplitScreen);
addStandard("Subtitle", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Subtitle);
addStandard("VideoModeNext", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XF86XK_Next_VMode);

// Extra: Numpad

addNumpad("=", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_equal, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Equal);
addNumpad("+", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_plus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Add);
addNumpad("-", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_minus, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Subtract);
addNumpad("*", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_asterisk, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Multiply);
addNumpad("/", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_slash, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Divide);
addNumpad(".", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_period, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Decimal);
addNumpad(",", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_comma, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_Separator);
addNumpad("0", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_0, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_0);
addNumpad("1", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_1, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_1);
addNumpad("2", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_2, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_2);
addNumpad("3", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_3, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_3);
addNumpad("4", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_4, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_4);
addNumpad("5", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_5, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_5);
addNumpad("6", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_6, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_6);
addNumpad("7", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_7, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_7);
addNumpad("8", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_8, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_8);
addNumpad("9", _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_9, _keysym_js__WEBPACK_IMPORTED_MODULE_0__["default"].XK_KP_9);

/* harmony default export */ __webpack_exports__["default"] = (DOMKeyTable);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/fixedkeys.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/fixedkeys.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Fallback mapping between HTML key codes (physical keys) and
 * HTML key values. This only works for keys that don't vary
 * between layouts. We also omit those who manage fine by mapping the
 * Unicode representation.
 *
 * See https://www.w3.org/TR/uievents-code/ for possible codes.
 * See https://www.w3.org/TR/uievents-key/ for possible values.
 */

/* harmony default export */ __webpack_exports__["default"] = ({

// 3.1.1.1. Writing System Keys

    'Backspace':        'Backspace',

// 3.1.1.2. Functional Keys

    'AltLeft':          'Alt',
    'AltRight':         'Alt', // This could also be 'AltGraph'
    'CapsLock':         'CapsLock',
    'ContextMenu':      'ContextMenu',
    'ControlLeft':      'Control',
    'ControlRight':     'Control',
    'Enter':            'Enter',
    'MetaLeft':         'Meta',
    'MetaRight':        'Meta',
    'ShiftLeft':        'Shift',
    'ShiftRight':       'Shift',
    'Tab':              'Tab',
    // FIXME: Japanese/Korean keys

// 3.1.2. Control Pad Section

    'Delete':           'Delete',
    'End':              'End',
    'Help':             'Help',
    'Home':             'Home',
    'Insert':           'Insert',
    'PageDown':         'PageDown',
    'PageUp':           'PageUp',

// 3.1.3. Arrow Pad Section

    'ArrowDown':        'ArrowDown',
    'ArrowLeft':        'ArrowLeft',
    'ArrowRight':       'ArrowRight',
    'ArrowUp':          'ArrowUp',

// 3.1.4. Numpad Section

    'NumLock':          'NumLock',
    'NumpadBackspace':  'Backspace',
    'NumpadClear':      'Clear',

// 3.1.5. Function Section

    'Escape':           'Escape',
    'F1':               'F1',
    'F2':               'F2',
    'F3':               'F3',
    'F4':               'F4',
    'F5':               'F5',
    'F6':               'F6',
    'F7':               'F7',
    'F8':               'F8',
    'F9':               'F9',
    'F10':              'F10',
    'F11':              'F11',
    'F12':              'F12',
    'F13':              'F13',
    'F14':              'F14',
    'F15':              'F15',
    'F16':              'F16',
    'F17':              'F17',
    'F18':              'F18',
    'F19':              'F19',
    'F20':              'F20',
    'F21':              'F21',
    'F22':              'F22',
    'F23':              'F23',
    'F24':              'F24',
    'F25':              'F25',
    'F26':              'F26',
    'F27':              'F27',
    'F28':              'F28',
    'F29':              'F29',
    'F30':              'F30',
    'F31':              'F31',
    'F32':              'F32',
    'F33':              'F33',
    'F34':              'F34',
    'F35':              'F35',
    'PrintScreen':      'PrintScreen',
    'ScrollLock':       'ScrollLock',
    'Pause':            'Pause',

// 3.1.6. Media Keys

    'BrowserBack':      'BrowserBack',
    'BrowserFavorites': 'BrowserFavorites',
    'BrowserForward':   'BrowserForward',
    'BrowserHome':      'BrowserHome',
    'BrowserRefresh':   'BrowserRefresh',
    'BrowserSearch':    'BrowserSearch',
    'BrowserStop':      'BrowserStop',
    'Eject':            'Eject',
    'LaunchApp1':       'LaunchMyComputer',
    'LaunchApp2':       'LaunchCalendar',
    'LaunchMail':       'LaunchMail',
    'MediaPlayPause':   'MediaPlay',
    'MediaStop':        'MediaStop',
    'MediaTrackNext':   'MediaTrackNext',
    'MediaTrackPrevious': 'MediaTrackPrevious',
    'Power':            'Power',
    'Sleep':            'Sleep',
    'AudioVolumeDown':  'AudioVolumeDown',
    'AudioVolumeMute':  'AudioVolumeMute',
    'AudioVolumeUp':    'AudioVolumeUp',
    'WakeUp':           'WakeUp',
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keyboard.js":
/*!**********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keyboard.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Keyboard; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ "./node_modules/@novnc/novnc/core/input/util.js");
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2013 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */







//
// Keyboard event handler
//

function Keyboard(target) {
    this._target = target || null;

    this._keyDownList = {};         // List of depressed keys
                                    // (even if they are happy)
    this._pendingKey = null;        // Key waiting for keypress

    // keep these here so we can refer to them later
    this._eventHandlers = {
        'keyup': this._handleKeyUp.bind(this),
        'keydown': this._handleKeyDown.bind(this),
        'keypress': this._handleKeyPress.bind(this),
        'blur': this._allKeysUp.bind(this)
    };
};

Keyboard.prototype = {
    // ===== EVENT HANDLERS =====

    onkeyevent: function () {},     // Handler for key press/release

    // ===== PRIVATE METHODS =====

    _sendKeyEvent: function (keysym, code, down) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onkeyevent " + (down ? "down" : "up") +
                  ", keysym: " + keysym, ", code: " + code);

        // Windows sends CtrlLeft+AltRight when you press
        // AltGraph, which tends to confuse the hell out of
        // remote systems. Fake a release of these keys until
        // there is a way to detect AltGraph properly.
        var fakeAltGraph = false;
        if (down && _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isWindows"]()) {
            if ((code !== 'ControlLeft') &&
                (code !== 'AltRight') &&
                ('ControlLeft' in this._keyDownList) &&
                ('AltRight' in this._keyDownList)) {
                fakeAltGraph = true;
                this.onkeyevent(this._keyDownList['AltRight'],
                                 'AltRight', false);
                this.onkeyevent(this._keyDownList['ControlLeft'],
                                 'ControlLeft', false);
            }
        }

        this.onkeyevent(keysym, code, down);

        if (fakeAltGraph) {
            this.onkeyevent(this._keyDownList['ControlLeft'],
                             'ControlLeft', true);
            this.onkeyevent(this._keyDownList['AltRight'],
                             'AltRight', true);
        }
    },

    _getKeyCode: function (e) {
        var code = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeycode"](e);
        if (code !== 'Unidentified') {
            return code;
        }

        // Unstable, but we don't have anything else to go on
        // (don't use it for 'keypress' events thought since
        // WebKit sets it to the same as charCode)
        if (e.keyCode && (e.type !== 'keypress')) {
            // 229 is used for composition events
            if (e.keyCode !== 229) {
                return 'Platform' + e.keyCode;
            }
        }

        // A precursor to the final DOM3 standard. Unfortunately it
        // is not layout independent, so it is as bad as using keyCode
        if (e.keyIdentifier) {
            // Non-character key?
            if (e.keyIdentifier.substr(0, 2) !== 'U+') {
                return e.keyIdentifier;
            }

            var codepoint = parseInt(e.keyIdentifier.substr(2), 16);
            var char = String.fromCharCode(codepoint);
            // Some implementations fail to uppercase the symbols
            char = char.toUpperCase();

            return 'Platform' + char.charCodeAt();
        }

        return 'Unidentified';
    },

    _handleKeyDown: function (e) {
        var code = this._getKeyCode(e);
        var keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // We cannot handle keys we cannot track, but we also need
        // to deal with virtual keyboards which omit key info
        // (iOS omits tracking info on keyup events, which forces us to
        // special treat that platform here)
        if ((code === 'Unidentified') || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIOS"]()) {
            if (keysym) {
                // If it's a virtual keyboard then it should be
                // sufficient to just send press and release right
                // after each other
                this._sendKeyEvent(keysym, code, true);
                this._sendKeyEvent(keysym, code, false);
            }

            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // Alt behaves more like AltGraph on macOS, so shuffle the
        // keys around a bit to make things more sane for the remote
        // server. This method is used by RealVNC and TigerVNC (and
        // possibly others).
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]()) {
            switch (keysym) {
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_R:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Super_L;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_L:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Mode_switch;
                break;
            case _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Alt_R:
                keysym = _keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_ISO_Level3_Shift;
                break;
            }
        }

        // Is this key already pressed? If so, then we must use the
        // same keysym or we'll confuse the server
        if (code in this._keyDownList) {
            keysym = this._keyDownList[code];
        }

        // macOS doesn't send proper key events for modifiers, only
        // state change events. That gets extra confusing for CapsLock
        // which toggles on each press, but not on release. So pretend
        // it was a quick press and release of the button.
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);
            return;
        }

        // If this is a legacy browser then we'll need to wait for
        // a keypress event as well
        // (IE and Edge has a broken KeyboardEvent.key, so we can't
        // just check for the presence of that field)
        if (!keysym && (!e.key || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isIE"]() || _util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isEdge"]())) {
            this._pendingKey = code;
            // However we might not get a keypress event if the key
            // is non-printable, which needs some special fallback
            // handling
            setTimeout(this._handleKeyPressTimeout.bind(this), 10, e);
            return;
        }

        this._pendingKey = null;
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },

    // Legacy event for browsers without code/key
    _handleKeyPress: function (e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        // Are we expecting a keypress?
        if (this._pendingKey === null) {
            return;
        }

        var code = this._getKeyCode(e);
        var keysym = _util_js__WEBPACK_IMPORTED_MODULE_2__["getKeysym"](e);

        // The key we were waiting for?
        if ((code !== 'Unidentified') && (code != this._pendingKey)) {
            return;
        }

        code = this._pendingKey;
        this._pendingKey = null;

        if (!keysym) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]('keypress with no keysym:', e);
            return;
        }

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },
    _handleKeyPressTimeout: function (e) {
        // Did someone manage to sort out the key already?
        if (this._pendingKey === null) {
            return;
        }

        var code, keysym;

        code = this._pendingKey;
        this._pendingKey = null;

        // We have no way of knowing the proper keysym with the
        // information given, but the following are true for most
        // layouts
        if ((e.keyCode >= 0x30) && (e.keyCode <= 0x39)) {
            // Digit
            keysym = e.keyCode;
        } else if ((e.keyCode >= 0x41) && (e.keyCode <= 0x5a)) {
            // Character (A-Z)
            var char = String.fromCharCode(e.keyCode);
            // A feeble attempt at the correct case
            if (e.shiftKey)
                char = char.toUpperCase();
            else
                char = char.toLowerCase();
            keysym = char.charCodeAt();
        } else {
            // Unknown, give up
            keysym = 0;
        }

        this._keyDownList[code] = keysym;

        this._sendKeyEvent(keysym, code, true);
    },

    _handleKeyUp: function (e) {
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_1__["stopEvent"])(e);

        var code = this._getKeyCode(e);

        // See comment in _handleKeyDown()
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_4__["isMac"]() && (code === 'CapsLock')) {
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', true);
            this._sendKeyEvent(_keysym_js__WEBPACK_IMPORTED_MODULE_3__["default"].XK_Caps_Lock, 'CapsLock', false);
            return;
        }

        // Do we really think this key is down?
        if (!(code in this._keyDownList)) {
            return;
        }

        this._sendKeyEvent(this._keyDownList[code], code, false);

        delete this._keyDownList[code];
    },

    _allKeysUp: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> Keyboard.allKeysUp");
        for (var code in this._keyDownList) {
            this._sendKeyEvent(this._keyDownList[code], code, false);
        };
        this._keyDownList = {};
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< Keyboard.allKeysUp");
    },

    // ===== PUBLIC METHODS =====

    grab: function () {
        //Log.Debug(">> Keyboard.grab");
        var c = this._target;

        c.addEventListener('keydown', this._eventHandlers.keydown);
        c.addEventListener('keyup', this._eventHandlers.keyup);
        c.addEventListener('keypress', this._eventHandlers.keypress);

        // Release (key up) if window loses focus
        window.addEventListener('blur', this._eventHandlers.blur);

        //Log.Debug("<< Keyboard.grab");
    },

    ungrab: function () {
        //Log.Debug(">> Keyboard.ungrab");
        var c = this._target;

        c.removeEventListener('keydown', this._eventHandlers.keydown);
        c.removeEventListener('keyup', this._eventHandlers.keyup);
        c.removeEventListener('keypress', this._eventHandlers.keypress);
        window.removeEventListener('blur', this._eventHandlers.blur);

        // Release (key up) all keys that are in a down state
        this._allKeysUp();

        //Log.Debug(">> Keyboard.ungrab");
    },
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysym.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysym.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    XK_VoidSymbol:                  0xffffff, /* Void symbol */

    XK_BackSpace:                   0xff08, /* Back space, back char */
    XK_Tab:                         0xff09,
    XK_Linefeed:                    0xff0a, /* Linefeed, LF */
    XK_Clear:                       0xff0b,
    XK_Return:                      0xff0d, /* Return, enter */
    XK_Pause:                       0xff13, /* Pause, hold */
    XK_Scroll_Lock:                 0xff14,
    XK_Sys_Req:                     0xff15,
    XK_Escape:                      0xff1b,
    XK_Delete:                      0xffff, /* Delete, rubout */

    /* International & multi-key character composition */

    XK_Multi_key:                   0xff20, /* Multi-key character compose */
    XK_Codeinput:                   0xff37,
    XK_SingleCandidate:             0xff3c,
    XK_MultipleCandidate:           0xff3d,
    XK_PreviousCandidate:           0xff3e,

    /* Japanese keyboard support */

    XK_Kanji:                       0xff21, /* Kanji, Kanji convert */
    XK_Muhenkan:                    0xff22, /* Cancel Conversion */
    XK_Henkan_Mode:                 0xff23, /* Start/Stop Conversion */
    XK_Henkan:                      0xff23, /* Alias for Henkan_Mode */
    XK_Romaji:                      0xff24, /* to Romaji */
    XK_Hiragana:                    0xff25, /* to Hiragana */
    XK_Katakana:                    0xff26, /* to Katakana */
    XK_Hiragana_Katakana:           0xff27, /* Hiragana/Katakana toggle */
    XK_Zenkaku:                     0xff28, /* to Zenkaku */
    XK_Hankaku:                     0xff29, /* to Hankaku */
    XK_Zenkaku_Hankaku:             0xff2a, /* Zenkaku/Hankaku toggle */
    XK_Touroku:                     0xff2b, /* Add to Dictionary */
    XK_Massyo:                      0xff2c, /* Delete from Dictionary */
    XK_Kana_Lock:                   0xff2d, /* Kana Lock */
    XK_Kana_Shift:                  0xff2e, /* Kana Shift */
    XK_Eisu_Shift:                  0xff2f, /* Alphanumeric Shift */
    XK_Eisu_toggle:                 0xff30, /* Alphanumeric toggle */
    XK_Kanji_Bangou:                0xff37, /* Codeinput */
    XK_Zen_Koho:                    0xff3d, /* Multiple/All Candidate(s) */
    XK_Mae_Koho:                    0xff3e, /* Previous Candidate */

    /* Cursor control & motion */

    XK_Home:                        0xff50,
    XK_Left:                        0xff51, /* Move left, left arrow */
    XK_Up:                          0xff52, /* Move up, up arrow */
    XK_Right:                       0xff53, /* Move right, right arrow */
    XK_Down:                        0xff54, /* Move down, down arrow */
    XK_Prior:                       0xff55, /* Prior, previous */
    XK_Page_Up:                     0xff55,
    XK_Next:                        0xff56, /* Next */
    XK_Page_Down:                   0xff56,
    XK_End:                         0xff57, /* EOL */
    XK_Begin:                       0xff58, /* BOL */


    /* Misc functions */

    XK_Select:                      0xff60, /* Select, mark */
    XK_Print:                       0xff61,
    XK_Execute:                     0xff62, /* Execute, run, do */
    XK_Insert:                      0xff63, /* Insert, insert here */
    XK_Undo:                        0xff65,
    XK_Redo:                        0xff66, /* Redo, again */
    XK_Menu:                        0xff67,
    XK_Find:                        0xff68, /* Find, search */
    XK_Cancel:                      0xff69, /* Cancel, stop, abort, exit */
    XK_Help:                        0xff6a, /* Help */
    XK_Break:                       0xff6b,
    XK_Mode_switch:                 0xff7e, /* Character set switch */
    XK_script_switch:               0xff7e, /* Alias for mode_switch */
    XK_Num_Lock:                    0xff7f,

    /* Keypad functions, keypad numbers cleverly chosen to map to ASCII */

    XK_KP_Space:                    0xff80, /* Space */
    XK_KP_Tab:                      0xff89,
    XK_KP_Enter:                    0xff8d, /* Enter */
    XK_KP_F1:                       0xff91, /* PF1, KP_A, ... */
    XK_KP_F2:                       0xff92,
    XK_KP_F3:                       0xff93,
    XK_KP_F4:                       0xff94,
    XK_KP_Home:                     0xff95,
    XK_KP_Left:                     0xff96,
    XK_KP_Up:                       0xff97,
    XK_KP_Right:                    0xff98,
    XK_KP_Down:                     0xff99,
    XK_KP_Prior:                    0xff9a,
    XK_KP_Page_Up:                  0xff9a,
    XK_KP_Next:                     0xff9b,
    XK_KP_Page_Down:                0xff9b,
    XK_KP_End:                      0xff9c,
    XK_KP_Begin:                    0xff9d,
    XK_KP_Insert:                   0xff9e,
    XK_KP_Delete:                   0xff9f,
    XK_KP_Equal:                    0xffbd, /* Equals */
    XK_KP_Multiply:                 0xffaa,
    XK_KP_Add:                      0xffab,
    XK_KP_Separator:                0xffac, /* Separator, often comma */
    XK_KP_Subtract:                 0xffad,
    XK_KP_Decimal:                  0xffae,
    XK_KP_Divide:                   0xffaf,

    XK_KP_0:                        0xffb0,
    XK_KP_1:                        0xffb1,
    XK_KP_2:                        0xffb2,
    XK_KP_3:                        0xffb3,
    XK_KP_4:                        0xffb4,
    XK_KP_5:                        0xffb5,
    XK_KP_6:                        0xffb6,
    XK_KP_7:                        0xffb7,
    XK_KP_8:                        0xffb8,
    XK_KP_9:                        0xffb9,

    /*
     * Auxiliary functions; note the duplicate definitions for left and right
     * function keys;  Sun keyboards and a few other manufacturers have such
     * function key groups on the left and/or right sides of the keyboard.
     * We've not found a keyboard with more than 35 function keys total.
     */

    XK_F1:                          0xffbe,
    XK_F2:                          0xffbf,
    XK_F3:                          0xffc0,
    XK_F4:                          0xffc1,
    XK_F5:                          0xffc2,
    XK_F6:                          0xffc3,
    XK_F7:                          0xffc4,
    XK_F8:                          0xffc5,
    XK_F9:                          0xffc6,
    XK_F10:                         0xffc7,
    XK_F11:                         0xffc8,
    XK_L1:                          0xffc8,
    XK_F12:                         0xffc9,
    XK_L2:                          0xffc9,
    XK_F13:                         0xffca,
    XK_L3:                          0xffca,
    XK_F14:                         0xffcb,
    XK_L4:                          0xffcb,
    XK_F15:                         0xffcc,
    XK_L5:                          0xffcc,
    XK_F16:                         0xffcd,
    XK_L6:                          0xffcd,
    XK_F17:                         0xffce,
    XK_L7:                          0xffce,
    XK_F18:                         0xffcf,
    XK_L8:                          0xffcf,
    XK_F19:                         0xffd0,
    XK_L9:                          0xffd0,
    XK_F20:                         0xffd1,
    XK_L10:                         0xffd1,
    XK_F21:                         0xffd2,
    XK_R1:                          0xffd2,
    XK_F22:                         0xffd3,
    XK_R2:                          0xffd3,
    XK_F23:                         0xffd4,
    XK_R3:                          0xffd4,
    XK_F24:                         0xffd5,
    XK_R4:                          0xffd5,
    XK_F25:                         0xffd6,
    XK_R5:                          0xffd6,
    XK_F26:                         0xffd7,
    XK_R6:                          0xffd7,
    XK_F27:                         0xffd8,
    XK_R7:                          0xffd8,
    XK_F28:                         0xffd9,
    XK_R8:                          0xffd9,
    XK_F29:                         0xffda,
    XK_R9:                          0xffda,
    XK_F30:                         0xffdb,
    XK_R10:                         0xffdb,
    XK_F31:                         0xffdc,
    XK_R11:                         0xffdc,
    XK_F32:                         0xffdd,
    XK_R12:                         0xffdd,
    XK_F33:                         0xffde,
    XK_R13:                         0xffde,
    XK_F34:                         0xffdf,
    XK_R14:                         0xffdf,
    XK_F35:                         0xffe0,
    XK_R15:                         0xffe0,

    /* Modifiers */

    XK_Shift_L:                     0xffe1, /* Left shift */
    XK_Shift_R:                     0xffe2, /* Right shift */
    XK_Control_L:                   0xffe3, /* Left control */
    XK_Control_R:                   0xffe4, /* Right control */
    XK_Caps_Lock:                   0xffe5, /* Caps lock */
    XK_Shift_Lock:                  0xffe6, /* Shift lock */

    XK_Meta_L:                      0xffe7, /* Left meta */
    XK_Meta_R:                      0xffe8, /* Right meta */
    XK_Alt_L:                       0xffe9, /* Left alt */
    XK_Alt_R:                       0xffea, /* Right alt */
    XK_Super_L:                     0xffeb, /* Left super */
    XK_Super_R:                     0xffec, /* Right super */
    XK_Hyper_L:                     0xffed, /* Left hyper */
    XK_Hyper_R:                     0xffee, /* Right hyper */

    /*
     * Keyboard (XKB) Extension function and modifier keys
     * (from Appendix C of "The X Keyboard Extension: Protocol Specification")
     * Byte 3 = 0xfe
     */

    XK_ISO_Level3_Shift:            0xfe03, /* AltGr */
    XK_ISO_Next_Group:              0xfe08,
    XK_ISO_Prev_Group:              0xfe0a,
    XK_ISO_First_Group:             0xfe0c,
    XK_ISO_Last_Group:              0xfe0e,

    /*
     * Latin 1
     * (ISO/IEC 8859-1: Unicode U+0020..U+00FF)
     * Byte 3: 0
     */

    XK_space:                       0x0020, /* U+0020 SPACE */
    XK_exclam:                      0x0021, /* U+0021 EXCLAMATION MARK */
    XK_quotedbl:                    0x0022, /* U+0022 QUOTATION MARK */
    XK_numbersign:                  0x0023, /* U+0023 NUMBER SIGN */
    XK_dollar:                      0x0024, /* U+0024 DOLLAR SIGN */
    XK_percent:                     0x0025, /* U+0025 PERCENT SIGN */
    XK_ampersand:                   0x0026, /* U+0026 AMPERSAND */
    XK_apostrophe:                  0x0027, /* U+0027 APOSTROPHE */
    XK_quoteright:                  0x0027, /* deprecated */
    XK_parenleft:                   0x0028, /* U+0028 LEFT PARENTHESIS */
    XK_parenright:                  0x0029, /* U+0029 RIGHT PARENTHESIS */
    XK_asterisk:                    0x002a, /* U+002A ASTERISK */
    XK_plus:                        0x002b, /* U+002B PLUS SIGN */
    XK_comma:                       0x002c, /* U+002C COMMA */
    XK_minus:                       0x002d, /* U+002D HYPHEN-MINUS */
    XK_period:                      0x002e, /* U+002E FULL STOP */
    XK_slash:                       0x002f, /* U+002F SOLIDUS */
    XK_0:                           0x0030, /* U+0030 DIGIT ZERO */
    XK_1:                           0x0031, /* U+0031 DIGIT ONE */
    XK_2:                           0x0032, /* U+0032 DIGIT TWO */
    XK_3:                           0x0033, /* U+0033 DIGIT THREE */
    XK_4:                           0x0034, /* U+0034 DIGIT FOUR */
    XK_5:                           0x0035, /* U+0035 DIGIT FIVE */
    XK_6:                           0x0036, /* U+0036 DIGIT SIX */
    XK_7:                           0x0037, /* U+0037 DIGIT SEVEN */
    XK_8:                           0x0038, /* U+0038 DIGIT EIGHT */
    XK_9:                           0x0039, /* U+0039 DIGIT NINE */
    XK_colon:                       0x003a, /* U+003A COLON */
    XK_semicolon:                   0x003b, /* U+003B SEMICOLON */
    XK_less:                        0x003c, /* U+003C LESS-THAN SIGN */
    XK_equal:                       0x003d, /* U+003D EQUALS SIGN */
    XK_greater:                     0x003e, /* U+003E GREATER-THAN SIGN */
    XK_question:                    0x003f, /* U+003F QUESTION MARK */
    XK_at:                          0x0040, /* U+0040 COMMERCIAL AT */
    XK_A:                           0x0041, /* U+0041 LATIN CAPITAL LETTER A */
    XK_B:                           0x0042, /* U+0042 LATIN CAPITAL LETTER B */
    XK_C:                           0x0043, /* U+0043 LATIN CAPITAL LETTER C */
    XK_D:                           0x0044, /* U+0044 LATIN CAPITAL LETTER D */
    XK_E:                           0x0045, /* U+0045 LATIN CAPITAL LETTER E */
    XK_F:                           0x0046, /* U+0046 LATIN CAPITAL LETTER F */
    XK_G:                           0x0047, /* U+0047 LATIN CAPITAL LETTER G */
    XK_H:                           0x0048, /* U+0048 LATIN CAPITAL LETTER H */
    XK_I:                           0x0049, /* U+0049 LATIN CAPITAL LETTER I */
    XK_J:                           0x004a, /* U+004A LATIN CAPITAL LETTER J */
    XK_K:                           0x004b, /* U+004B LATIN CAPITAL LETTER K */
    XK_L:                           0x004c, /* U+004C LATIN CAPITAL LETTER L */
    XK_M:                           0x004d, /* U+004D LATIN CAPITAL LETTER M */
    XK_N:                           0x004e, /* U+004E LATIN CAPITAL LETTER N */
    XK_O:                           0x004f, /* U+004F LATIN CAPITAL LETTER O */
    XK_P:                           0x0050, /* U+0050 LATIN CAPITAL LETTER P */
    XK_Q:                           0x0051, /* U+0051 LATIN CAPITAL LETTER Q */
    XK_R:                           0x0052, /* U+0052 LATIN CAPITAL LETTER R */
    XK_S:                           0x0053, /* U+0053 LATIN CAPITAL LETTER S */
    XK_T:                           0x0054, /* U+0054 LATIN CAPITAL LETTER T */
    XK_U:                           0x0055, /* U+0055 LATIN CAPITAL LETTER U */
    XK_V:                           0x0056, /* U+0056 LATIN CAPITAL LETTER V */
    XK_W:                           0x0057, /* U+0057 LATIN CAPITAL LETTER W */
    XK_X:                           0x0058, /* U+0058 LATIN CAPITAL LETTER X */
    XK_Y:                           0x0059, /* U+0059 LATIN CAPITAL LETTER Y */
    XK_Z:                           0x005a, /* U+005A LATIN CAPITAL LETTER Z */
    XK_bracketleft:                 0x005b, /* U+005B LEFT SQUARE BRACKET */
    XK_backslash:                   0x005c, /* U+005C REVERSE SOLIDUS */
    XK_bracketright:                0x005d, /* U+005D RIGHT SQUARE BRACKET */
    XK_asciicircum:                 0x005e, /* U+005E CIRCUMFLEX ACCENT */
    XK_underscore:                  0x005f, /* U+005F LOW LINE */
    XK_grave:                       0x0060, /* U+0060 GRAVE ACCENT */
    XK_quoteleft:                   0x0060, /* deprecated */
    XK_a:                           0x0061, /* U+0061 LATIN SMALL LETTER A */
    XK_b:                           0x0062, /* U+0062 LATIN SMALL LETTER B */
    XK_c:                           0x0063, /* U+0063 LATIN SMALL LETTER C */
    XK_d:                           0x0064, /* U+0064 LATIN SMALL LETTER D */
    XK_e:                           0x0065, /* U+0065 LATIN SMALL LETTER E */
    XK_f:                           0x0066, /* U+0066 LATIN SMALL LETTER F */
    XK_g:                           0x0067, /* U+0067 LATIN SMALL LETTER G */
    XK_h:                           0x0068, /* U+0068 LATIN SMALL LETTER H */
    XK_i:                           0x0069, /* U+0069 LATIN SMALL LETTER I */
    XK_j:                           0x006a, /* U+006A LATIN SMALL LETTER J */
    XK_k:                           0x006b, /* U+006B LATIN SMALL LETTER K */
    XK_l:                           0x006c, /* U+006C LATIN SMALL LETTER L */
    XK_m:                           0x006d, /* U+006D LATIN SMALL LETTER M */
    XK_n:                           0x006e, /* U+006E LATIN SMALL LETTER N */
    XK_o:                           0x006f, /* U+006F LATIN SMALL LETTER O */
    XK_p:                           0x0070, /* U+0070 LATIN SMALL LETTER P */
    XK_q:                           0x0071, /* U+0071 LATIN SMALL LETTER Q */
    XK_r:                           0x0072, /* U+0072 LATIN SMALL LETTER R */
    XK_s:                           0x0073, /* U+0073 LATIN SMALL LETTER S */
    XK_t:                           0x0074, /* U+0074 LATIN SMALL LETTER T */
    XK_u:                           0x0075, /* U+0075 LATIN SMALL LETTER U */
    XK_v:                           0x0076, /* U+0076 LATIN SMALL LETTER V */
    XK_w:                           0x0077, /* U+0077 LATIN SMALL LETTER W */
    XK_x:                           0x0078, /* U+0078 LATIN SMALL LETTER X */
    XK_y:                           0x0079, /* U+0079 LATIN SMALL LETTER Y */
    XK_z:                           0x007a, /* U+007A LATIN SMALL LETTER Z */
    XK_braceleft:                   0x007b, /* U+007B LEFT CURLY BRACKET */
    XK_bar:                         0x007c, /* U+007C VERTICAL LINE */
    XK_braceright:                  0x007d, /* U+007D RIGHT CURLY BRACKET */
    XK_asciitilde:                  0x007e, /* U+007E TILDE */

    XK_nobreakspace:                0x00a0, /* U+00A0 NO-BREAK SPACE */
    XK_exclamdown:                  0x00a1, /* U+00A1 INVERTED EXCLAMATION MARK */
    XK_cent:                        0x00a2, /* U+00A2 CENT SIGN */
    XK_sterling:                    0x00a3, /* U+00A3 POUND SIGN */
    XK_currency:                    0x00a4, /* U+00A4 CURRENCY SIGN */
    XK_yen:                         0x00a5, /* U+00A5 YEN SIGN */
    XK_brokenbar:                   0x00a6, /* U+00A6 BROKEN BAR */
    XK_section:                     0x00a7, /* U+00A7 SECTION SIGN */
    XK_diaeresis:                   0x00a8, /* U+00A8 DIAERESIS */
    XK_copyright:                   0x00a9, /* U+00A9 COPYRIGHT SIGN */
    XK_ordfeminine:                 0x00aa, /* U+00AA FEMININE ORDINAL INDICATOR */
    XK_guillemotleft:               0x00ab, /* U+00AB LEFT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_notsign:                     0x00ac, /* U+00AC NOT SIGN */
    XK_hyphen:                      0x00ad, /* U+00AD SOFT HYPHEN */
    XK_registered:                  0x00ae, /* U+00AE REGISTERED SIGN */
    XK_macron:                      0x00af, /* U+00AF MACRON */
    XK_degree:                      0x00b0, /* U+00B0 DEGREE SIGN */
    XK_plusminus:                   0x00b1, /* U+00B1 PLUS-MINUS SIGN */
    XK_twosuperior:                 0x00b2, /* U+00B2 SUPERSCRIPT TWO */
    XK_threesuperior:               0x00b3, /* U+00B3 SUPERSCRIPT THREE */
    XK_acute:                       0x00b4, /* U+00B4 ACUTE ACCENT */
    XK_mu:                          0x00b5, /* U+00B5 MICRO SIGN */
    XK_paragraph:                   0x00b6, /* U+00B6 PILCROW SIGN */
    XK_periodcentered:              0x00b7, /* U+00B7 MIDDLE DOT */
    XK_cedilla:                     0x00b8, /* U+00B8 CEDILLA */
    XK_onesuperior:                 0x00b9, /* U+00B9 SUPERSCRIPT ONE */
    XK_masculine:                   0x00ba, /* U+00BA MASCULINE ORDINAL INDICATOR */
    XK_guillemotright:              0x00bb, /* U+00BB RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK */
    XK_onequarter:                  0x00bc, /* U+00BC VULGAR FRACTION ONE QUARTER */
    XK_onehalf:                     0x00bd, /* U+00BD VULGAR FRACTION ONE HALF */
    XK_threequarters:               0x00be, /* U+00BE VULGAR FRACTION THREE QUARTERS */
    XK_questiondown:                0x00bf, /* U+00BF INVERTED QUESTION MARK */
    XK_Agrave:                      0x00c0, /* U+00C0 LATIN CAPITAL LETTER A WITH GRAVE */
    XK_Aacute:                      0x00c1, /* U+00C1 LATIN CAPITAL LETTER A WITH ACUTE */
    XK_Acircumflex:                 0x00c2, /* U+00C2 LATIN CAPITAL LETTER A WITH CIRCUMFLEX */
    XK_Atilde:                      0x00c3, /* U+00C3 LATIN CAPITAL LETTER A WITH TILDE */
    XK_Adiaeresis:                  0x00c4, /* U+00C4 LATIN CAPITAL LETTER A WITH DIAERESIS */
    XK_Aring:                       0x00c5, /* U+00C5 LATIN CAPITAL LETTER A WITH RING ABOVE */
    XK_AE:                          0x00c6, /* U+00C6 LATIN CAPITAL LETTER AE */
    XK_Ccedilla:                    0x00c7, /* U+00C7 LATIN CAPITAL LETTER C WITH CEDILLA */
    XK_Egrave:                      0x00c8, /* U+00C8 LATIN CAPITAL LETTER E WITH GRAVE */
    XK_Eacute:                      0x00c9, /* U+00C9 LATIN CAPITAL LETTER E WITH ACUTE */
    XK_Ecircumflex:                 0x00ca, /* U+00CA LATIN CAPITAL LETTER E WITH CIRCUMFLEX */
    XK_Ediaeresis:                  0x00cb, /* U+00CB LATIN CAPITAL LETTER E WITH DIAERESIS */
    XK_Igrave:                      0x00cc, /* U+00CC LATIN CAPITAL LETTER I WITH GRAVE */
    XK_Iacute:                      0x00cd, /* U+00CD LATIN CAPITAL LETTER I WITH ACUTE */
    XK_Icircumflex:                 0x00ce, /* U+00CE LATIN CAPITAL LETTER I WITH CIRCUMFLEX */
    XK_Idiaeresis:                  0x00cf, /* U+00CF LATIN CAPITAL LETTER I WITH DIAERESIS */
    XK_ETH:                         0x00d0, /* U+00D0 LATIN CAPITAL LETTER ETH */
    XK_Eth:                         0x00d0, /* deprecated */
    XK_Ntilde:                      0x00d1, /* U+00D1 LATIN CAPITAL LETTER N WITH TILDE */
    XK_Ograve:                      0x00d2, /* U+00D2 LATIN CAPITAL LETTER O WITH GRAVE */
    XK_Oacute:                      0x00d3, /* U+00D3 LATIN CAPITAL LETTER O WITH ACUTE */
    XK_Ocircumflex:                 0x00d4, /* U+00D4 LATIN CAPITAL LETTER O WITH CIRCUMFLEX */
    XK_Otilde:                      0x00d5, /* U+00D5 LATIN CAPITAL LETTER O WITH TILDE */
    XK_Odiaeresis:                  0x00d6, /* U+00D6 LATIN CAPITAL LETTER O WITH DIAERESIS */
    XK_multiply:                    0x00d7, /* U+00D7 MULTIPLICATION SIGN */
    XK_Oslash:                      0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ooblique:                    0x00d8, /* U+00D8 LATIN CAPITAL LETTER O WITH STROKE */
    XK_Ugrave:                      0x00d9, /* U+00D9 LATIN CAPITAL LETTER U WITH GRAVE */
    XK_Uacute:                      0x00da, /* U+00DA LATIN CAPITAL LETTER U WITH ACUTE */
    XK_Ucircumflex:                 0x00db, /* U+00DB LATIN CAPITAL LETTER U WITH CIRCUMFLEX */
    XK_Udiaeresis:                  0x00dc, /* U+00DC LATIN CAPITAL LETTER U WITH DIAERESIS */
    XK_Yacute:                      0x00dd, /* U+00DD LATIN CAPITAL LETTER Y WITH ACUTE */
    XK_THORN:                       0x00de, /* U+00DE LATIN CAPITAL LETTER THORN */
    XK_Thorn:                       0x00de, /* deprecated */
    XK_ssharp:                      0x00df, /* U+00DF LATIN SMALL LETTER SHARP S */
    XK_agrave:                      0x00e0, /* U+00E0 LATIN SMALL LETTER A WITH GRAVE */
    XK_aacute:                      0x00e1, /* U+00E1 LATIN SMALL LETTER A WITH ACUTE */
    XK_acircumflex:                 0x00e2, /* U+00E2 LATIN SMALL LETTER A WITH CIRCUMFLEX */
    XK_atilde:                      0x00e3, /* U+00E3 LATIN SMALL LETTER A WITH TILDE */
    XK_adiaeresis:                  0x00e4, /* U+00E4 LATIN SMALL LETTER A WITH DIAERESIS */
    XK_aring:                       0x00e5, /* U+00E5 LATIN SMALL LETTER A WITH RING ABOVE */
    XK_ae:                          0x00e6, /* U+00E6 LATIN SMALL LETTER AE */
    XK_ccedilla:                    0x00e7, /* U+00E7 LATIN SMALL LETTER C WITH CEDILLA */
    XK_egrave:                      0x00e8, /* U+00E8 LATIN SMALL LETTER E WITH GRAVE */
    XK_eacute:                      0x00e9, /* U+00E9 LATIN SMALL LETTER E WITH ACUTE */
    XK_ecircumflex:                 0x00ea, /* U+00EA LATIN SMALL LETTER E WITH CIRCUMFLEX */
    XK_ediaeresis:                  0x00eb, /* U+00EB LATIN SMALL LETTER E WITH DIAERESIS */
    XK_igrave:                      0x00ec, /* U+00EC LATIN SMALL LETTER I WITH GRAVE */
    XK_iacute:                      0x00ed, /* U+00ED LATIN SMALL LETTER I WITH ACUTE */
    XK_icircumflex:                 0x00ee, /* U+00EE LATIN SMALL LETTER I WITH CIRCUMFLEX */
    XK_idiaeresis:                  0x00ef, /* U+00EF LATIN SMALL LETTER I WITH DIAERESIS */
    XK_eth:                         0x00f0, /* U+00F0 LATIN SMALL LETTER ETH */
    XK_ntilde:                      0x00f1, /* U+00F1 LATIN SMALL LETTER N WITH TILDE */
    XK_ograve:                      0x00f2, /* U+00F2 LATIN SMALL LETTER O WITH GRAVE */
    XK_oacute:                      0x00f3, /* U+00F3 LATIN SMALL LETTER O WITH ACUTE */
    XK_ocircumflex:                 0x00f4, /* U+00F4 LATIN SMALL LETTER O WITH CIRCUMFLEX */
    XK_otilde:                      0x00f5, /* U+00F5 LATIN SMALL LETTER O WITH TILDE */
    XK_odiaeresis:                  0x00f6, /* U+00F6 LATIN SMALL LETTER O WITH DIAERESIS */
    XK_division:                    0x00f7, /* U+00F7 DIVISION SIGN */
    XK_oslash:                      0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ooblique:                    0x00f8, /* U+00F8 LATIN SMALL LETTER O WITH STROKE */
    XK_ugrave:                      0x00f9, /* U+00F9 LATIN SMALL LETTER U WITH GRAVE */
    XK_uacute:                      0x00fa, /* U+00FA LATIN SMALL LETTER U WITH ACUTE */
    XK_ucircumflex:                 0x00fb, /* U+00FB LATIN SMALL LETTER U WITH CIRCUMFLEX */
    XK_udiaeresis:                  0x00fc, /* U+00FC LATIN SMALL LETTER U WITH DIAERESIS */
    XK_yacute:                      0x00fd, /* U+00FD LATIN SMALL LETTER Y WITH ACUTE */
    XK_thorn:                       0x00fe, /* U+00FE LATIN SMALL LETTER THORN */
    XK_ydiaeresis:                  0x00ff, /* U+00FF LATIN SMALL LETTER Y WITH DIAERESIS */

    /*
     * Korean
     * Byte 3 = 0x0e
     */

    XK_Hangul:                      0xff31, /* Hangul start/stop(toggle) */
    XK_Hangul_Hanja:                0xff34, /* Start Hangul->Hanja Conversion */
    XK_Hangul_Jeonja:               0xff38, /* Jeonja mode */

    /*
     * XFree86 vendor specific keysyms.
     *
     * The XFree86 keysym range is 0x10080001 - 0x1008FFFF.
     */

    XF86XK_ModeLock:                0x1008FF01,
    XF86XK_MonBrightnessUp:         0x1008FF02,
    XF86XK_MonBrightnessDown:       0x1008FF03,
    XF86XK_KbdLightOnOff:           0x1008FF04,
    XF86XK_KbdBrightnessUp:         0x1008FF05,
    XF86XK_KbdBrightnessDown:       0x1008FF06,
    XF86XK_Standby:                 0x1008FF10,
    XF86XK_AudioLowerVolume:        0x1008FF11,
    XF86XK_AudioMute:               0x1008FF12,
    XF86XK_AudioRaiseVolume:        0x1008FF13,
    XF86XK_AudioPlay:               0x1008FF14,
    XF86XK_AudioStop:               0x1008FF15,
    XF86XK_AudioPrev:               0x1008FF16,
    XF86XK_AudioNext:               0x1008FF17,
    XF86XK_HomePage:                0x1008FF18,
    XF86XK_Mail:                    0x1008FF19,
    XF86XK_Start:                   0x1008FF1A,
    XF86XK_Search:                  0x1008FF1B,
    XF86XK_AudioRecord:             0x1008FF1C,
    XF86XK_Calculator:              0x1008FF1D,
    XF86XK_Memo:                    0x1008FF1E,
    XF86XK_ToDoList:                0x1008FF1F,
    XF86XK_Calendar:                0x1008FF20,
    XF86XK_PowerDown:               0x1008FF21,
    XF86XK_ContrastAdjust:          0x1008FF22,
    XF86XK_RockerUp:                0x1008FF23,
    XF86XK_RockerDown:              0x1008FF24,
    XF86XK_RockerEnter:             0x1008FF25,
    XF86XK_Back:                    0x1008FF26,
    XF86XK_Forward:                 0x1008FF27,
    XF86XK_Stop:                    0x1008FF28,
    XF86XK_Refresh:                 0x1008FF29,
    XF86XK_PowerOff:                0x1008FF2A,
    XF86XK_WakeUp:                  0x1008FF2B,
    XF86XK_Eject:                   0x1008FF2C,
    XF86XK_ScreenSaver:             0x1008FF2D,
    XF86XK_WWW:                     0x1008FF2E,
    XF86XK_Sleep:                   0x1008FF2F,
    XF86XK_Favorites:               0x1008FF30,
    XF86XK_AudioPause:              0x1008FF31,
    XF86XK_AudioMedia:              0x1008FF32,
    XF86XK_MyComputer:              0x1008FF33,
    XF86XK_VendorHome:              0x1008FF34,
    XF86XK_LightBulb:               0x1008FF35,
    XF86XK_Shop:                    0x1008FF36,
    XF86XK_History:                 0x1008FF37,
    XF86XK_OpenURL:                 0x1008FF38,
    XF86XK_AddFavorite:             0x1008FF39,
    XF86XK_HotLinks:                0x1008FF3A,
    XF86XK_BrightnessAdjust:        0x1008FF3B,
    XF86XK_Finance:                 0x1008FF3C,
    XF86XK_Community:               0x1008FF3D,
    XF86XK_AudioRewind:             0x1008FF3E,
    XF86XK_BackForward:             0x1008FF3F,
    XF86XK_Launch0:                 0x1008FF40,
    XF86XK_Launch1:                 0x1008FF41,
    XF86XK_Launch2:                 0x1008FF42,
    XF86XK_Launch3:                 0x1008FF43,
    XF86XK_Launch4:                 0x1008FF44,
    XF86XK_Launch5:                 0x1008FF45,
    XF86XK_Launch6:                 0x1008FF46,
    XF86XK_Launch7:                 0x1008FF47,
    XF86XK_Launch8:                 0x1008FF48,
    XF86XK_Launch9:                 0x1008FF49,
    XF86XK_LaunchA:                 0x1008FF4A,
    XF86XK_LaunchB:                 0x1008FF4B,
    XF86XK_LaunchC:                 0x1008FF4C,
    XF86XK_LaunchD:                 0x1008FF4D,
    XF86XK_LaunchE:                 0x1008FF4E,
    XF86XK_LaunchF:                 0x1008FF4F,
    XF86XK_ApplicationLeft:         0x1008FF50,
    XF86XK_ApplicationRight:        0x1008FF51,
    XF86XK_Book:                    0x1008FF52,
    XF86XK_CD:                      0x1008FF53,
    XF86XK_Calculater:              0x1008FF54,
    XF86XK_Clear:                   0x1008FF55,
    XF86XK_Close:                   0x1008FF56,
    XF86XK_Copy:                    0x1008FF57,
    XF86XK_Cut:                     0x1008FF58,
    XF86XK_Display:                 0x1008FF59,
    XF86XK_DOS:                     0x1008FF5A,
    XF86XK_Documents:               0x1008FF5B,
    XF86XK_Excel:                   0x1008FF5C,
    XF86XK_Explorer:                0x1008FF5D,
    XF86XK_Game:                    0x1008FF5E,
    XF86XK_Go:                      0x1008FF5F,
    XF86XK_iTouch:                  0x1008FF60,
    XF86XK_LogOff:                  0x1008FF61,
    XF86XK_Market:                  0x1008FF62,
    XF86XK_Meeting:                 0x1008FF63,
    XF86XK_MenuKB:                  0x1008FF65,
    XF86XK_MenuPB:                  0x1008FF66,
    XF86XK_MySites:                 0x1008FF67,
    XF86XK_New:                     0x1008FF68,
    XF86XK_News:                    0x1008FF69,
    XF86XK_OfficeHome:              0x1008FF6A,
    XF86XK_Open:                    0x1008FF6B,
    XF86XK_Option:                  0x1008FF6C,
    XF86XK_Paste:                   0x1008FF6D,
    XF86XK_Phone:                   0x1008FF6E,
    XF86XK_Q:                       0x1008FF70,
    XF86XK_Reply:                   0x1008FF72,
    XF86XK_Reload:                  0x1008FF73,
    XF86XK_RotateWindows:           0x1008FF74,
    XF86XK_RotationPB:              0x1008FF75,
    XF86XK_RotationKB:              0x1008FF76,
    XF86XK_Save:                    0x1008FF77,
    XF86XK_ScrollUp:                0x1008FF78,
    XF86XK_ScrollDown:              0x1008FF79,
    XF86XK_ScrollClick:             0x1008FF7A,
    XF86XK_Send:                    0x1008FF7B,
    XF86XK_Spell:                   0x1008FF7C,
    XF86XK_SplitScreen:             0x1008FF7D,
    XF86XK_Support:                 0x1008FF7E,
    XF86XK_TaskPane:                0x1008FF7F,
    XF86XK_Terminal:                0x1008FF80,
    XF86XK_Tools:                   0x1008FF81,
    XF86XK_Travel:                  0x1008FF82,
    XF86XK_UserPB:                  0x1008FF84,
    XF86XK_User1KB:                 0x1008FF85,
    XF86XK_User2KB:                 0x1008FF86,
    XF86XK_Video:                   0x1008FF87,
    XF86XK_WheelButton:             0x1008FF88,
    XF86XK_Word:                    0x1008FF89,
    XF86XK_Xfer:                    0x1008FF8A,
    XF86XK_ZoomIn:                  0x1008FF8B,
    XF86XK_ZoomOut:                 0x1008FF8C,
    XF86XK_Away:                    0x1008FF8D,
    XF86XK_Messenger:               0x1008FF8E,
    XF86XK_WebCam:                  0x1008FF8F,
    XF86XK_MailForward:             0x1008FF90,
    XF86XK_Pictures:                0x1008FF91,
    XF86XK_Music:                   0x1008FF92,
    XF86XK_Battery:                 0x1008FF93,
    XF86XK_Bluetooth:               0x1008FF94,
    XF86XK_WLAN:                    0x1008FF95,
    XF86XK_UWB:                     0x1008FF96,
    XF86XK_AudioForward:            0x1008FF97,
    XF86XK_AudioRepeat:             0x1008FF98,
    XF86XK_AudioRandomPlay:         0x1008FF99,
    XF86XK_Subtitle:                0x1008FF9A,
    XF86XK_AudioCycleTrack:         0x1008FF9B,
    XF86XK_CycleAngle:              0x1008FF9C,
    XF86XK_FrameBack:               0x1008FF9D,
    XF86XK_FrameForward:            0x1008FF9E,
    XF86XK_Time:                    0x1008FF9F,
    XF86XK_Select:                  0x1008FFA0,
    XF86XK_View:                    0x1008FFA1,
    XF86XK_TopMenu:                 0x1008FFA2,
    XF86XK_Red:                     0x1008FFA3,
    XF86XK_Green:                   0x1008FFA4,
    XF86XK_Yellow:                  0x1008FFA5,
    XF86XK_Blue:                    0x1008FFA6,
    XF86XK_Suspend:                 0x1008FFA7,
    XF86XK_Hibernate:               0x1008FFA8,
    XF86XK_TouchpadToggle:          0x1008FFA9,
    XF86XK_TouchpadOn:              0x1008FFB0,
    XF86XK_TouchpadOff:             0x1008FFB1,
    XF86XK_AudioMicMute:            0x1008FFB2,
    XF86XK_Switch_VT_1:             0x1008FE01,
    XF86XK_Switch_VT_2:             0x1008FE02,
    XF86XK_Switch_VT_3:             0x1008FE03,
    XF86XK_Switch_VT_4:             0x1008FE04,
    XF86XK_Switch_VT_5:             0x1008FE05,
    XF86XK_Switch_VT_6:             0x1008FE06,
    XF86XK_Switch_VT_7:             0x1008FE07,
    XF86XK_Switch_VT_8:             0x1008FE08,
    XF86XK_Switch_VT_9:             0x1008FE09,
    XF86XK_Switch_VT_10:            0x1008FE0A,
    XF86XK_Switch_VT_11:            0x1008FE0B,
    XF86XK_Switch_VT_12:            0x1008FE0C,
    XF86XK_Ungrab:                  0x1008FE20,
    XF86XK_ClearGrab:               0x1008FE21,
    XF86XK_Next_VMode:              0x1008FE22,
    XF86XK_Prev_VMode:              0x1008FE23,
    XF86XK_LogWindowTree:           0x1008FE24,
    XF86XK_LogGrabInfo:             0x1008FE25,
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/keysymdef.js":
/*!***********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/keysymdef.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Mapping from Unicode codepoints to X11/RFB keysyms
 *
 * This file was automatically generated from keysymdef.h
 * DO NOT EDIT!
 */

/* Functions at the bottom */

var codepoints = {
    0x0100: 0x03c0, // XK_Amacron
    0x0101: 0x03e0, // XK_amacron
    0x0102: 0x01c3, // XK_Abreve
    0x0103: 0x01e3, // XK_abreve
    0x0104: 0x01a1, // XK_Aogonek
    0x0105: 0x01b1, // XK_aogonek
    0x0106: 0x01c6, // XK_Cacute
    0x0107: 0x01e6, // XK_cacute
    0x0108: 0x02c6, // XK_Ccircumflex
    0x0109: 0x02e6, // XK_ccircumflex
    0x010a: 0x02c5, // XK_Cabovedot
    0x010b: 0x02e5, // XK_cabovedot
    0x010c: 0x01c8, // XK_Ccaron
    0x010d: 0x01e8, // XK_ccaron
    0x010e: 0x01cf, // XK_Dcaron
    0x010f: 0x01ef, // XK_dcaron
    0x0110: 0x01d0, // XK_Dstroke
    0x0111: 0x01f0, // XK_dstroke
    0x0112: 0x03aa, // XK_Emacron
    0x0113: 0x03ba, // XK_emacron
    0x0116: 0x03cc, // XK_Eabovedot
    0x0117: 0x03ec, // XK_eabovedot
    0x0118: 0x01ca, // XK_Eogonek
    0x0119: 0x01ea, // XK_eogonek
    0x011a: 0x01cc, // XK_Ecaron
    0x011b: 0x01ec, // XK_ecaron
    0x011c: 0x02d8, // XK_Gcircumflex
    0x011d: 0x02f8, // XK_gcircumflex
    0x011e: 0x02ab, // XK_Gbreve
    0x011f: 0x02bb, // XK_gbreve
    0x0120: 0x02d5, // XK_Gabovedot
    0x0121: 0x02f5, // XK_gabovedot
    0x0122: 0x03ab, // XK_Gcedilla
    0x0123: 0x03bb, // XK_gcedilla
    0x0124: 0x02a6, // XK_Hcircumflex
    0x0125: 0x02b6, // XK_hcircumflex
    0x0126: 0x02a1, // XK_Hstroke
    0x0127: 0x02b1, // XK_hstroke
    0x0128: 0x03a5, // XK_Itilde
    0x0129: 0x03b5, // XK_itilde
    0x012a: 0x03cf, // XK_Imacron
    0x012b: 0x03ef, // XK_imacron
    0x012e: 0x03c7, // XK_Iogonek
    0x012f: 0x03e7, // XK_iogonek
    0x0130: 0x02a9, // XK_Iabovedot
    0x0131: 0x02b9, // XK_idotless
    0x0134: 0x02ac, // XK_Jcircumflex
    0x0135: 0x02bc, // XK_jcircumflex
    0x0136: 0x03d3, // XK_Kcedilla
    0x0137: 0x03f3, // XK_kcedilla
    0x0138: 0x03a2, // XK_kra
    0x0139: 0x01c5, // XK_Lacute
    0x013a: 0x01e5, // XK_lacute
    0x013b: 0x03a6, // XK_Lcedilla
    0x013c: 0x03b6, // XK_lcedilla
    0x013d: 0x01a5, // XK_Lcaron
    0x013e: 0x01b5, // XK_lcaron
    0x0141: 0x01a3, // XK_Lstroke
    0x0142: 0x01b3, // XK_lstroke
    0x0143: 0x01d1, // XK_Nacute
    0x0144: 0x01f1, // XK_nacute
    0x0145: 0x03d1, // XK_Ncedilla
    0x0146: 0x03f1, // XK_ncedilla
    0x0147: 0x01d2, // XK_Ncaron
    0x0148: 0x01f2, // XK_ncaron
    0x014a: 0x03bd, // XK_ENG
    0x014b: 0x03bf, // XK_eng
    0x014c: 0x03d2, // XK_Omacron
    0x014d: 0x03f2, // XK_omacron
    0x0150: 0x01d5, // XK_Odoubleacute
    0x0151: 0x01f5, // XK_odoubleacute
    0x0152: 0x13bc, // XK_OE
    0x0153: 0x13bd, // XK_oe
    0x0154: 0x01c0, // XK_Racute
    0x0155: 0x01e0, // XK_racute
    0x0156: 0x03a3, // XK_Rcedilla
    0x0157: 0x03b3, // XK_rcedilla
    0x0158: 0x01d8, // XK_Rcaron
    0x0159: 0x01f8, // XK_rcaron
    0x015a: 0x01a6, // XK_Sacute
    0x015b: 0x01b6, // XK_sacute
    0x015c: 0x02de, // XK_Scircumflex
    0x015d: 0x02fe, // XK_scircumflex
    0x015e: 0x01aa, // XK_Scedilla
    0x015f: 0x01ba, // XK_scedilla
    0x0160: 0x01a9, // XK_Scaron
    0x0161: 0x01b9, // XK_scaron
    0x0162: 0x01de, // XK_Tcedilla
    0x0163: 0x01fe, // XK_tcedilla
    0x0164: 0x01ab, // XK_Tcaron
    0x0165: 0x01bb, // XK_tcaron
    0x0166: 0x03ac, // XK_Tslash
    0x0167: 0x03bc, // XK_tslash
    0x0168: 0x03dd, // XK_Utilde
    0x0169: 0x03fd, // XK_utilde
    0x016a: 0x03de, // XK_Umacron
    0x016b: 0x03fe, // XK_umacron
    0x016c: 0x02dd, // XK_Ubreve
    0x016d: 0x02fd, // XK_ubreve
    0x016e: 0x01d9, // XK_Uring
    0x016f: 0x01f9, // XK_uring
    0x0170: 0x01db, // XK_Udoubleacute
    0x0171: 0x01fb, // XK_udoubleacute
    0x0172: 0x03d9, // XK_Uogonek
    0x0173: 0x03f9, // XK_uogonek
    0x0178: 0x13be, // XK_Ydiaeresis
    0x0179: 0x01ac, // XK_Zacute
    0x017a: 0x01bc, // XK_zacute
    0x017b: 0x01af, // XK_Zabovedot
    0x017c: 0x01bf, // XK_zabovedot
    0x017d: 0x01ae, // XK_Zcaron
    0x017e: 0x01be, // XK_zcaron
    0x0192: 0x08f6, // XK_function
    0x01d2: 0x10001d1, // XK_Ocaron
    0x02c7: 0x01b7, // XK_caron
    0x02d8: 0x01a2, // XK_breve
    0x02d9: 0x01ff, // XK_abovedot
    0x02db: 0x01b2, // XK_ogonek
    0x02dd: 0x01bd, // XK_doubleacute
    0x0385: 0x07ae, // XK_Greek_accentdieresis
    0x0386: 0x07a1, // XK_Greek_ALPHAaccent
    0x0388: 0x07a2, // XK_Greek_EPSILONaccent
    0x0389: 0x07a3, // XK_Greek_ETAaccent
    0x038a: 0x07a4, // XK_Greek_IOTAaccent
    0x038c: 0x07a7, // XK_Greek_OMICRONaccent
    0x038e: 0x07a8, // XK_Greek_UPSILONaccent
    0x038f: 0x07ab, // XK_Greek_OMEGAaccent
    0x0390: 0x07b6, // XK_Greek_iotaaccentdieresis
    0x0391: 0x07c1, // XK_Greek_ALPHA
    0x0392: 0x07c2, // XK_Greek_BETA
    0x0393: 0x07c3, // XK_Greek_GAMMA
    0x0394: 0x07c4, // XK_Greek_DELTA
    0x0395: 0x07c5, // XK_Greek_EPSILON
    0x0396: 0x07c6, // XK_Greek_ZETA
    0x0397: 0x07c7, // XK_Greek_ETA
    0x0398: 0x07c8, // XK_Greek_THETA
    0x0399: 0x07c9, // XK_Greek_IOTA
    0x039a: 0x07ca, // XK_Greek_KAPPA
    0x039b: 0x07cb, // XK_Greek_LAMDA
    0x039c: 0x07cc, // XK_Greek_MU
    0x039d: 0x07cd, // XK_Greek_NU
    0x039e: 0x07ce, // XK_Greek_XI
    0x039f: 0x07cf, // XK_Greek_OMICRON
    0x03a0: 0x07d0, // XK_Greek_PI
    0x03a1: 0x07d1, // XK_Greek_RHO
    0x03a3: 0x07d2, // XK_Greek_SIGMA
    0x03a4: 0x07d4, // XK_Greek_TAU
    0x03a5: 0x07d5, // XK_Greek_UPSILON
    0x03a6: 0x07d6, // XK_Greek_PHI
    0x03a7: 0x07d7, // XK_Greek_CHI
    0x03a8: 0x07d8, // XK_Greek_PSI
    0x03a9: 0x07d9, // XK_Greek_OMEGA
    0x03aa: 0x07a5, // XK_Greek_IOTAdieresis
    0x03ab: 0x07a9, // XK_Greek_UPSILONdieresis
    0x03ac: 0x07b1, // XK_Greek_alphaaccent
    0x03ad: 0x07b2, // XK_Greek_epsilonaccent
    0x03ae: 0x07b3, // XK_Greek_etaaccent
    0x03af: 0x07b4, // XK_Greek_iotaaccent
    0x03b0: 0x07ba, // XK_Greek_upsilonaccentdieresis
    0x03b1: 0x07e1, // XK_Greek_alpha
    0x03b2: 0x07e2, // XK_Greek_beta
    0x03b3: 0x07e3, // XK_Greek_gamma
    0x03b4: 0x07e4, // XK_Greek_delta
    0x03b5: 0x07e5, // XK_Greek_epsilon
    0x03b6: 0x07e6, // XK_Greek_zeta
    0x03b7: 0x07e7, // XK_Greek_eta
    0x03b8: 0x07e8, // XK_Greek_theta
    0x03b9: 0x07e9, // XK_Greek_iota
    0x03ba: 0x07ea, // XK_Greek_kappa
    0x03bb: 0x07eb, // XK_Greek_lamda
    0x03bc: 0x07ec, // XK_Greek_mu
    0x03bd: 0x07ed, // XK_Greek_nu
    0x03be: 0x07ee, // XK_Greek_xi
    0x03bf: 0x07ef, // XK_Greek_omicron
    0x03c0: 0x07f0, // XK_Greek_pi
    0x03c1: 0x07f1, // XK_Greek_rho
    0x03c2: 0x07f3, // XK_Greek_finalsmallsigma
    0x03c3: 0x07f2, // XK_Greek_sigma
    0x03c4: 0x07f4, // XK_Greek_tau
    0x03c5: 0x07f5, // XK_Greek_upsilon
    0x03c6: 0x07f6, // XK_Greek_phi
    0x03c7: 0x07f7, // XK_Greek_chi
    0x03c8: 0x07f8, // XK_Greek_psi
    0x03c9: 0x07f9, // XK_Greek_omega
    0x03ca: 0x07b5, // XK_Greek_iotadieresis
    0x03cb: 0x07b9, // XK_Greek_upsilondieresis
    0x03cc: 0x07b7, // XK_Greek_omicronaccent
    0x03cd: 0x07b8, // XK_Greek_upsilonaccent
    0x03ce: 0x07bb, // XK_Greek_omegaaccent
    0x0401: 0x06b3, // XK_Cyrillic_IO
    0x0402: 0x06b1, // XK_Serbian_DJE
    0x0403: 0x06b2, // XK_Macedonia_GJE
    0x0404: 0x06b4, // XK_Ukrainian_IE
    0x0405: 0x06b5, // XK_Macedonia_DSE
    0x0406: 0x06b6, // XK_Ukrainian_I
    0x0407: 0x06b7, // XK_Ukrainian_YI
    0x0408: 0x06b8, // XK_Cyrillic_JE
    0x0409: 0x06b9, // XK_Cyrillic_LJE
    0x040a: 0x06ba, // XK_Cyrillic_NJE
    0x040b: 0x06bb, // XK_Serbian_TSHE
    0x040c: 0x06bc, // XK_Macedonia_KJE
    0x040e: 0x06be, // XK_Byelorussian_SHORTU
    0x040f: 0x06bf, // XK_Cyrillic_DZHE
    0x0410: 0x06e1, // XK_Cyrillic_A
    0x0411: 0x06e2, // XK_Cyrillic_BE
    0x0412: 0x06f7, // XK_Cyrillic_VE
    0x0413: 0x06e7, // XK_Cyrillic_GHE
    0x0414: 0x06e4, // XK_Cyrillic_DE
    0x0415: 0x06e5, // XK_Cyrillic_IE
    0x0416: 0x06f6, // XK_Cyrillic_ZHE
    0x0417: 0x06fa, // XK_Cyrillic_ZE
    0x0418: 0x06e9, // XK_Cyrillic_I
    0x0419: 0x06ea, // XK_Cyrillic_SHORTI
    0x041a: 0x06eb, // XK_Cyrillic_KA
    0x041b: 0x06ec, // XK_Cyrillic_EL
    0x041c: 0x06ed, // XK_Cyrillic_EM
    0x041d: 0x06ee, // XK_Cyrillic_EN
    0x041e: 0x06ef, // XK_Cyrillic_O
    0x041f: 0x06f0, // XK_Cyrillic_PE
    0x0420: 0x06f2, // XK_Cyrillic_ER
    0x0421: 0x06f3, // XK_Cyrillic_ES
    0x0422: 0x06f4, // XK_Cyrillic_TE
    0x0423: 0x06f5, // XK_Cyrillic_U
    0x0424: 0x06e6, // XK_Cyrillic_EF
    0x0425: 0x06e8, // XK_Cyrillic_HA
    0x0426: 0x06e3, // XK_Cyrillic_TSE
    0x0427: 0x06fe, // XK_Cyrillic_CHE
    0x0428: 0x06fb, // XK_Cyrillic_SHA
    0x0429: 0x06fd, // XK_Cyrillic_SHCHA
    0x042a: 0x06ff, // XK_Cyrillic_HARDSIGN
    0x042b: 0x06f9, // XK_Cyrillic_YERU
    0x042c: 0x06f8, // XK_Cyrillic_SOFTSIGN
    0x042d: 0x06fc, // XK_Cyrillic_E
    0x042e: 0x06e0, // XK_Cyrillic_YU
    0x042f: 0x06f1, // XK_Cyrillic_YA
    0x0430: 0x06c1, // XK_Cyrillic_a
    0x0431: 0x06c2, // XK_Cyrillic_be
    0x0432: 0x06d7, // XK_Cyrillic_ve
    0x0433: 0x06c7, // XK_Cyrillic_ghe
    0x0434: 0x06c4, // XK_Cyrillic_de
    0x0435: 0x06c5, // XK_Cyrillic_ie
    0x0436: 0x06d6, // XK_Cyrillic_zhe
    0x0437: 0x06da, // XK_Cyrillic_ze
    0x0438: 0x06c9, // XK_Cyrillic_i
    0x0439: 0x06ca, // XK_Cyrillic_shorti
    0x043a: 0x06cb, // XK_Cyrillic_ka
    0x043b: 0x06cc, // XK_Cyrillic_el
    0x043c: 0x06cd, // XK_Cyrillic_em
    0x043d: 0x06ce, // XK_Cyrillic_en
    0x043e: 0x06cf, // XK_Cyrillic_o
    0x043f: 0x06d0, // XK_Cyrillic_pe
    0x0440: 0x06d2, // XK_Cyrillic_er
    0x0441: 0x06d3, // XK_Cyrillic_es
    0x0442: 0x06d4, // XK_Cyrillic_te
    0x0443: 0x06d5, // XK_Cyrillic_u
    0x0444: 0x06c6, // XK_Cyrillic_ef
    0x0445: 0x06c8, // XK_Cyrillic_ha
    0x0446: 0x06c3, // XK_Cyrillic_tse
    0x0447: 0x06de, // XK_Cyrillic_che
    0x0448: 0x06db, // XK_Cyrillic_sha
    0x0449: 0x06dd, // XK_Cyrillic_shcha
    0x044a: 0x06df, // XK_Cyrillic_hardsign
    0x044b: 0x06d9, // XK_Cyrillic_yeru
    0x044c: 0x06d8, // XK_Cyrillic_softsign
    0x044d: 0x06dc, // XK_Cyrillic_e
    0x044e: 0x06c0, // XK_Cyrillic_yu
    0x044f: 0x06d1, // XK_Cyrillic_ya
    0x0451: 0x06a3, // XK_Cyrillic_io
    0x0452: 0x06a1, // XK_Serbian_dje
    0x0453: 0x06a2, // XK_Macedonia_gje
    0x0454: 0x06a4, // XK_Ukrainian_ie
    0x0455: 0x06a5, // XK_Macedonia_dse
    0x0456: 0x06a6, // XK_Ukrainian_i
    0x0457: 0x06a7, // XK_Ukrainian_yi
    0x0458: 0x06a8, // XK_Cyrillic_je
    0x0459: 0x06a9, // XK_Cyrillic_lje
    0x045a: 0x06aa, // XK_Cyrillic_nje
    0x045b: 0x06ab, // XK_Serbian_tshe
    0x045c: 0x06ac, // XK_Macedonia_kje
    0x045e: 0x06ae, // XK_Byelorussian_shortu
    0x045f: 0x06af, // XK_Cyrillic_dzhe
    0x0490: 0x06bd, // XK_Ukrainian_GHE_WITH_UPTURN
    0x0491: 0x06ad, // XK_Ukrainian_ghe_with_upturn
    0x05d0: 0x0ce0, // XK_hebrew_aleph
    0x05d1: 0x0ce1, // XK_hebrew_bet
    0x05d2: 0x0ce2, // XK_hebrew_gimel
    0x05d3: 0x0ce3, // XK_hebrew_dalet
    0x05d4: 0x0ce4, // XK_hebrew_he
    0x05d5: 0x0ce5, // XK_hebrew_waw
    0x05d6: 0x0ce6, // XK_hebrew_zain
    0x05d7: 0x0ce7, // XK_hebrew_chet
    0x05d8: 0x0ce8, // XK_hebrew_tet
    0x05d9: 0x0ce9, // XK_hebrew_yod
    0x05da: 0x0cea, // XK_hebrew_finalkaph
    0x05db: 0x0ceb, // XK_hebrew_kaph
    0x05dc: 0x0cec, // XK_hebrew_lamed
    0x05dd: 0x0ced, // XK_hebrew_finalmem
    0x05de: 0x0cee, // XK_hebrew_mem
    0x05df: 0x0cef, // XK_hebrew_finalnun
    0x05e0: 0x0cf0, // XK_hebrew_nun
    0x05e1: 0x0cf1, // XK_hebrew_samech
    0x05e2: 0x0cf2, // XK_hebrew_ayin
    0x05e3: 0x0cf3, // XK_hebrew_finalpe
    0x05e4: 0x0cf4, // XK_hebrew_pe
    0x05e5: 0x0cf5, // XK_hebrew_finalzade
    0x05e6: 0x0cf6, // XK_hebrew_zade
    0x05e7: 0x0cf7, // XK_hebrew_qoph
    0x05e8: 0x0cf8, // XK_hebrew_resh
    0x05e9: 0x0cf9, // XK_hebrew_shin
    0x05ea: 0x0cfa, // XK_hebrew_taw
    0x060c: 0x05ac, // XK_Arabic_comma
    0x061b: 0x05bb, // XK_Arabic_semicolon
    0x061f: 0x05bf, // XK_Arabic_question_mark
    0x0621: 0x05c1, // XK_Arabic_hamza
    0x0622: 0x05c2, // XK_Arabic_maddaonalef
    0x0623: 0x05c3, // XK_Arabic_hamzaonalef
    0x0624: 0x05c4, // XK_Arabic_hamzaonwaw
    0x0625: 0x05c5, // XK_Arabic_hamzaunderalef
    0x0626: 0x05c6, // XK_Arabic_hamzaonyeh
    0x0627: 0x05c7, // XK_Arabic_alef
    0x0628: 0x05c8, // XK_Arabic_beh
    0x0629: 0x05c9, // XK_Arabic_tehmarbuta
    0x062a: 0x05ca, // XK_Arabic_teh
    0x062b: 0x05cb, // XK_Arabic_theh
    0x062c: 0x05cc, // XK_Arabic_jeem
    0x062d: 0x05cd, // XK_Arabic_hah
    0x062e: 0x05ce, // XK_Arabic_khah
    0x062f: 0x05cf, // XK_Arabic_dal
    0x0630: 0x05d0, // XK_Arabic_thal
    0x0631: 0x05d1, // XK_Arabic_ra
    0x0632: 0x05d2, // XK_Arabic_zain
    0x0633: 0x05d3, // XK_Arabic_seen
    0x0634: 0x05d4, // XK_Arabic_sheen
    0x0635: 0x05d5, // XK_Arabic_sad
    0x0636: 0x05d6, // XK_Arabic_dad
    0x0637: 0x05d7, // XK_Arabic_tah
    0x0638: 0x05d8, // XK_Arabic_zah
    0x0639: 0x05d9, // XK_Arabic_ain
    0x063a: 0x05da, // XK_Arabic_ghain
    0x0640: 0x05e0, // XK_Arabic_tatweel
    0x0641: 0x05e1, // XK_Arabic_feh
    0x0642: 0x05e2, // XK_Arabic_qaf
    0x0643: 0x05e3, // XK_Arabic_kaf
    0x0644: 0x05e4, // XK_Arabic_lam
    0x0645: 0x05e5, // XK_Arabic_meem
    0x0646: 0x05e6, // XK_Arabic_noon
    0x0647: 0x05e7, // XK_Arabic_ha
    0x0648: 0x05e8, // XK_Arabic_waw
    0x0649: 0x05e9, // XK_Arabic_alefmaksura
    0x064a: 0x05ea, // XK_Arabic_yeh
    0x064b: 0x05eb, // XK_Arabic_fathatan
    0x064c: 0x05ec, // XK_Arabic_dammatan
    0x064d: 0x05ed, // XK_Arabic_kasratan
    0x064e: 0x05ee, // XK_Arabic_fatha
    0x064f: 0x05ef, // XK_Arabic_damma
    0x0650: 0x05f0, // XK_Arabic_kasra
    0x0651: 0x05f1, // XK_Arabic_shadda
    0x0652: 0x05f2, // XK_Arabic_sukun
    0x0e01: 0x0da1, // XK_Thai_kokai
    0x0e02: 0x0da2, // XK_Thai_khokhai
    0x0e03: 0x0da3, // XK_Thai_khokhuat
    0x0e04: 0x0da4, // XK_Thai_khokhwai
    0x0e05: 0x0da5, // XK_Thai_khokhon
    0x0e06: 0x0da6, // XK_Thai_khorakhang
    0x0e07: 0x0da7, // XK_Thai_ngongu
    0x0e08: 0x0da8, // XK_Thai_chochan
    0x0e09: 0x0da9, // XK_Thai_choching
    0x0e0a: 0x0daa, // XK_Thai_chochang
    0x0e0b: 0x0dab, // XK_Thai_soso
    0x0e0c: 0x0dac, // XK_Thai_chochoe
    0x0e0d: 0x0dad, // XK_Thai_yoying
    0x0e0e: 0x0dae, // XK_Thai_dochada
    0x0e0f: 0x0daf, // XK_Thai_topatak
    0x0e10: 0x0db0, // XK_Thai_thothan
    0x0e11: 0x0db1, // XK_Thai_thonangmontho
    0x0e12: 0x0db2, // XK_Thai_thophuthao
    0x0e13: 0x0db3, // XK_Thai_nonen
    0x0e14: 0x0db4, // XK_Thai_dodek
    0x0e15: 0x0db5, // XK_Thai_totao
    0x0e16: 0x0db6, // XK_Thai_thothung
    0x0e17: 0x0db7, // XK_Thai_thothahan
    0x0e18: 0x0db8, // XK_Thai_thothong
    0x0e19: 0x0db9, // XK_Thai_nonu
    0x0e1a: 0x0dba, // XK_Thai_bobaimai
    0x0e1b: 0x0dbb, // XK_Thai_popla
    0x0e1c: 0x0dbc, // XK_Thai_phophung
    0x0e1d: 0x0dbd, // XK_Thai_fofa
    0x0e1e: 0x0dbe, // XK_Thai_phophan
    0x0e1f: 0x0dbf, // XK_Thai_fofan
    0x0e20: 0x0dc0, // XK_Thai_phosamphao
    0x0e21: 0x0dc1, // XK_Thai_moma
    0x0e22: 0x0dc2, // XK_Thai_yoyak
    0x0e23: 0x0dc3, // XK_Thai_rorua
    0x0e24: 0x0dc4, // XK_Thai_ru
    0x0e25: 0x0dc5, // XK_Thai_loling
    0x0e26: 0x0dc6, // XK_Thai_lu
    0x0e27: 0x0dc7, // XK_Thai_wowaen
    0x0e28: 0x0dc8, // XK_Thai_sosala
    0x0e29: 0x0dc9, // XK_Thai_sorusi
    0x0e2a: 0x0dca, // XK_Thai_sosua
    0x0e2b: 0x0dcb, // XK_Thai_hohip
    0x0e2c: 0x0dcc, // XK_Thai_lochula
    0x0e2d: 0x0dcd, // XK_Thai_oang
    0x0e2e: 0x0dce, // XK_Thai_honokhuk
    0x0e2f: 0x0dcf, // XK_Thai_paiyannoi
    0x0e30: 0x0dd0, // XK_Thai_saraa
    0x0e31: 0x0dd1, // XK_Thai_maihanakat
    0x0e32: 0x0dd2, // XK_Thai_saraaa
    0x0e33: 0x0dd3, // XK_Thai_saraam
    0x0e34: 0x0dd4, // XK_Thai_sarai
    0x0e35: 0x0dd5, // XK_Thai_saraii
    0x0e36: 0x0dd6, // XK_Thai_saraue
    0x0e37: 0x0dd7, // XK_Thai_sarauee
    0x0e38: 0x0dd8, // XK_Thai_sarau
    0x0e39: 0x0dd9, // XK_Thai_sarauu
    0x0e3a: 0x0dda, // XK_Thai_phinthu
    0x0e3f: 0x0ddf, // XK_Thai_baht
    0x0e40: 0x0de0, // XK_Thai_sarae
    0x0e41: 0x0de1, // XK_Thai_saraae
    0x0e42: 0x0de2, // XK_Thai_sarao
    0x0e43: 0x0de3, // XK_Thai_saraaimaimuan
    0x0e44: 0x0de4, // XK_Thai_saraaimaimalai
    0x0e45: 0x0de5, // XK_Thai_lakkhangyao
    0x0e46: 0x0de6, // XK_Thai_maiyamok
    0x0e47: 0x0de7, // XK_Thai_maitaikhu
    0x0e48: 0x0de8, // XK_Thai_maiek
    0x0e49: 0x0de9, // XK_Thai_maitho
    0x0e4a: 0x0dea, // XK_Thai_maitri
    0x0e4b: 0x0deb, // XK_Thai_maichattawa
    0x0e4c: 0x0dec, // XK_Thai_thanthakhat
    0x0e4d: 0x0ded, // XK_Thai_nikhahit
    0x0e50: 0x0df0, // XK_Thai_leksun
    0x0e51: 0x0df1, // XK_Thai_leknung
    0x0e52: 0x0df2, // XK_Thai_leksong
    0x0e53: 0x0df3, // XK_Thai_leksam
    0x0e54: 0x0df4, // XK_Thai_leksi
    0x0e55: 0x0df5, // XK_Thai_lekha
    0x0e56: 0x0df6, // XK_Thai_lekhok
    0x0e57: 0x0df7, // XK_Thai_lekchet
    0x0e58: 0x0df8, // XK_Thai_lekpaet
    0x0e59: 0x0df9, // XK_Thai_lekkao
    0x2002: 0x0aa2, // XK_enspace
    0x2003: 0x0aa1, // XK_emspace
    0x2004: 0x0aa3, // XK_em3space
    0x2005: 0x0aa4, // XK_em4space
    0x2007: 0x0aa5, // XK_digitspace
    0x2008: 0x0aa6, // XK_punctspace
    0x2009: 0x0aa7, // XK_thinspace
    0x200a: 0x0aa8, // XK_hairspace
    0x2012: 0x0abb, // XK_figdash
    0x2013: 0x0aaa, // XK_endash
    0x2014: 0x0aa9, // XK_emdash
    0x2015: 0x07af, // XK_Greek_horizbar
    0x2017: 0x0cdf, // XK_hebrew_doublelowline
    0x2018: 0x0ad0, // XK_leftsinglequotemark
    0x2019: 0x0ad1, // XK_rightsinglequotemark
    0x201a: 0x0afd, // XK_singlelowquotemark
    0x201c: 0x0ad2, // XK_leftdoublequotemark
    0x201d: 0x0ad3, // XK_rightdoublequotemark
    0x201e: 0x0afe, // XK_doublelowquotemark
    0x2020: 0x0af1, // XK_dagger
    0x2021: 0x0af2, // XK_doubledagger
    0x2022: 0x0ae6, // XK_enfilledcircbullet
    0x2025: 0x0aaf, // XK_doubbaselinedot
    0x2026: 0x0aae, // XK_ellipsis
    0x2030: 0x0ad5, // XK_permille
    0x2032: 0x0ad6, // XK_minutes
    0x2033: 0x0ad7, // XK_seconds
    0x2038: 0x0afc, // XK_caret
    0x203e: 0x047e, // XK_overline
    0x20a9: 0x0eff, // XK_Korean_Won
    0x20ac: 0x20ac, // XK_EuroSign
    0x2105: 0x0ab8, // XK_careof
    0x2116: 0x06b0, // XK_numerosign
    0x2117: 0x0afb, // XK_phonographcopyright
    0x211e: 0x0ad4, // XK_prescription
    0x2122: 0x0ac9, // XK_trademark
    0x2153: 0x0ab0, // XK_onethird
    0x2154: 0x0ab1, // XK_twothirds
    0x2155: 0x0ab2, // XK_onefifth
    0x2156: 0x0ab3, // XK_twofifths
    0x2157: 0x0ab4, // XK_threefifths
    0x2158: 0x0ab5, // XK_fourfifths
    0x2159: 0x0ab6, // XK_onesixth
    0x215a: 0x0ab7, // XK_fivesixths
    0x215b: 0x0ac3, // XK_oneeighth
    0x215c: 0x0ac4, // XK_threeeighths
    0x215d: 0x0ac5, // XK_fiveeighths
    0x215e: 0x0ac6, // XK_seveneighths
    0x2190: 0x08fb, // XK_leftarrow
    0x2191: 0x08fc, // XK_uparrow
    0x2192: 0x08fd, // XK_rightarrow
    0x2193: 0x08fe, // XK_downarrow
    0x21d2: 0x08ce, // XK_implies
    0x21d4: 0x08cd, // XK_ifonlyif
    0x2202: 0x08ef, // XK_partialderivative
    0x2207: 0x08c5, // XK_nabla
    0x2218: 0x0bca, // XK_jot
    0x221a: 0x08d6, // XK_radical
    0x221d: 0x08c1, // XK_variation
    0x221e: 0x08c2, // XK_infinity
    0x2227: 0x08de, // XK_logicaland
    0x2228: 0x08df, // XK_logicalor
    0x2229: 0x08dc, // XK_intersection
    0x222a: 0x08dd, // XK_union
    0x222b: 0x08bf, // XK_integral
    0x2234: 0x08c0, // XK_therefore
    0x223c: 0x08c8, // XK_approximate
    0x2243: 0x08c9, // XK_similarequal
    0x2245: 0x1002248, // XK_approxeq
    0x2260: 0x08bd, // XK_notequal
    0x2261: 0x08cf, // XK_identical
    0x2264: 0x08bc, // XK_lessthanequal
    0x2265: 0x08be, // XK_greaterthanequal
    0x2282: 0x08da, // XK_includedin
    0x2283: 0x08db, // XK_includes
    0x22a2: 0x0bfc, // XK_righttack
    0x22a3: 0x0bdc, // XK_lefttack
    0x22a4: 0x0bc2, // XK_downtack
    0x22a5: 0x0bce, // XK_uptack
    0x2308: 0x0bd3, // XK_upstile
    0x230a: 0x0bc4, // XK_downstile
    0x2315: 0x0afa, // XK_telephonerecorder
    0x2320: 0x08a4, // XK_topintegral
    0x2321: 0x08a5, // XK_botintegral
    0x2395: 0x0bcc, // XK_quad
    0x239b: 0x08ab, // XK_topleftparens
    0x239d: 0x08ac, // XK_botleftparens
    0x239e: 0x08ad, // XK_toprightparens
    0x23a0: 0x08ae, // XK_botrightparens
    0x23a1: 0x08a7, // XK_topleftsqbracket
    0x23a3: 0x08a8, // XK_botleftsqbracket
    0x23a4: 0x08a9, // XK_toprightsqbracket
    0x23a6: 0x08aa, // XK_botrightsqbracket
    0x23a8: 0x08af, // XK_leftmiddlecurlybrace
    0x23ac: 0x08b0, // XK_rightmiddlecurlybrace
    0x23b7: 0x08a1, // XK_leftradical
    0x23ba: 0x09ef, // XK_horizlinescan1
    0x23bb: 0x09f0, // XK_horizlinescan3
    0x23bc: 0x09f2, // XK_horizlinescan7
    0x23bd: 0x09f3, // XK_horizlinescan9
    0x2409: 0x09e2, // XK_ht
    0x240a: 0x09e5, // XK_lf
    0x240b: 0x09e9, // XK_vt
    0x240c: 0x09e3, // XK_ff
    0x240d: 0x09e4, // XK_cr
    0x2423: 0x0aac, // XK_signifblank
    0x2424: 0x09e8, // XK_nl
    0x2500: 0x08a3, // XK_horizconnector
    0x2502: 0x08a6, // XK_vertconnector
    0x250c: 0x08a2, // XK_topleftradical
    0x2510: 0x09eb, // XK_uprightcorner
    0x2514: 0x09ed, // XK_lowleftcorner
    0x2518: 0x09ea, // XK_lowrightcorner
    0x251c: 0x09f4, // XK_leftt
    0x2524: 0x09f5, // XK_rightt
    0x252c: 0x09f7, // XK_topt
    0x2534: 0x09f6, // XK_bott
    0x253c: 0x09ee, // XK_crossinglines
    0x2592: 0x09e1, // XK_checkerboard
    0x25aa: 0x0ae7, // XK_enfilledsqbullet
    0x25ab: 0x0ae1, // XK_enopensquarebullet
    0x25ac: 0x0adb, // XK_filledrectbullet
    0x25ad: 0x0ae2, // XK_openrectbullet
    0x25ae: 0x0adf, // XK_emfilledrect
    0x25af: 0x0acf, // XK_emopenrectangle
    0x25b2: 0x0ae8, // XK_filledtribulletup
    0x25b3: 0x0ae3, // XK_opentribulletup
    0x25b6: 0x0add, // XK_filledrighttribullet
    0x25b7: 0x0acd, // XK_rightopentriangle
    0x25bc: 0x0ae9, // XK_filledtribulletdown
    0x25bd: 0x0ae4, // XK_opentribulletdown
    0x25c0: 0x0adc, // XK_filledlefttribullet
    0x25c1: 0x0acc, // XK_leftopentriangle
    0x25c6: 0x09e0, // XK_soliddiamond
    0x25cb: 0x0ace, // XK_emopencircle
    0x25cf: 0x0ade, // XK_emfilledcircle
    0x25e6: 0x0ae0, // XK_enopencircbullet
    0x2606: 0x0ae5, // XK_openstar
    0x260e: 0x0af9, // XK_telephone
    0x2613: 0x0aca, // XK_signaturemark
    0x261c: 0x0aea, // XK_leftpointer
    0x261e: 0x0aeb, // XK_rightpointer
    0x2640: 0x0af8, // XK_femalesymbol
    0x2642: 0x0af7, // XK_malesymbol
    0x2663: 0x0aec, // XK_club
    0x2665: 0x0aee, // XK_heart
    0x2666: 0x0aed, // XK_diamond
    0x266d: 0x0af6, // XK_musicalflat
    0x266f: 0x0af5, // XK_musicalsharp
    0x2713: 0x0af3, // XK_checkmark
    0x2717: 0x0af4, // XK_ballotcross
    0x271d: 0x0ad9, // XK_latincross
    0x2720: 0x0af0, // XK_maltesecross
    0x27e8: 0x0abc, // XK_leftanglebracket
    0x27e9: 0x0abe, // XK_rightanglebracket
    0x3001: 0x04a4, // XK_kana_comma
    0x3002: 0x04a1, // XK_kana_fullstop
    0x300c: 0x04a2, // XK_kana_openingbracket
    0x300d: 0x04a3, // XK_kana_closingbracket
    0x309b: 0x04de, // XK_voicedsound
    0x309c: 0x04df, // XK_semivoicedsound
    0x30a1: 0x04a7, // XK_kana_a
    0x30a2: 0x04b1, // XK_kana_A
    0x30a3: 0x04a8, // XK_kana_i
    0x30a4: 0x04b2, // XK_kana_I
    0x30a5: 0x04a9, // XK_kana_u
    0x30a6: 0x04b3, // XK_kana_U
    0x30a7: 0x04aa, // XK_kana_e
    0x30a8: 0x04b4, // XK_kana_E
    0x30a9: 0x04ab, // XK_kana_o
    0x30aa: 0x04b5, // XK_kana_O
    0x30ab: 0x04b6, // XK_kana_KA
    0x30ad: 0x04b7, // XK_kana_KI
    0x30af: 0x04b8, // XK_kana_KU
    0x30b1: 0x04b9, // XK_kana_KE
    0x30b3: 0x04ba, // XK_kana_KO
    0x30b5: 0x04bb, // XK_kana_SA
    0x30b7: 0x04bc, // XK_kana_SHI
    0x30b9: 0x04bd, // XK_kana_SU
    0x30bb: 0x04be, // XK_kana_SE
    0x30bd: 0x04bf, // XK_kana_SO
    0x30bf: 0x04c0, // XK_kana_TA
    0x30c1: 0x04c1, // XK_kana_CHI
    0x30c3: 0x04af, // XK_kana_tsu
    0x30c4: 0x04c2, // XK_kana_TSU
    0x30c6: 0x04c3, // XK_kana_TE
    0x30c8: 0x04c4, // XK_kana_TO
    0x30ca: 0x04c5, // XK_kana_NA
    0x30cb: 0x04c6, // XK_kana_NI
    0x30cc: 0x04c7, // XK_kana_NU
    0x30cd: 0x04c8, // XK_kana_NE
    0x30ce: 0x04c9, // XK_kana_NO
    0x30cf: 0x04ca, // XK_kana_HA
    0x30d2: 0x04cb, // XK_kana_HI
    0x30d5: 0x04cc, // XK_kana_FU
    0x30d8: 0x04cd, // XK_kana_HE
    0x30db: 0x04ce, // XK_kana_HO
    0x30de: 0x04cf, // XK_kana_MA
    0x30df: 0x04d0, // XK_kana_MI
    0x30e0: 0x04d1, // XK_kana_MU
    0x30e1: 0x04d2, // XK_kana_ME
    0x30e2: 0x04d3, // XK_kana_MO
    0x30e3: 0x04ac, // XK_kana_ya
    0x30e4: 0x04d4, // XK_kana_YA
    0x30e5: 0x04ad, // XK_kana_yu
    0x30e6: 0x04d5, // XK_kana_YU
    0x30e7: 0x04ae, // XK_kana_yo
    0x30e8: 0x04d6, // XK_kana_YO
    0x30e9: 0x04d7, // XK_kana_RA
    0x30ea: 0x04d8, // XK_kana_RI
    0x30eb: 0x04d9, // XK_kana_RU
    0x30ec: 0x04da, // XK_kana_RE
    0x30ed: 0x04db, // XK_kana_RO
    0x30ef: 0x04dc, // XK_kana_WA
    0x30f2: 0x04a6, // XK_kana_WO
    0x30f3: 0x04dd, // XK_kana_N
    0x30fb: 0x04a5, // XK_kana_conjunctive
    0x30fc: 0x04b0, // XK_prolongedsound
};

/* harmony default export */ __webpack_exports__["default"] = ({
    lookup : function(u) {
        // Latin-1 is one-to-one mapping
        if ((u >= 0x20) && (u <= 0xff)) {
            return u;
        }

        // Lookup table (fairly random)
        var keysym = codepoints[u];
        if (keysym !== undefined) {
            return keysym;
        }

        // General mapping as final fallback
        return 0x01000000 | u;
    },
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/mouse.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/mouse.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Mouse; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/events.js */ "./node_modules/@novnc/novnc/core/util/events.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2013 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */





var WHEEL_STEP = 10; // Delta threshold for a mouse wheel step
var WHEEL_STEP_TIMEOUT = 50; // ms
var WHEEL_LINE_HEIGHT = 19;

function Mouse(target) {
    this._target = target || document;

    this._doubleClickTimer = null;
    this._lastTouchPos = null;

    this._pos = null;
    this._wheelStepXTimer = null;
    this._wheelStepYTimer = null;
    this._accumulatedWheelDeltaX = 0;
    this._accumulatedWheelDeltaY = 0;

    this._eventHandlers = {
        'mousedown': this._handleMouseDown.bind(this),
        'mouseup': this._handleMouseUp.bind(this),
        'mousemove': this._handleMouseMove.bind(this),
        'mousewheel': this._handleMouseWheel.bind(this),
        'mousedisable': this._handleMouseDisable.bind(this)
    };
};

Mouse.prototype = {
    // ===== PROPERTIES =====

    touchButton: 1,                 // Button mask (1, 2, 4) for touch devices (0 means ignore clicks)

    // ===== EVENT HANDLERS =====

    onmousebutton: function () {},  // Handler for mouse button click/release
    onmousemove: function () {},    // Handler for mouse movement

    // ===== PRIVATE METHODS =====

    _resetDoubleClickTimer: function () {
        this._doubleClickTimer = null;
    },

    _handleMouseButton: function (e, down) {
        this._updateMousePosition(e);
        var pos = this._pos;

        var bmask;
        if (e.touches || e.changedTouches) {
            // Touch device

            // When two touches occur within 500 ms of each other and are
            // close enough together a double click is triggered.
            if (down == 1) {
                if (this._doubleClickTimer === null) {
                    this._lastTouchPos = pos;
                } else {
                    clearTimeout(this._doubleClickTimer);

                    // When the distance between the two touches is small enough
                    // force the position of the latter touch to the position of
                    // the first.

                    var xs = this._lastTouchPos.x - pos.x;
                    var ys = this._lastTouchPos.y - pos.y;
                    var d = Math.sqrt((xs * xs) + (ys * ys));

                    // The goal is to trigger on a certain physical width, the
                    // devicePixelRatio brings us a bit closer but is not optimal.
                    var threshold = 20 * (window.devicePixelRatio || 1);
                    if (d < threshold) {
                        pos = this._lastTouchPos;
                    }
                }
                this._doubleClickTimer = setTimeout(this._resetDoubleClickTimer.bind(this), 500);
            }
            bmask = this.touchButton;
            // If bmask is set
        } else if (e.which) {
            /* everything except IE */
            bmask = 1 << e.button;
        } else {
            /* IE including 9 */
            bmask = (e.button & 0x1) +      // Left
                    (e.button & 0x2) * 2 +  // Right
                    (e.button & 0x4) / 2;   // Middle
        }

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("onmousebutton " + (down ? "down" : "up") +
                  ", x: " + pos.x + ", y: " + pos.y + ", bmask: " + bmask);
        this.onmousebutton(pos.x, pos.y, down, bmask);

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseDown: function (e) {
        // Touch events have implicit capture
        if (e.type === "mousedown") {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["setCapture"])(this._target);
        }

        this._handleMouseButton(e, 1);
    },

    _handleMouseUp: function (e) {
        this._handleMouseButton(e, 0);
    },

    // Mouse wheel events are sent in steps over VNC. This means that the VNC
    // protocol can't handle a wheel event with specific distance or speed.
    // Therefor, if we get a lot of small mouse wheel events we combine them.
    _generateWheelStepX: function () {

        if (this._accumulatedWheelDeltaX < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 5);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 5);
        } else if (this._accumulatedWheelDeltaX > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 6);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 6);
        }

        this._accumulatedWheelDeltaX = 0;
    },

    _generateWheelStepY: function () {

        if (this._accumulatedWheelDeltaY < 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 3);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 3);
        } else if (this._accumulatedWheelDeltaY > 0) {
            this.onmousebutton(this._pos.x, this._pos.y, 1, 1 << 4);
            this.onmousebutton(this._pos.x, this._pos.y, 0, 1 << 4);
        }

        this._accumulatedWheelDeltaY = 0;
    },

    _resetWheelStepTimers: function () {
        window.clearTimeout(this._wheelStepXTimer);
        window.clearTimeout(this._wheelStepYTimer);
        this._wheelStepXTimer = null;
        this._wheelStepYTimer = null;
    },

    _handleMouseWheel: function (e) {
        this._resetWheelStepTimers();

        this._updateMousePosition(e);

        var dX = e.deltaX;
        var dY = e.deltaY;

        // Pixel units unless it's non-zero.
        // Note that if deltamode is line or page won't matter since we aren't
        // sending the mouse wheel delta to the server anyway.
        // The difference between pixel and line can be important however since
        // we have a threshold that can be smaller than the line height.
        if (e.deltaMode !== 0) {
            dX *= WHEEL_LINE_HEIGHT;
            dY *= WHEEL_LINE_HEIGHT;
        }

        this._accumulatedWheelDeltaX += dX;
        this._accumulatedWheelDeltaY += dY;

        // Generate a mouse wheel step event when the accumulated delta
        // for one of the axes is large enough.
        // Small delta events that do not pass the threshold get sent
        // after a timeout.
        if (Math.abs(this._accumulatedWheelDeltaX) > WHEEL_STEP) {
            this._generateWheelStepX();
        } else {
            this._wheelStepXTimer =
                window.setTimeout(this._generateWheelStepX.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }
        if (Math.abs(this._accumulatedWheelDeltaY) > WHEEL_STEP) {
            this._generateWheelStepY();
        } else {
            this._wheelStepYTimer =
                window.setTimeout(this._generateWheelStepY.bind(this),
                                  WHEEL_STEP_TIMEOUT);
        }

        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseMove: function (e) {
        this._updateMousePosition(e);
        this.onmousemove(this._pos.x, this._pos.y);
        Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
    },

    _handleMouseDisable: function (e) {
        /*
         * Stop propagation if inside canvas area
         * Note: This is only needed for the 'click' event as it fails
         *       to fire properly for the target element so we have
         *       to listen on the document element instead.
         */
        if (e.target == this._target) {
            Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["stopEvent"])(e);
        }
    },

    // Update coordinates relative to target
    _updateMousePosition: function(e) {
        e = Object(_util_events_js__WEBPACK_IMPORTED_MODULE_2__["getPointerEvent"])(e);
        var bounds = this._target.getBoundingClientRect();
        var x, y;
        // Clip to target bounds
        if (e.clientX < bounds.left) {
            x = 0;
        } else if (e.clientX >= bounds.right) {
            x = bounds.width - 1;
        } else {
            x = e.clientX - bounds.left;
        }
        if (e.clientY < bounds.top) {
            y = 0;
        } else if (e.clientY >= bounds.bottom) {
            y = bounds.height - 1;
        } else {
            y = e.clientY - bounds.top;
        }
        this._pos = {x:x, y:y};
    },

    // ===== PUBLIC METHODS =====

    grab: function () {
        var c = this._target;

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            c.addEventListener('touchstart', this._eventHandlers.mousedown);
            c.addEventListener('touchend', this._eventHandlers.mouseup);
            c.addEventListener('touchmove', this._eventHandlers.mousemove);
        }
        c.addEventListener('mousedown', this._eventHandlers.mousedown);
        c.addEventListener('mouseup', this._eventHandlers.mouseup);
        c.addEventListener('mousemove', this._eventHandlers.mousemove);
        c.addEventListener('wheel', this._eventHandlers.mousewheel);

        /* Prevent middle-click pasting (see above for why we bind to document) */
        document.addEventListener('click', this._eventHandlers.mousedisable);

        /* preventDefault() on mousedown doesn't stop this event for some
           reason so we have to explicitly block it */
        c.addEventListener('contextmenu', this._eventHandlers.mousedisable);
    },

    ungrab: function () {
        var c = this._target;

        this._resetWheelStepTimers();

        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_1__["isTouchDevice"]) {
            c.removeEventListener('touchstart', this._eventHandlers.mousedown);
            c.removeEventListener('touchend', this._eventHandlers.mouseup);
            c.removeEventListener('touchmove', this._eventHandlers.mousemove);
        }
        c.removeEventListener('mousedown', this._eventHandlers.mousedown);
        c.removeEventListener('mouseup', this._eventHandlers.mouseup);
        c.removeEventListener('mousemove', this._eventHandlers.mousemove);
        c.removeEventListener('wheel', this._eventHandlers.mousewheel);

        document.removeEventListener('click', this._eventHandlers.mousedisable);

        c.removeEventListener('contextmenu', this._eventHandlers.mousedisable);
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/util.js":
/*!******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/util.js ***!
  \******************************************************/
/*! exports provided: getKeycode, getKey, getKeysym */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeycode", function() { return getKeycode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKey", function() { return getKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getKeysym", function() { return getKeysym; });
/* harmony import */ var _keysym_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _keysymdef_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keysymdef.js */ "./node_modules/@novnc/novnc/core/input/keysymdef.js");
/* harmony import */ var _vkeys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vkeys.js */ "./node_modules/@novnc/novnc/core/input/vkeys.js");
/* harmony import */ var _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fixedkeys.js */ "./node_modules/@novnc/novnc/core/input/fixedkeys.js");
/* harmony import */ var _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./domkeytable.js */ "./node_modules/@novnc/novnc/core/input/domkeytable.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");







// Get 'KeyboardEvent.code', handling legacy browsers
function getKeycode(evt){
    // Are we getting proper key identifiers?
    // (unfortunately Firefox and Chrome are crappy here and gives
    // us an empty string on some platforms, rather than leaving it
    // undefined)
    if (evt.code) {
        // Mozilla isn't fully in sync with the spec yet
        switch (evt.code) {
            case 'OSLeft': return 'MetaLeft';
            case 'OSRight': return 'MetaRight';
        }

        return evt.code;
    }

    // The de-facto standard is to use Windows Virtual-Key codes
    // in the 'keyCode' field for non-printable characters. However
    // Webkit sets it to the same as charCode in 'keypress' events.
    if ((evt.type !== 'keypress') && (evt.keyCode in _vkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"])) {
        var code = _vkeys_js__WEBPACK_IMPORTED_MODULE_2__["default"][evt.keyCode];

        // macOS has messed up this code for some reason
        if (_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isMac"]() && (code === 'ContextMenu')) {
            code = 'MetaRight';
        }

        // The keyCode doesn't distinguish between left and right
        // for the standard modifiers
        if (evt.location === 2) {
            switch (code) {
                case 'ShiftLeft': return 'ShiftRight';
                case 'ControlLeft': return 'ControlRight';
                case 'AltLeft': return 'AltRight';
            }
        }

        // Nor a bunch of the numpad keys
        if (evt.location === 3) {
            switch (code) {
                case 'Delete': return 'NumpadDecimal';
                case 'Insert': return 'Numpad0';
                case 'End': return 'Numpad1';
                case 'ArrowDown': return 'Numpad2';
                case 'PageDown': return 'Numpad3';
                case 'ArrowLeft': return 'Numpad4';
                case 'ArrowRight': return 'Numpad6';
                case 'Home': return 'Numpad7';
                case 'ArrowUp': return 'Numpad8';
                case 'PageUp': return 'Numpad9';
                case 'Enter': return 'NumpadEnter';
            }
        }

        return code;
    }

    return 'Unidentified';
}

// Get 'KeyboardEvent.key', handling legacy browsers
function getKey(evt) {
    // Are we getting a proper key value?
    if (evt.key !== undefined) {
        // IE and Edge use some ancient version of the spec
        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/
        switch (evt.key) {
            case 'Spacebar': return ' ';
            case 'Esc': return 'Escape';
            case 'Scroll': return 'ScrollLock';
            case 'Win': return 'Meta';
            case 'Apps': return 'ContextMenu';
            case 'Up': return 'ArrowUp';
            case 'Left': return 'ArrowLeft';
            case 'Right': return 'ArrowRight';
            case 'Down': return 'ArrowDown';
            case 'Del': return 'Delete';
            case 'Divide': return '/';
            case 'Multiply': return '*';
            case 'Subtract': return '-';
            case 'Add': return '+';
            case 'Decimal': return evt.char;
        }

        // Mozilla isn't fully in sync with the spec yet
        switch (evt.key) {
            case 'OS': return 'Meta';
        }

        // iOS leaks some OS names
        switch (evt.key) {
            case 'UIKeyInputUpArrow': return 'ArrowUp';
            case 'UIKeyInputDownArrow': return 'ArrowDown';
            case 'UIKeyInputLeftArrow': return 'ArrowLeft';
            case 'UIKeyInputRightArrow': return 'ArrowRight';
            case 'UIKeyInputEscape': return 'Escape';
        }

        // IE and Edge have broken handling of AltGraph so we cannot
        // trust them for printable characters
        if ((evt.key.length !== 1) || (!_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isIE"]() && !_util_browser_js__WEBPACK_IMPORTED_MODULE_5__["isEdge"]())) {
            return evt.key;
        }
    }

    // Try to deduce it based on the physical key
    var code = getKeycode(evt);
    if (code in _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__["default"]) {
        return _fixedkeys_js__WEBPACK_IMPORTED_MODULE_3__["default"][code];
    }

    // If that failed, then see if we have a printable character
    if (evt.charCode) {
        return String.fromCharCode(evt.charCode);
    }

    // At this point we have nothing left to go on
    return 'Unidentified';
}

// Get the most reliable keysym value we can get from a key event
function getKeysym(evt){
    var key = getKey(evt);

    if (key === 'Unidentified') {
        return null;
    }

    // First look up special keys
    if (key in _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__["default"]) {
        var location = evt.location;

        // Safari screws up location for the right cmd key
        if ((key === 'Meta') && (location === 0)) {
            location = 2;
        }

        if ((location === undefined) || (location > 3)) {
            location = 0;
        }

        return _domkeytable_js__WEBPACK_IMPORTED_MODULE_4__["default"][key][location];
    }

    // Now we need to look at the Unicode symbol instead

    var codepoint;

    // Special key? (FIXME: Should have been caught earlier)
    if (key.length !== 1) {
        return null;
    }

    codepoint = key.charCodeAt();
    if (codepoint) {
        return _keysymdef_js__WEBPACK_IMPORTED_MODULE_1__["default"].lookup(codepoint);
    }

    return null;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/vkeys.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/vkeys.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/*
 * Mapping between Microsoft® Windows® Virtual-Key codes and
 * HTML key codes.
 */

/* harmony default export */ __webpack_exports__["default"] = ({
    0x08: 'Backspace',
    0x09: 'Tab',
    0x0a: 'NumpadClear',
    0x0d: 'Enter',
    0x10: 'ShiftLeft',
    0x11: 'ControlLeft',
    0x12: 'AltLeft',
    0x13: 'Pause',
    0x14: 'CapsLock',
    0x15: 'Lang1',
    0x19: 'Lang2',
    0x1b: 'Escape',
    0x1c: 'Convert',
    0x1d: 'NonConvert',
    0x20: 'Space',
    0x21: 'PageUp',
    0x22: 'PageDown',
    0x23: 'End',
    0x24: 'Home',
    0x25: 'ArrowLeft',
    0x26: 'ArrowUp',
    0x27: 'ArrowRight',
    0x28: 'ArrowDown',
    0x29: 'Select',
    0x2c: 'PrintScreen',
    0x2d: 'Insert',
    0x2e: 'Delete',
    0x2f: 'Help',
    0x30: 'Digit0',
    0x31: 'Digit1',
    0x32: 'Digit2',
    0x33: 'Digit3',
    0x34: 'Digit4',
    0x35: 'Digit5',
    0x36: 'Digit6',
    0x37: 'Digit7',
    0x38: 'Digit8',
    0x39: 'Digit9',
    0x5b: 'MetaLeft',
    0x5c: 'MetaRight',
    0x5d: 'ContextMenu',
    0x5f: 'Sleep',
    0x60: 'Numpad0',
    0x61: 'Numpad1',
    0x62: 'Numpad2',
    0x63: 'Numpad3',
    0x64: 'Numpad4',
    0x65: 'Numpad5',
    0x66: 'Numpad6',
    0x67: 'Numpad7',
    0x68: 'Numpad8',
    0x69: 'Numpad9',
    0x6a: 'NumpadMultiply',
    0x6b: 'NumpadAdd',
    0x6c: 'NumpadDecimal',
    0x6d: 'NumpadSubtract',
    0x6e: 'NumpadDecimal', // Duplicate, because buggy on Windows
    0x6f: 'NumpadDivide',
    0x70: 'F1',
    0x71: 'F2',
    0x72: 'F3',
    0x73: 'F4',
    0x74: 'F5',
    0x75: 'F6',
    0x76: 'F7',
    0x77: 'F8',
    0x78: 'F9',
    0x79: 'F10',
    0x7a: 'F11',
    0x7b: 'F12',
    0x7c: 'F13',
    0x7d: 'F14',
    0x7e: 'F15',
    0x7f: 'F16',
    0x80: 'F17',
    0x81: 'F18',
    0x82: 'F19',
    0x83: 'F20',
    0x84: 'F21',
    0x85: 'F22',
    0x86: 'F23',
    0x87: 'F24',
    0x90: 'NumLock',
    0x91: 'ScrollLock',
    0xa6: 'BrowserBack',
    0xa7: 'BrowserForward',
    0xa8: 'BrowserRefresh',
    0xa9: 'BrowserStop',
    0xaa: 'BrowserSearch',
    0xab: 'BrowserFavorites',
    0xac: 'BrowserHome',
    0xad: 'AudioVolumeMute',
    0xae: 'AudioVolumeDown',
    0xaf: 'AudioVolumeUp',
    0xb0: 'MediaTrackNext',
    0xb1: 'MediaTrackPrevious',
    0xb2: 'MediaStop',
    0xb3: 'MediaPlayPause',
    0xb4: 'LaunchMail',
    0xb5: 'MediaSelect',
    0xb6: 'LaunchApp1',
    0xb7: 'LaunchApp2',
    0xe1: 'AltRight', // Only when it is AltGraph
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/input/xtscancodes.js":
/*!*************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/input/xtscancodes.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * This file is auto-generated from keymaps.csv on 2017-05-31 16:20
 * Database checksum sha256(92fd165507f2a3b8c5b3fa56e425d45788dbcb98cf067a307527d91ce22cab94)
 * To re-generate, run:
 *   keymap-gen --lang=js code-map keymaps.csv html atset1
*/
/* harmony default export */ __webpack_exports__["default"] = ({
  "Again": 0xe005, /* html:Again (Again) -> linux:129 (KEY_AGAIN) -> atset1:57349 */
  "AltLeft": 0x38, /* html:AltLeft (AltLeft) -> linux:56 (KEY_LEFTALT) -> atset1:56 */
  "AltRight": 0xe038, /* html:AltRight (AltRight) -> linux:100 (KEY_RIGHTALT) -> atset1:57400 */
  "ArrowDown": 0xe050, /* html:ArrowDown (ArrowDown) -> linux:108 (KEY_DOWN) -> atset1:57424 */
  "ArrowLeft": 0xe04b, /* html:ArrowLeft (ArrowLeft) -> linux:105 (KEY_LEFT) -> atset1:57419 */
  "ArrowRight": 0xe04d, /* html:ArrowRight (ArrowRight) -> linux:106 (KEY_RIGHT) -> atset1:57421 */
  "ArrowUp": 0xe048, /* html:ArrowUp (ArrowUp) -> linux:103 (KEY_UP) -> atset1:57416 */
  "AudioVolumeDown": 0xe02e, /* html:AudioVolumeDown (AudioVolumeDown) -> linux:114 (KEY_VOLUMEDOWN) -> atset1:57390 */
  "AudioVolumeMute": 0xe020, /* html:AudioVolumeMute (AudioVolumeMute) -> linux:113 (KEY_MUTE) -> atset1:57376 */
  "AudioVolumeUp": 0xe030, /* html:AudioVolumeUp (AudioVolumeUp) -> linux:115 (KEY_VOLUMEUP) -> atset1:57392 */
  "Backquote": 0x29, /* html:Backquote (Backquote) -> linux:41 (KEY_GRAVE) -> atset1:41 */
  "Backslash": 0x2b, /* html:Backslash (Backslash) -> linux:43 (KEY_BACKSLASH) -> atset1:43 */
  "Backspace": 0xe, /* html:Backspace (Backspace) -> linux:14 (KEY_BACKSPACE) -> atset1:14 */
  "BracketLeft": 0x1a, /* html:BracketLeft (BracketLeft) -> linux:26 (KEY_LEFTBRACE) -> atset1:26 */
  "BracketRight": 0x1b, /* html:BracketRight (BracketRight) -> linux:27 (KEY_RIGHTBRACE) -> atset1:27 */
  "BrowserBack": 0xe06a, /* html:BrowserBack (BrowserBack) -> linux:158 (KEY_BACK) -> atset1:57450 */
  "BrowserFavorites": 0xe066, /* html:BrowserFavorites (BrowserFavorites) -> linux:156 (KEY_BOOKMARKS) -> atset1:57446 */
  "BrowserForward": 0xe069, /* html:BrowserForward (BrowserForward) -> linux:159 (KEY_FORWARD) -> atset1:57449 */
  "BrowserHome": 0xe032, /* html:BrowserHome (BrowserHome) -> linux:172 (KEY_HOMEPAGE) -> atset1:57394 */
  "BrowserRefresh": 0xe067, /* html:BrowserRefresh (BrowserRefresh) -> linux:173 (KEY_REFRESH) -> atset1:57447 */
  "BrowserSearch": 0xe065, /* html:BrowserSearch (BrowserSearch) -> linux:217 (KEY_SEARCH) -> atset1:57445 */
  "BrowserStop": 0xe068, /* html:BrowserStop (BrowserStop) -> linux:128 (KEY_STOP) -> atset1:57448 */
  "CapsLock": 0x3a, /* html:CapsLock (CapsLock) -> linux:58 (KEY_CAPSLOCK) -> atset1:58 */
  "Comma": 0x33, /* html:Comma (Comma) -> linux:51 (KEY_COMMA) -> atset1:51 */
  "ContextMenu": 0xe05d, /* html:ContextMenu (ContextMenu) -> linux:127 (KEY_COMPOSE) -> atset1:57437 */
  "ControlLeft": 0x1d, /* html:ControlLeft (ControlLeft) -> linux:29 (KEY_LEFTCTRL) -> atset1:29 */
  "ControlRight": 0xe01d, /* html:ControlRight (ControlRight) -> linux:97 (KEY_RIGHTCTRL) -> atset1:57373 */
  "Convert": 0x79, /* html:Convert (Convert) -> linux:92 (KEY_HENKAN) -> atset1:121 */
  "Copy": 0xe078, /* html:Copy (Copy) -> linux:133 (KEY_COPY) -> atset1:57464 */
  "Cut": 0xe03c, /* html:Cut (Cut) -> linux:137 (KEY_CUT) -> atset1:57404 */
  "Delete": 0xe053, /* html:Delete (Delete) -> linux:111 (KEY_DELETE) -> atset1:57427 */
  "Digit0": 0xb, /* html:Digit0 (Digit0) -> linux:11 (KEY_0) -> atset1:11 */
  "Digit1": 0x2, /* html:Digit1 (Digit1) -> linux:2 (KEY_1) -> atset1:2 */
  "Digit2": 0x3, /* html:Digit2 (Digit2) -> linux:3 (KEY_2) -> atset1:3 */
  "Digit3": 0x4, /* html:Digit3 (Digit3) -> linux:4 (KEY_3) -> atset1:4 */
  "Digit4": 0x5, /* html:Digit4 (Digit4) -> linux:5 (KEY_4) -> atset1:5 */
  "Digit5": 0x6, /* html:Digit5 (Digit5) -> linux:6 (KEY_5) -> atset1:6 */
  "Digit6": 0x7, /* html:Digit6 (Digit6) -> linux:7 (KEY_6) -> atset1:7 */
  "Digit7": 0x8, /* html:Digit7 (Digit7) -> linux:8 (KEY_7) -> atset1:8 */
  "Digit8": 0x9, /* html:Digit8 (Digit8) -> linux:9 (KEY_8) -> atset1:9 */
  "Digit9": 0xa, /* html:Digit9 (Digit9) -> linux:10 (KEY_9) -> atset1:10 */
  "Eject": 0xe07d, /* html:Eject (Eject) -> linux:162 (KEY_EJECTCLOSECD) -> atset1:57469 */
  "End": 0xe04f, /* html:End (End) -> linux:107 (KEY_END) -> atset1:57423 */
  "Enter": 0x1c, /* html:Enter (Enter) -> linux:28 (KEY_ENTER) -> atset1:28 */
  "Equal": 0xd, /* html:Equal (Equal) -> linux:13 (KEY_EQUAL) -> atset1:13 */
  "Escape": 0x1, /* html:Escape (Escape) -> linux:1 (KEY_ESC) -> atset1:1 */
  "F1": 0x3b, /* html:F1 (F1) -> linux:59 (KEY_F1) -> atset1:59 */
  "F10": 0x44, /* html:F10 (F10) -> linux:68 (KEY_F10) -> atset1:68 */
  "F11": 0x57, /* html:F11 (F11) -> linux:87 (KEY_F11) -> atset1:87 */
  "F12": 0x58, /* html:F12 (F12) -> linux:88 (KEY_F12) -> atset1:88 */
  "F13": 0x5d, /* html:F13 (F13) -> linux:183 (KEY_F13) -> atset1:93 */
  "F14": 0x5e, /* html:F14 (F14) -> linux:184 (KEY_F14) -> atset1:94 */
  "F15": 0x5f, /* html:F15 (F15) -> linux:185 (KEY_F15) -> atset1:95 */
  "F16": 0x55, /* html:F16 (F16) -> linux:186 (KEY_F16) -> atset1:85 */
  "F17": 0xe003, /* html:F17 (F17) -> linux:187 (KEY_F17) -> atset1:57347 */
  "F18": 0xe077, /* html:F18 (F18) -> linux:188 (KEY_F18) -> atset1:57463 */
  "F19": 0xe004, /* html:F19 (F19) -> linux:189 (KEY_F19) -> atset1:57348 */
  "F2": 0x3c, /* html:F2 (F2) -> linux:60 (KEY_F2) -> atset1:60 */
  "F20": 0x5a, /* html:F20 (F20) -> linux:190 (KEY_F20) -> atset1:90 */
  "F21": 0x74, /* html:F21 (F21) -> linux:191 (KEY_F21) -> atset1:116 */
  "F22": 0xe079, /* html:F22 (F22) -> linux:192 (KEY_F22) -> atset1:57465 */
  "F23": 0x6d, /* html:F23 (F23) -> linux:193 (KEY_F23) -> atset1:109 */
  "F24": 0x6f, /* html:F24 (F24) -> linux:194 (KEY_F24) -> atset1:111 */
  "F3": 0x3d, /* html:F3 (F3) -> linux:61 (KEY_F3) -> atset1:61 */
  "F4": 0x3e, /* html:F4 (F4) -> linux:62 (KEY_F4) -> atset1:62 */
  "F5": 0x3f, /* html:F5 (F5) -> linux:63 (KEY_F5) -> atset1:63 */
  "F6": 0x40, /* html:F6 (F6) -> linux:64 (KEY_F6) -> atset1:64 */
  "F7": 0x41, /* html:F7 (F7) -> linux:65 (KEY_F7) -> atset1:65 */
  "F8": 0x42, /* html:F8 (F8) -> linux:66 (KEY_F8) -> atset1:66 */
  "F9": 0x43, /* html:F9 (F9) -> linux:67 (KEY_F9) -> atset1:67 */
  "Find": 0xe041, /* html:Find (Find) -> linux:136 (KEY_FIND) -> atset1:57409 */
  "Help": 0xe075, /* html:Help (Help) -> linux:138 (KEY_HELP) -> atset1:57461 */
  "Hiragana": 0x77, /* html:Hiragana (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Home": 0xe047, /* html:Home (Home) -> linux:102 (KEY_HOME) -> atset1:57415 */
  "Insert": 0xe052, /* html:Insert (Insert) -> linux:110 (KEY_INSERT) -> atset1:57426 */
  "IntlBackslash": 0x56, /* html:IntlBackslash (IntlBackslash) -> linux:86 (KEY_102ND) -> atset1:86 */
  "IntlRo": 0x73, /* html:IntlRo (IntlRo) -> linux:89 (KEY_RO) -> atset1:115 */
  "IntlYen": 0x7d, /* html:IntlYen (IntlYen) -> linux:124 (KEY_YEN) -> atset1:125 */
  "KanaMode": 0x70, /* html:KanaMode (KanaMode) -> linux:93 (KEY_KATAKANAHIRAGANA) -> atset1:112 */
  "Katakana": 0x78, /* html:Katakana (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "KeyA": 0x1e, /* html:KeyA (KeyA) -> linux:30 (KEY_A) -> atset1:30 */
  "KeyB": 0x30, /* html:KeyB (KeyB) -> linux:48 (KEY_B) -> atset1:48 */
  "KeyC": 0x2e, /* html:KeyC (KeyC) -> linux:46 (KEY_C) -> atset1:46 */
  "KeyD": 0x20, /* html:KeyD (KeyD) -> linux:32 (KEY_D) -> atset1:32 */
  "KeyE": 0x12, /* html:KeyE (KeyE) -> linux:18 (KEY_E) -> atset1:18 */
  "KeyF": 0x21, /* html:KeyF (KeyF) -> linux:33 (KEY_F) -> atset1:33 */
  "KeyG": 0x22, /* html:KeyG (KeyG) -> linux:34 (KEY_G) -> atset1:34 */
  "KeyH": 0x23, /* html:KeyH (KeyH) -> linux:35 (KEY_H) -> atset1:35 */
  "KeyI": 0x17, /* html:KeyI (KeyI) -> linux:23 (KEY_I) -> atset1:23 */
  "KeyJ": 0x24, /* html:KeyJ (KeyJ) -> linux:36 (KEY_J) -> atset1:36 */
  "KeyK": 0x25, /* html:KeyK (KeyK) -> linux:37 (KEY_K) -> atset1:37 */
  "KeyL": 0x26, /* html:KeyL (KeyL) -> linux:38 (KEY_L) -> atset1:38 */
  "KeyM": 0x32, /* html:KeyM (KeyM) -> linux:50 (KEY_M) -> atset1:50 */
  "KeyN": 0x31, /* html:KeyN (KeyN) -> linux:49 (KEY_N) -> atset1:49 */
  "KeyO": 0x18, /* html:KeyO (KeyO) -> linux:24 (KEY_O) -> atset1:24 */
  "KeyP": 0x19, /* html:KeyP (KeyP) -> linux:25 (KEY_P) -> atset1:25 */
  "KeyQ": 0x10, /* html:KeyQ (KeyQ) -> linux:16 (KEY_Q) -> atset1:16 */
  "KeyR": 0x13, /* html:KeyR (KeyR) -> linux:19 (KEY_R) -> atset1:19 */
  "KeyS": 0x1f, /* html:KeyS (KeyS) -> linux:31 (KEY_S) -> atset1:31 */
  "KeyT": 0x14, /* html:KeyT (KeyT) -> linux:20 (KEY_T) -> atset1:20 */
  "KeyU": 0x16, /* html:KeyU (KeyU) -> linux:22 (KEY_U) -> atset1:22 */
  "KeyV": 0x2f, /* html:KeyV (KeyV) -> linux:47 (KEY_V) -> atset1:47 */
  "KeyW": 0x11, /* html:KeyW (KeyW) -> linux:17 (KEY_W) -> atset1:17 */
  "KeyX": 0x2d, /* html:KeyX (KeyX) -> linux:45 (KEY_X) -> atset1:45 */
  "KeyY": 0x15, /* html:KeyY (KeyY) -> linux:21 (KEY_Y) -> atset1:21 */
  "KeyZ": 0x2c, /* html:KeyZ (KeyZ) -> linux:44 (KEY_Z) -> atset1:44 */
  "Lang3": 0x78, /* html:Lang3 (Lang3) -> linux:90 (KEY_KATAKANA) -> atset1:120 */
  "Lang4": 0x77, /* html:Lang4 (Lang4) -> linux:91 (KEY_HIRAGANA) -> atset1:119 */
  "Lang5": 0x76, /* html:Lang5 (Lang5) -> linux:85 (KEY_ZENKAKUHANKAKU) -> atset1:118 */
  "LaunchApp1": 0xe06b, /* html:LaunchApp1 (LaunchApp1) -> linux:157 (KEY_COMPUTER) -> atset1:57451 */
  "LaunchApp2": 0xe021, /* html:LaunchApp2 (LaunchApp2) -> linux:140 (KEY_CALC) -> atset1:57377 */
  "LaunchMail": 0xe06c, /* html:LaunchMail (LaunchMail) -> linux:155 (KEY_MAIL) -> atset1:57452 */
  "MediaPlayPause": 0xe022, /* html:MediaPlayPause (MediaPlayPause) -> linux:164 (KEY_PLAYPAUSE) -> atset1:57378 */
  "MediaSelect": 0xe06d, /* html:MediaSelect (MediaSelect) -> linux:226 (KEY_MEDIA) -> atset1:57453 */
  "MediaStop": 0xe024, /* html:MediaStop (MediaStop) -> linux:166 (KEY_STOPCD) -> atset1:57380 */
  "MediaTrackNext": 0xe019, /* html:MediaTrackNext (MediaTrackNext) -> linux:163 (KEY_NEXTSONG) -> atset1:57369 */
  "MediaTrackPrevious": 0xe010, /* html:MediaTrackPrevious (MediaTrackPrevious) -> linux:165 (KEY_PREVIOUSSONG) -> atset1:57360 */
  "MetaLeft": 0xe05b, /* html:MetaLeft (MetaLeft) -> linux:125 (KEY_LEFTMETA) -> atset1:57435 */
  "MetaRight": 0xe05c, /* html:MetaRight (MetaRight) -> linux:126 (KEY_RIGHTMETA) -> atset1:57436 */
  "Minus": 0xc, /* html:Minus (Minus) -> linux:12 (KEY_MINUS) -> atset1:12 */
  "NonConvert": 0x7b, /* html:NonConvert (NonConvert) -> linux:94 (KEY_MUHENKAN) -> atset1:123 */
  "NumLock": 0x45, /* html:NumLock (NumLock) -> linux:69 (KEY_NUMLOCK) -> atset1:69 */
  "Numpad0": 0x52, /* html:Numpad0 (Numpad0) -> linux:82 (KEY_KP0) -> atset1:82 */
  "Numpad1": 0x4f, /* html:Numpad1 (Numpad1) -> linux:79 (KEY_KP1) -> atset1:79 */
  "Numpad2": 0x50, /* html:Numpad2 (Numpad2) -> linux:80 (KEY_KP2) -> atset1:80 */
  "Numpad3": 0x51, /* html:Numpad3 (Numpad3) -> linux:81 (KEY_KP3) -> atset1:81 */
  "Numpad4": 0x4b, /* html:Numpad4 (Numpad4) -> linux:75 (KEY_KP4) -> atset1:75 */
  "Numpad5": 0x4c, /* html:Numpad5 (Numpad5) -> linux:76 (KEY_KP5) -> atset1:76 */
  "Numpad6": 0x4d, /* html:Numpad6 (Numpad6) -> linux:77 (KEY_KP6) -> atset1:77 */
  "Numpad7": 0x47, /* html:Numpad7 (Numpad7) -> linux:71 (KEY_KP7) -> atset1:71 */
  "Numpad8": 0x48, /* html:Numpad8 (Numpad8) -> linux:72 (KEY_KP8) -> atset1:72 */
  "Numpad9": 0x49, /* html:Numpad9 (Numpad9) -> linux:73 (KEY_KP9) -> atset1:73 */
  "NumpadAdd": 0x4e, /* html:NumpadAdd (NumpadAdd) -> linux:78 (KEY_KPPLUS) -> atset1:78 */
  "NumpadComma": 0x7e, /* html:NumpadComma (NumpadComma) -> linux:121 (KEY_KPCOMMA) -> atset1:126 */
  "NumpadDecimal": 0x53, /* html:NumpadDecimal (NumpadDecimal) -> linux:83 (KEY_KPDOT) -> atset1:83 */
  "NumpadDivide": 0xe035, /* html:NumpadDivide (NumpadDivide) -> linux:98 (KEY_KPSLASH) -> atset1:57397 */
  "NumpadEnter": 0xe01c, /* html:NumpadEnter (NumpadEnter) -> linux:96 (KEY_KPENTER) -> atset1:57372 */
  "NumpadEqual": 0x59, /* html:NumpadEqual (NumpadEqual) -> linux:117 (KEY_KPEQUAL) -> atset1:89 */
  "NumpadMultiply": 0x37, /* html:NumpadMultiply (NumpadMultiply) -> linux:55 (KEY_KPASTERISK) -> atset1:55 */
  "NumpadParenLeft": 0xe076, /* html:NumpadParenLeft (NumpadParenLeft) -> linux:179 (KEY_KPLEFTPAREN) -> atset1:57462 */
  "NumpadParenRight": 0xe07b, /* html:NumpadParenRight (NumpadParenRight) -> linux:180 (KEY_KPRIGHTPAREN) -> atset1:57467 */
  "NumpadSubtract": 0x4a, /* html:NumpadSubtract (NumpadSubtract) -> linux:74 (KEY_KPMINUS) -> atset1:74 */
  "Open": 0x64, /* html:Open (Open) -> linux:134 (KEY_OPEN) -> atset1:100 */
  "PageDown": 0xe051, /* html:PageDown (PageDown) -> linux:109 (KEY_PAGEDOWN) -> atset1:57425 */
  "PageUp": 0xe049, /* html:PageUp (PageUp) -> linux:104 (KEY_PAGEUP) -> atset1:57417 */
  "Paste": 0x65, /* html:Paste (Paste) -> linux:135 (KEY_PASTE) -> atset1:101 */
  "Pause": 0xe046, /* html:Pause (Pause) -> linux:119 (KEY_PAUSE) -> atset1:57414 */
  "Period": 0x34, /* html:Period (Period) -> linux:52 (KEY_DOT) -> atset1:52 */
  "Power": 0xe05e, /* html:Power (Power) -> linux:116 (KEY_POWER) -> atset1:57438 */
  "PrintScreen": 0x54, /* html:PrintScreen (PrintScreen) -> linux:99 (KEY_SYSRQ) -> atset1:84 */
  "Props": 0xe006, /* html:Props (Props) -> linux:130 (KEY_PROPS) -> atset1:57350 */
  "Quote": 0x28, /* html:Quote (Quote) -> linux:40 (KEY_APOSTROPHE) -> atset1:40 */
  "ScrollLock": 0x46, /* html:ScrollLock (ScrollLock) -> linux:70 (KEY_SCROLLLOCK) -> atset1:70 */
  "Semicolon": 0x27, /* html:Semicolon (Semicolon) -> linux:39 (KEY_SEMICOLON) -> atset1:39 */
  "ShiftLeft": 0x2a, /* html:ShiftLeft (ShiftLeft) -> linux:42 (KEY_LEFTSHIFT) -> atset1:42 */
  "ShiftRight": 0x36, /* html:ShiftRight (ShiftRight) -> linux:54 (KEY_RIGHTSHIFT) -> atset1:54 */
  "Slash": 0x35, /* html:Slash (Slash) -> linux:53 (KEY_SLASH) -> atset1:53 */
  "Sleep": 0xe05f, /* html:Sleep (Sleep) -> linux:142 (KEY_SLEEP) -> atset1:57439 */
  "Space": 0x39, /* html:Space (Space) -> linux:57 (KEY_SPACE) -> atset1:57 */
  "Suspend": 0xe025, /* html:Suspend (Suspend) -> linux:205 (KEY_SUSPEND) -> atset1:57381 */
  "Tab": 0xf, /* html:Tab (Tab) -> linux:15 (KEY_TAB) -> atset1:15 */
  "Undo": 0xe007, /* html:Undo (Undo) -> linux:131 (KEY_UNDO) -> atset1:57351 */
  "WakeUp": 0xe063, /* html:WakeUp (WakeUp) -> linux:143 (KEY_WAKEUP) -> atset1:57443 */
});


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/rfb.js":
/*!***********************************************!*\
  !*** ./node_modules/@novnc/novnc/core/rfb.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RFB; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/* harmony import */ var _util_strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/strings.js */ "./node_modules/@novnc/novnc/core/util/strings.js");
/* harmony import */ var _util_browser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/browser.js */ "./node_modules/@novnc/novnc/core/util/browser.js");
/* harmony import */ var _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/eventtarget.js */ "./node_modules/@novnc/novnc/core/util/eventtarget.js");
/* harmony import */ var _display_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./display.js */ "./node_modules/@novnc/novnc/core/display.js");
/* harmony import */ var _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./input/keyboard.js */ "./node_modules/@novnc/novnc/core/input/keyboard.js");
/* harmony import */ var _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./input/mouse.js */ "./node_modules/@novnc/novnc/core/input/mouse.js");
/* harmony import */ var _websock_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./websock.js */ "./node_modules/@novnc/novnc/core/websock.js");
/* harmony import */ var _des_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./des.js */ "./node_modules/@novnc/novnc/core/des.js");
/* harmony import */ var _input_keysym_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./input/keysym.js */ "./node_modules/@novnc/novnc/core/input/keysym.js");
/* harmony import */ var _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./input/xtscancodes.js */ "./node_modules/@novnc/novnc/core/input/xtscancodes.js");
/* harmony import */ var _inflator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./inflator.js */ "./node_modules/@novnc/novnc/core/inflator.js");
/* harmony import */ var _encodings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./encodings.js */ "./node_modules/@novnc/novnc/core/encodings.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/polyfill.js */ "./node_modules/@novnc/novnc/core/util/polyfill.js");
/* harmony import */ var _util_polyfill_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_util_polyfill_js__WEBPACK_IMPORTED_MODULE_13__);
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Copyright (C) 2017 Samuel Mannehed for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 *
 * TIGHT decoder portion:
 * (c) 2012 Michael Tinglof, Joe Balaz, Les Piech (Mercuri.ca)
 */
















/*jslint white: false, browser: true */
/*global window, Util, Display, Keyboard, Mouse, Websock, Websock_native, Base64, DES, KeyTable, Inflator, XtScancode */

// How many seconds to wait for a disconnect to finish
var DISCONNECT_TIMEOUT = 3;

function RFB(target, url, options) {
    if (!target) {
        throw Error("Must specify target");
    }
    if (!url) {
        throw Error("Must specify URL");
    }

    this._target = target;
    this._url = url;

    // Connection details
    options = options || {};
    this._rfb_credentials = options.credentials || {};
    this._shared = 'shared' in options ? !!options.shared : true;
    this._repeaterID = options.repeaterID || '';

    // Internal state
    this._rfb_connection_state = '';
    this._rfb_init_state = '';
    this._rfb_auth_scheme = '';
    this._rfb_clean_disconnect = true;

    // Server capabilities
    this._rfb_version = 0;
    this._rfb_max_version = 3.8;
    this._rfb_tightvnc = false;
    this._rfb_xvp_ver = 0;

    this._fb_width = 0;
    this._fb_height = 0;

    this._fb_name = "";

    this._capabilities = { power: false };

    this._supportsFence = false;

    this._supportsContinuousUpdates = false;
    this._enabledContinuousUpdates = false;

    this._supportsSetDesktopSize = false;
    this._screen_id = 0;
    this._screen_flags = 0;

    this._qemuExtKeyEventSupported = false;

    // Internal objects
    this._sock = null;              // Websock object
    this._display = null;           // Display object
    this._flushing = false;         // Display flushing state
    this._keyboard = null;          // Keyboard input handler object
    this._mouse = null;             // Mouse input handler object

    // Timers
    this._disconnTimer = null;      // disconnection timer
    this._resizeTimeout = null;     // resize rate limiting

    // Decoder states and stats
    this._encHandlers = {};
    this._encStats = {};

    this._FBU = {
        rects: 0,
        subrects: 0,            // RRE and HEXTILE
        lines: 0,               // RAW
        tiles: 0,               // HEXTILE
        bytes: 0,
        x: 0,
        y: 0,
        width: 0,
        height: 0,
        encoding: 0,
        subencoding: -1,
        background: null,
        zlibs: []               // TIGHT zlib streams
    };
    for (var i = 0; i < 4; i++) {
        this._FBU.zlibs[i] = new _inflator_js__WEBPACK_IMPORTED_MODULE_11__["default"]();
    }

    this._destBuff = null;
    this._paletteBuff = new Uint8Array(1024);  // 256 * 4 (max palette size * max bytes-per-pixel)

    this._rre_chunk_sz = 100;

    this._timing = {
        last_fbu: 0,
        fbu_total: 0,
        fbu_total_cnt: 0,
        full_fbu_total: 0,
        full_fbu_cnt: 0,

        fbu_rt_start: 0,
        fbu_rt_total: 0,
        fbu_rt_cnt: 0,
        pixels: 0
    };

    // Mouse state
    this._mouse_buttonMask = 0;
    this._mouse_arr = [];
    this._viewportDragging = false;
    this._viewportDragPos = {};
    this._viewportHasMoved = false;

    // Bound event handlers
    this._eventHandlers = {
        focusCanvas: this._focusCanvas.bind(this),
        windowResize: this._windowResize.bind(this),
    };

    // main setup
    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.constructor");

    // Create DOM elements
    this._screen = document.createElement('div');
    this._screen.style.display = 'flex';
    this._screen.style.width = '100%';
    this._screen.style.height = '100%';
    this._screen.style.overflow = 'auto';
    this._screen.style.backgroundColor = 'rgb(40, 40, 40)';
    this._canvas = document.createElement('canvas');
    this._canvas.style.margin = 'auto';
    // Some browsers add an outline on focus
    this._canvas.style.outline = 'none';
    // IE miscalculates width without this :(
    this._canvas.style.flexShrink = '0';
    this._canvas.width = 0;
    this._canvas.height = 0;
    this._canvas.tabIndex = -1;
    this._screen.appendChild(this._canvas);

    // populate encHandlers with bound versions
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw] = RFB.encodingHandlers.RAW.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect] = RFB.encodingHandlers.COPYRECT.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE] = RFB.encodingHandlers.RRE.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile] = RFB.encodingHandlers.HEXTILE.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight] = RFB.encodingHandlers.TIGHT.bind(this);

    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize] = RFB.encodingHandlers.DesktopSize.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect] = RFB.encodingHandlers.last_rect.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor] = RFB.encodingHandlers.Cursor.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent] = RFB.encodingHandlers.QEMUExtendedKeyEvent.bind(this);
    this._encHandlers[_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize] = RFB.encodingHandlers.ExtendedDesktopSize.bind(this);

    // NB: nothing that needs explicit teardown should be done
    // before this point, since this can throw an exception
    try {
        this._display = new _display_js__WEBPACK_IMPORTED_MODULE_4__["default"](this._canvas);
    } catch (exc) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Display exception: " + exc);
        throw exc;
    }
    this._display.onflush = this._onFlush.bind(this);
    this._display.clear();

    this._keyboard = new _input_keyboard_js__WEBPACK_IMPORTED_MODULE_5__["default"](this._canvas);
    this._keyboard.onkeyevent = this._handleKeyEvent.bind(this);

    this._mouse = new _input_mouse_js__WEBPACK_IMPORTED_MODULE_6__["default"](this._canvas);
    this._mouse.onmousebutton = this._handleMouseButton.bind(this);
    this._mouse.onmousemove = this._handleMouseMove.bind(this);

    this._sock = new _websock_js__WEBPACK_IMPORTED_MODULE_7__["default"]();
    this._sock.on('message', this._handle_message.bind(this));
    this._sock.on('open', function () {
        if ((this._rfb_connection_state === 'connecting') &&
            (this._rfb_init_state === '')) {
            this._rfb_init_state = 'ProtocolVersion';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Starting VNC handshake");
        } else {
            this._fail("Unexpected server connection while " +
                       this._rfb_connection_state);
        }
    }.bind(this));
    this._sock.on('close', function (e) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("WebSocket on-close event");
        var msg = "";
        if (e.code) {
            msg = "(code: " + e.code;
            if (e.reason) {
                msg += ", reason: " + e.reason;
            }
            msg += ")";
        }
        switch (this._rfb_connection_state) {
            case 'connecting':
                this._fail("Connection closed " + msg);
                break;
            case 'connected':
                // Handle disconnects that were initiated server-side
                this._updateConnectionState('disconnecting');
                this._updateConnectionState('disconnected');
                break;
            case 'disconnecting':
                // Normal disconnection path
                this._updateConnectionState('disconnected');
                break;
            case 'disconnected':
                this._fail("Unexpected server disconnect " +
                           "when already disconnected " + msg);
                break;
            default:
                this._fail("Unexpected server disconnect before connecting " +
                           msg);
                break;
        }
        this._sock.off('close');
    }.bind(this));
    this._sock.on('error', function (e) {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("WebSocket on-error event");
    });

    // Slight delay of the actual connection so that the caller has
    // time to set up callbacks
    setTimeout(this._updateConnectionState.bind(this, 'connecting'));

    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.constructor");
};

RFB.prototype = {
    // ===== PROPERTIES =====

    dragViewport: false,
    focusOnClick: true,

    _viewOnly: false,
    get viewOnly() { return this._viewOnly; },
    set viewOnly(viewOnly) {
        this._viewOnly = viewOnly;

        if (this._rfb_connection_state === "connecting" ||
            this._rfb_connection_state === "connected") {
            if (viewOnly) {
                this._keyboard.ungrab();
                this._mouse.ungrab();
            } else {
                this._keyboard.grab();
                this._mouse.grab();
            }
        }
    },

    get capabilities() { return this._capabilities; },

    get touchButton() { return this._mouse.touchButton; },
    set touchButton(button) { this._mouse.touchButton = button; },

    _clipViewport: false,
    get clipViewport() { return this._clipViewport; },
    set clipViewport(viewport) {
        this._clipViewport = viewport;
        this._updateClip();
    },

    _scaleViewport: false,
    get scaleViewport() { return this._scaleViewport; },
    set scaleViewport(scale) {
        this._scaleViewport = scale;
        // Scaling trumps clipping, so we may need to adjust
        // clipping when enabling or disabling scaling
        if (scale && this._clipViewport) {
            this._updateClip();
        }
        this._updateScale();
        if (!scale && this._clipViewport) {
            this._updateClip();
        }
    },

    _resizeSession: false,
    get resizeSession() { return this._resizeSession; },
    set resizeSession(resize) {
        this._resizeSession = resize;
        if (resize) {
            this._requestRemoteResize();
        }
    },

    // ===== PUBLIC METHODS =====

    disconnect: function () {
        this._updateConnectionState('disconnecting');
        this._sock.off('error');
        this._sock.off('message');
        this._sock.off('open');
    },

    sendCredentials: function (creds) {
        this._rfb_credentials = creds;
        setTimeout(this._init_msg.bind(this), 0);
    },

    sendCtrlAltDel: function () {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending Ctrl-Alt-Del");

        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Control_L, "ControlLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Alt_L, "AltLeft", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Delete, "Delete", true);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Delete, "Delete", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Alt_L, "AltLeft", false);
        this.sendKey(_input_keysym_js__WEBPACK_IMPORTED_MODULE_9__["default"].XK_Control_L, "ControlLeft", false);
    },

    machineShutdown: function () {
        this._xvpOp(1, 2);
    },

    machineReboot: function () {
        this._xvpOp(1, 3);
    },

    machineReset: function () {
        this._xvpOp(1, 4);
    },

    // Send a key press. If 'down' is not specified then send a down key
    // followed by an up key.
    sendKey: function (keysym, code, down) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }

        if (down === undefined) {
            this.sendKey(keysym, code, true);
            this.sendKey(keysym, code, false);
            return;
        }

        var scancode = _input_xtscancodes_js__WEBPACK_IMPORTED_MODULE_10__["default"][code];

        if (this._qemuExtKeyEventSupported && scancode) {
            // 0 is NoSymbol
            keysym = keysym || 0;

            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending key (" + (down ? "down" : "up") + "): keysym " + keysym + ", scancode " + scancode);

            RFB.messages.QEMUExtendedKeyEvent(this._sock, keysym, down, scancode);
        } else {
            if (!keysym) {
                return;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending keysym (" + (down ? "down" : "up") + "): " + keysym);
            RFB.messages.keyEvent(this._sock, keysym, down ? 1 : 0);
        }
    },

    focus: function () {
        this._canvas.focus();
    },

    blur: function () {
        this._canvas.blur();
    },

    clipboardPasteFrom: function (text) {
        if (this._rfb_connection_state !== 'connected' || this._viewOnly) { return; }
        RFB.messages.clientCutText(this._sock, text);
    },

    // ===== PRIVATE METHODS =====

    _connect: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.connect");

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("connecting to " + this._url);

        try {
            // WebSocket.onopen transitions to the RFB init states
            this._sock.open(this._url, ['binary']);
        } catch (e) {
            if (e.name === 'SyntaxError') {
                this._fail("Invalid host or port (" + e + ")");
            } else {
                this._fail("Error when opening socket (" + e + ")");
            }
        }

        // Make our elements part of the page
        this._target.appendChild(this._screen);

        // Monitor size changes of the screen
        // FIXME: Use ResizeObserver, or hidden overflow
        window.addEventListener('resize', this._eventHandlers.windowResize);

        // Always grab focus on some kind of click event
        this._canvas.addEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.addEventListener("touchstart", this._eventHandlers.focusCanvas);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.connect");
    },

    _disconnect: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> RFB.disconnect");
        this._canvas.removeEventListener("mousedown", this._eventHandlers.focusCanvas);
        this._canvas.removeEventListener("touchstart", this._eventHandlers.focusCanvas);
        window.removeEventListener('resize', this._eventHandlers.windowResize);
        this._keyboard.ungrab();
        this._mouse.ungrab();
        this._sock.close();
        this._print_stats();
        try {
            this._target.removeChild(this._screen);
        } catch (e) {
            if (e.name === 'NotFoundError') {
                // Some cases where the initial connection fails
                // can disconnect before the _screen is created
            } else {
                throw e;
            }
        }
        clearTimeout(this._resizeTimeout);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< RFB.disconnect");
    },

    _print_stats: function () {
        var stats = this._encStats;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Encoding stats for this connection:");
        Object.keys(stats).forEach(function (key) {
            var s = stats[key];
            if (s[0] + s[1] > 0) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("    " + Object(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodingName"])(key) + ": " + s[0] + " rects");
            }
        });

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Encoding stats since page load:");
        Object.keys(stats).forEach(function (key) {
            var s = stats[key];
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("    " + Object(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodingName"])(key) + ": " + s[1] + " rects");
        });
    },

    _focusCanvas: function(event) {
        // Respect earlier handlers' request to not do side-effects
        if (event.defaultPrevented) {
            return;
        }

        if (!this.focusOnClick) {
            return;
        }

        this.focus();
    },

    _windowResize: function (event) {
        // If the window resized then our screen element might have
        // as well. Update the viewport dimensions.
        window.requestAnimationFrame(function () {
            this._updateClip();
            this._updateScale();
        }.bind(this));

        if (this._resizeSession) {
            // Request changing the resolution of the remote display to
            // the size of the local browser viewport.

            // In order to not send multiple requests before the browser-resize
            // is finished we wait 0.5 seconds before sending the request.
            clearTimeout(this._resizeTimeout);
            this._resizeTimeout = setTimeout(this._requestRemoteResize.bind(this), 500);
        }
    },

    // Update state of clipping in Display object, and make sure the
    // configured viewport matches the current screen size
    _updateClip: function () {
        var cur_clip = this._display.clipViewport;
        var new_clip = this._clipViewport;

        if (this._scaleViewport) {
            // Disable viewport clipping if we are scaling
            new_clip = false;
        }

        if (cur_clip !== new_clip) {
            this._display.clipViewport = new_clip;
        }

        if (new_clip) {
            // When clipping is enabled, the screen is limited to
            // the size of the container.
            let size = this._screenSize();
            this._display.viewportChangeSize(size.w, size.h);
            this._fixScrollbars();
        }
    },

    _updateScale: function () {
        if (!this._scaleViewport) {
            this._display.scale = 1.0;
        } else {
            let size = this._screenSize();
            this._display.autoscale(size.w, size.h);
        }
        this._fixScrollbars();
    },

    // Requests a change of remote desktop size. This message is an extension
    // and may only be sent if we have received an ExtendedDesktopSize message
    _requestRemoteResize: function () {
        clearTimeout(this._resizeTimeout);
        this._resizeTimeout = null;

        if (!this._resizeSession || this._viewOnly ||
            !this._supportsSetDesktopSize) {
            return;
        }

        let size = this._screenSize();
        RFB.messages.setDesktopSize(this._sock, size.w, size.h,
                                    this._screen_id, this._screen_flags);

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Requested new desktop size: ' +
                   size.w + 'x' + size.h);
    },

    // Gets the the size of the available screen
    _screenSize: function () {
        return { w: this._screen.offsetWidth,
                 h: this._screen.offsetHeight };
    },

    _fixScrollbars: function () {
        // This is a hack because Chrome screws up the calculation
        // for when scrollbars are needed. So to fix it we temporarily
        // toggle them off and on.
        var orig = this._screen.style.overflow;
        this._screen.style.overflow = 'hidden';
        // Force Chrome to recalculate the layout by asking for
        // an element's dimensions
        this._screen.getBoundingClientRect();
        this._screen.style.overflow = orig;
    },

    /*
     * Connection states:
     *   connecting
     *   connected
     *   disconnecting
     *   disconnected - permanent state
     */
    _updateConnectionState: function (state) {
        var oldstate = this._rfb_connection_state;

        if (state === oldstate) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Already in state '" + state + "', ignoring");
            return;
        }

        // The 'disconnected' state is permanent for each RFB object
        if (oldstate === 'disconnected') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Tried changing state of a disconnected RFB object");
            return;
        }

        // Ensure proper transitions before doing anything
        switch (state) {
            case 'connected':
                if (oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnected':
                if (oldstate !== 'disconnecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnected state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'connecting':
                if (oldstate !== '') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to connecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            case 'disconnecting':
                if (oldstate !== 'connected' && oldstate !== 'connecting') {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Bad transition to disconnecting state, " +
                               "previous connection state: " + oldstate);
                    return;
                }
                break;

            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Unknown connection state: " + state);
                return;
        }

        // State change actions

        this._rfb_connection_state = state;

        var smsg = "New state '" + state + "', was '" + oldstate + "'.";
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](smsg);

        if (this._disconnTimer && state !== 'disconnecting') {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Clearing disconnect timer");
            clearTimeout(this._disconnTimer);
            this._disconnTimer = null;

            // make sure we don't get a double event
            this._sock.off('close');
        }

        switch (state) {
            case 'connecting':
                this._connect();
                break;

            case 'connected':
                var event = new CustomEvent("connect", { detail: {} });
                this.dispatchEvent(event);
                break;

            case 'disconnecting':
                this._disconnect();

                this._disconnTimer = setTimeout(function () {
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Disconnection timed out.");
                    this._updateConnectionState('disconnected');
                }.bind(this), DISCONNECT_TIMEOUT * 1000);
                break;

            case 'disconnected':
                event = new CustomEvent(
                    "disconnect", { detail:
                                    { clean: this._rfb_clean_disconnect } });
                this.dispatchEvent(event);
                break;
        }
    },

    /* Print errors and disconnect
     *
     * The parameter 'details' is used for information that
     * should be logged but not sent to the user interface.
     */
    _fail: function (details) {
        switch (this._rfb_connection_state) {
            case 'disconnecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when disconnecting: " + details);
                break;
            case 'connected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed while connected: " + details);
                break;
            case 'connecting':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Failed when connecting: " + details);
                break;
            default:
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("RFB failure: " + details);
                break;
        }
        this._rfb_clean_disconnect = false; //This is sent to the UI

        // Transition to disconnected without waiting for socket to close
        this._updateConnectionState('disconnecting');
        this._updateConnectionState('disconnected');

        return false;
    },

    _setCapability: function (cap, val) {
        this._capabilities[cap] = val;
        var event = new CustomEvent("capabilities",
                                    { detail: { capabilities: this._capabilities } });
        this.dispatchEvent(event);
    },

    _handle_message: function () {
        if (this._sock.rQlen() === 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("handle_message called on an empty receive queue");
            return;
        }

        switch (this._rfb_connection_state) {
            case 'disconnected':
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Got data while disconnected");
                break;
            case 'connected':
                while (true) {
                    if (this._flushing) {
                        break;
                    }
                    if (!this._normal_msg()) {
                        break;
                    }
                    if (this._sock.rQlen() === 0) {
                        break;
                    }
                }
                break;
            default:
                this._init_msg();
                break;
        }
    },

    _handleKeyEvent: function (keysym, code, down) {
        this.sendKey(keysym, code, down);
    },

    _handleMouseButton: function (x, y, down, bmask) {
        if (down) {
            this._mouse_buttonMask |= bmask;
        } else {
            this._mouse_buttonMask &= ~bmask;
        }

        if (this.dragViewport) {
            if (down && !this._viewportDragging) {
                this._viewportDragging = true;
                this._viewportDragPos = {'x': x, 'y': y};
                this._viewportHasMoved = false;

                // Skip sending mouse events
                return;
            } else {
                this._viewportDragging = false;

                // If we actually performed a drag then we are done
                // here and should not send any mouse events
                if (this._viewportHasMoved) {
                    return;
                }

                // Otherwise we treat this as a mouse click event.
                // Send the button down event here, as the button up
                // event is sent at the end of this function.
                RFB.messages.pointerEvent(this._sock,
                                          this._display.absX(x),
                                          this._display.absY(y),
                                          bmask);
            }
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    },

    _handleMouseMove: function (x, y) {
        if (this._viewportDragging) {
            var deltaX = this._viewportDragPos.x - x;
            var deltaY = this._viewportDragPos.y - y;

            // The goal is to trigger on a certain physical width, the
            // devicePixelRatio brings us a bit closer but is not optimal.
            var dragThreshold = 10 * (window.devicePixelRatio || 1);

            if (this._viewportHasMoved || (Math.abs(deltaX) > dragThreshold ||
                                           Math.abs(deltaY) > dragThreshold)) {
                this._viewportHasMoved = true;

                this._viewportDragPos = {'x': x, 'y': y};
                this._display.viewportChangePos(deltaX, deltaY);
            }

            // Skip sending mouse events
            return;
        }

        if (this._viewOnly) { return; } // View only, skip mouse events

        if (this._rfb_connection_state !== 'connected') { return; }
        RFB.messages.pointerEvent(this._sock, this._display.absX(x), this._display.absY(y), this._mouse_buttonMask);
    },

    // Message Handlers

    _negotiate_protocol_version: function () {
        if (this._sock.rQlen() < 12) {
            return this._fail("Received incomplete protocol version.");
        }

        var sversion = this._sock.rQshiftStr(12).substr(4, 7);
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server ProtocolVersion: " + sversion);
        var is_repeater = 0;
        switch (sversion) {
            case "000.000":  // UltraVNC repeater
                is_repeater = 1;
                break;
            case "003.003":
            case "003.006":  // UltraVNC
            case "003.889":  // Apple Remote Desktop
                this._rfb_version = 3.3;
                break;
            case "003.007":
                this._rfb_version = 3.7;
                break;
            case "003.008":
            case "004.000":  // Intel AMT KVM
            case "004.001":  // RealVNC 4.6
            case "005.000":  // RealVNC 5.3
                this._rfb_version = 3.8;
                break;
            default:
                return this._fail("Invalid server version " + sversion);
        }

        if (is_repeater) {
            var repeaterID = "ID:" + this._repeaterID;
            while (repeaterID.length < 250) {
                repeaterID += "\0";
            }
            this._sock.send_string(repeaterID);
            return true;
        }

        if (this._rfb_version > this._rfb_max_version) {
            this._rfb_version = this._rfb_max_version;
        }

        var cversion = "00" + parseInt(this._rfb_version, 10) +
                       ".00" + ((this._rfb_version * 10) % 10);
        this._sock.send_string("RFB " + cversion + "\n");
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Sent ProtocolVersion: ' + cversion);

        this._rfb_init_state = 'Security';
    },

    _negotiate_security: function () {
        // Polyfill since IE and PhantomJS doesn't have
        // TypedArray.includes()
        function includes(item, array) {
            for (var i = 0; i < array.length; i++) {
                if (array[i] === item) {
                    return true;
                }
            }
            return false;
        }

        if (this._rfb_version >= 3.7) {
            // Server sends supported list, client decides
            var num_types = this._sock.rQshift8();
            if (this._sock.rQwait("security type", num_types, 1)) { return false; }

            if (num_types === 0) {
                return this._handle_security_failure("no security types");
            }

            var types = this._sock.rQshiftBytes(num_types);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Server security types: " + types);

            // Look for each auth in preferred order
            this._rfb_auth_scheme = 0;
            if (includes(1, types)) {
                this._rfb_auth_scheme = 1; // None
            } else if (includes(22, types)) {
                this._rfb_auth_scheme = 22; // XVP
            } else if (includes(16, types)) {
                this._rfb_auth_scheme = 16; // Tight
            } else if (includes(2, types)) {
                this._rfb_auth_scheme = 2; // VNC Auth
            } else {
                return this._fail("Unsupported security types (types: " + types + ")");
            }

            this._sock.send([this._rfb_auth_scheme]);
        } else {
            // Server decides
            if (this._sock.rQwait("security scheme", 4)) { return false; }
            this._rfb_auth_scheme = this._sock.rQshift32();
        }

        this._rfb_init_state = 'Authentication';
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authenticating using scheme: ' + this._rfb_auth_scheme);

        return this._init_msg(); // jump to authentication
    },

    /*
     * Get the security failure reason if sent from the server and
     * send the 'securityfailure' event.
     *
     * - The optional parameter context can be used to add some extra
     *   context to the log output.
     *
     * - The optional parameter security_result_status can be used to
     *   add a custom status code to the event.
     */
    _handle_security_failure: function (context, security_result_status) {

        if (typeof context === 'undefined') {
            context = "";
        } else {
            context = " on " + context;
        }

        if (typeof security_result_status === 'undefined') {
            security_result_status = 1; // fail
        }

        if (this._sock.rQwait("reason length", 4)) {
            return false;
        }
        let strlen = this._sock.rQshift32();
        let reason = "";

        if (strlen > 0) {
            if (this._sock.rQwait("reason", strlen, 8)) { return false; }
            reason = this._sock.rQshiftStr(strlen);
        }

        if (reason !== "") {

            let event = new CustomEvent(
                "securityfailure",
                { detail: { status: security_result_status, reason: reason } });
            this.dispatchEvent(event);

            return this._fail("Security negotiation failed" + context +
                              " (reason: " + reason + ")");
        } else {

            let event = new CustomEvent(
                "securityfailure",
                { detail: { status: security_result_status } });
            this.dispatchEvent(event);

            return this._fail("Security negotiation failed" + context);
        }
    },

    // authentication
    _negotiate_xvp_auth: function () {
        if (!this._rfb_credentials.username ||
            !this._rfb_credentials.password ||
            !this._rfb_credentials.target) {
            var event = new CustomEvent("credentialsrequired",
                                        { detail: { types: ["username", "password", "target"] } });
            this.dispatchEvent(event);
            return false;
        }

        var xvp_auth_str = String.fromCharCode(this._rfb_credentials.username.length) +
                           String.fromCharCode(this._rfb_credentials.target.length) +
                           this._rfb_credentials.username +
                           this._rfb_credentials.target;
        this._sock.send_string(xvp_auth_str);
        this._rfb_auth_scheme = 2;
        return this._negotiate_authentication();
    },

    _negotiate_std_vnc_auth: function () {
        if (this._sock.rQwait("auth challenge", 16)) { return false; }

        if (!this._rfb_credentials.password) {
            var event = new CustomEvent("credentialsrequired",
                                        { detail: { types: ["password"] } });
            this.dispatchEvent(event);
            return false;
        }

        // TODO(directxman12): make genDES not require an Array
        var challenge = Array.prototype.slice.call(this._sock.rQshiftBytes(16));
        var response = RFB.genDES(this._rfb_credentials.password, challenge);
        this._sock.send(response);
        this._rfb_init_state = "SecurityResult";
        return true;
    },

    _negotiate_tight_tunnels: function (numTunnels) {
        var clientSupportedTunnelTypes = {
            0: { vendor: 'TGHT', signature: 'NOTUNNEL' }
        };
        var serverSupportedTunnelTypes = {};
        // receive tunnel capabilities
        for (var i = 0; i < numTunnels; i++) {
            var cap_code = this._sock.rQshift32();
            var cap_vendor = this._sock.rQshiftStr(4);
            var cap_signature = this._sock.rQshiftStr(8);
            serverSupportedTunnelTypes[cap_code] = { vendor: cap_vendor, signature: cap_signature };
        }

        // choose the notunnel type
        if (serverSupportedTunnelTypes[0]) {
            if (serverSupportedTunnelTypes[0].vendor != clientSupportedTunnelTypes[0].vendor ||
                serverSupportedTunnelTypes[0].signature != clientSupportedTunnelTypes[0].signature) {
                return this._fail("Client's tunnel type had the incorrect " +
                                  "vendor or signature");
            }
            this._sock.send([0, 0, 0, 0]);  // use NOTUNNEL
            return false; // wait until we receive the sub auth count to continue
        } else {
            return this._fail("Server wanted tunnels, but doesn't support " +
                              "the notunnel type");
        }
    },

    _negotiate_tight_auth: function () {
        if (!this._rfb_tightvnc) {  // first pass, do the tunnel negotiation
            if (this._sock.rQwait("num tunnels", 4)) { return false; }
            var numTunnels = this._sock.rQshift32();
            if (numTunnels > 0 && this._sock.rQwait("tunnel capabilities", 16 * numTunnels, 4)) { return false; }

            this._rfb_tightvnc = true;

            if (numTunnels > 0) {
                this._negotiate_tight_tunnels(numTunnels);
                return false;  // wait until we receive the sub auth to continue
            }
        }

        // second pass, do the sub-auth negotiation
        if (this._sock.rQwait("sub auth count", 4)) { return false; }
        var subAuthCount = this._sock.rQshift32();
        if (subAuthCount === 0) {  // empty sub-auth list received means 'no auth' subtype selected
            this._rfb_init_state = 'SecurityResult';
            return true;
        }

        if (this._sock.rQwait("sub auth capabilities", 16 * subAuthCount, 4)) { return false; }

        var clientSupportedTypes = {
            'STDVNOAUTH__': 1,
            'STDVVNCAUTH_': 2
        };

        var serverSupportedTypes = [];

        for (var i = 0; i < subAuthCount; i++) {
            var capNum = this._sock.rQshift32();
            var capabilities = this._sock.rQshiftStr(12);
            serverSupportedTypes.push(capabilities);
        }

        for (var authType in clientSupportedTypes) {
            if (serverSupportedTypes.indexOf(authType) != -1) {
                this._sock.send([0, 0, 0, clientSupportedTypes[authType]]);

                switch (authType) {
                    case 'STDVNOAUTH__':  // no auth
                        this._rfb_init_state = 'SecurityResult';
                        return true;
                    case 'STDVVNCAUTH_': // VNC auth
                        this._rfb_auth_scheme = 2;
                        return this._init_msg();
                    default:
                        return this._fail("Unsupported tiny auth scheme " +
                                          "(scheme: " + authType + ")");
                }
            }
        }

        return this._fail("No supported sub-auth types!");
    },

    _negotiate_authentication: function () {
        switch (this._rfb_auth_scheme) {
            case 0:  // connection failed
                return this._handle_security_failure("authentication scheme");

            case 1:  // no auth
                if (this._rfb_version >= 3.8) {
                    this._rfb_init_state = 'SecurityResult';
                    return true;
                }
                this._rfb_init_state = 'ClientInitialisation';
                return this._init_msg();

            case 22:  // XVP auth
                return this._negotiate_xvp_auth();

            case 2:  // VNC authentication
                return this._negotiate_std_vnc_auth();

            case 16:  // TightVNC Security Type
                return this._negotiate_tight_auth();

            default:
                return this._fail("Unsupported auth scheme (scheme: " +
                                  this._rfb_auth_scheme + ")");
        }
    },

    _handle_security_result: function () {
        if (this._sock.rQwait('VNC auth response ', 4)) { return false; }

        let status = this._sock.rQshift32();

        if (status === 0) { // OK
            this._rfb_init_state = 'ClientInitialisation';
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('Authentication OK');
            return this._init_msg();
        } else {
            if (this._rfb_version >= 3.8) {
                return this._handle_security_failure("security result", status);
            } else {
                let event = new CustomEvent("securityfailure",
                                            { detail: { status: status } });
                this.dispatchEvent(event);

                return this._fail("Security handshake failed");
            }
        }
    },

    _negotiate_server_init: function () {
        if (this._sock.rQwait("server initialization", 24)) { return false; }

        /* Screen size */
        var width = this._sock.rQshift16();
        var height = this._sock.rQshift16();

        /* PIXEL_FORMAT */
        var bpp         = this._sock.rQshift8();
        var depth       = this._sock.rQshift8();
        var big_endian  = this._sock.rQshift8();
        var true_color  = this._sock.rQshift8();

        var red_max     = this._sock.rQshift16();
        var green_max   = this._sock.rQshift16();
        var blue_max    = this._sock.rQshift16();
        var red_shift   = this._sock.rQshift8();
        var green_shift = this._sock.rQshift8();
        var blue_shift  = this._sock.rQshift8();
        this._sock.rQskipBytes(3);  // padding

        // NB(directxman12): we don't want to call any callbacks or print messages until
        //                   *after* we're past the point where we could backtrack

        /* Connection name/title */
        var name_length = this._sock.rQshift32();
        if (this._sock.rQwait('server init name', name_length, 24)) { return false; }
        this._fb_name = Object(_util_strings_js__WEBPACK_IMPORTED_MODULE_1__["decodeUTF8"])(this._sock.rQshiftStr(name_length));

        if (this._rfb_tightvnc) {
            if (this._sock.rQwait('TightVNC extended server init header', 8, 24 + name_length)) { return false; }
            // In TightVNC mode, ServerInit message is extended
            var numServerMessages = this._sock.rQshift16();
            var numClientMessages = this._sock.rQshift16();
            var numEncodings = this._sock.rQshift16();
            this._sock.rQskipBytes(2);  // padding

            var totalMessagesLength = (numServerMessages + numClientMessages + numEncodings) * 16;
            if (this._sock.rQwait('TightVNC extended server init header', totalMessagesLength, 32 + name_length)) { return false; }

            // we don't actually do anything with the capability information that TIGHT sends,
            // so we just skip the all of this.

            // TIGHT server message capabilities
            this._sock.rQskipBytes(16 * numServerMessages);

            // TIGHT client message capabilities
            this._sock.rQskipBytes(16 * numClientMessages);

            // TIGHT encoding capabilities
            this._sock.rQskipBytes(16 * numEncodings);
        }

        // NB(directxman12): these are down here so that we don't run them multiple times
        //                   if we backtrack
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Screen: " + width + "x" + height +
                  ", bpp: " + bpp + ", depth: " + depth +
                  ", big_endian: " + big_endian +
                  ", true_color: " + true_color +
                  ", red_max: " + red_max +
                  ", green_max: " + green_max +
                  ", blue_max: " + blue_max +
                  ", red_shift: " + red_shift +
                  ", green_shift: " + green_shift +
                  ", blue_shift: " + blue_shift);

        if (big_endian !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native endian is not little endian");
        }

        if (red_shift !== 16) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native red-shift is not 16");
        }

        if (blue_shift !== 0) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server native blue-shift is not 0");
        }

        // we're past the point where we could backtrack, so it's safe to call this
        var event = new CustomEvent("desktopname",
                                    { detail: { name: this._fb_name } });
        this.dispatchEvent(event);

        this._resize(width, height);

        if (!this._viewOnly) { this._keyboard.grab(); }
        if (!this._viewOnly) { this._mouse.grab(); }

        this._fb_depth = 24;

        if (this._fb_name === "Intel(r) AMT KVM") {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Intel AMT KVM only supports 8/16 bit depths. Using low color mode.");
            this._fb_depth = 8;
        }

        RFB.messages.pixelFormat(this._sock, this._fb_depth, true);
        this._sendEncodings();
        RFB.messages.fbUpdateRequest(this._sock, false, 0, 0, this._fb_width, this._fb_height);

        this._timing.fbu_rt_start = (new Date()).getTime();
        this._timing.pixels = 0;

        // Cursor will be server side until the server decides to honor
        // our request and send over the cursor image
        this._display.disableLocalCursor();

        this._updateConnectionState('connected');
        return true;
    },

    _sendEncodings: function () {
        var encs = [];

        // In preference order
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingCopyRect);
        // Only supported with full depth support
        if (this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingTight);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingHextile);
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRRE);
        }
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].encodingRaw);

        // Psuedo-encoding settings
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingTightPNG);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQualityLevel0 + 6);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCompressLevel0 + 2);

        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingLastRect);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingQEMUExtendedKeyEvent);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingExtendedDesktopSize);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingXvp);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingFence);
        encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingContinuousUpdates);

        if (Object(_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["supportsCursorURIs"])() &&
            !_util_browser_js__WEBPACK_IMPORTED_MODULE_2__["isTouchDevice"] && this._fb_depth == 24) {
            encs.push(_encodings_js__WEBPACK_IMPORTED_MODULE_12__["encodings"].pseudoEncodingCursor);
        }

        RFB.messages.clientEncodings(this._sock, encs);
    },

    /* RFB protocol initialization states:
     *   ProtocolVersion
     *   Security
     *   Authentication
     *   SecurityResult
     *   ClientInitialization - not triggered by server message
     *   ServerInitialization
     */
    _init_msg: function () {
        switch (this._rfb_init_state) {
            case 'ProtocolVersion':
                return this._negotiate_protocol_version();

            case 'Security':
                return this._negotiate_security();

            case 'Authentication':
                return this._negotiate_authentication();

            case 'SecurityResult':
                return this._handle_security_result();

            case 'ClientInitialisation':
                this._sock.send([this._shared ? 1 : 0]); // ClientInitialisation
                this._rfb_init_state = 'ServerInitialisation';
                return true;

            case 'ServerInitialisation':
                return this._negotiate_server_init();

            default:
                return this._fail("Unknown init state (state: " +
                                  this._rfb_init_state + ")");
        }
    },

    _handle_set_colour_map_msg: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("SetColorMapEntries");

        return this._fail("Unexpected SetColorMapEntries message");
    },

    _handle_server_cut_text: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("ServerCutText");

        if (this._sock.rQwait("ServerCutText header", 7, 1)) { return false; }
        this._sock.rQskipBytes(3);  // Padding
        var length = this._sock.rQshift32();
        if (this._sock.rQwait("ServerCutText", length, 8)) { return false; }

        var text = this._sock.rQshiftStr(length);

        if (this._viewOnly) { return true; }

        var event = new CustomEvent("clipboard",
                                    { detail: { text: text } });
        this.dispatchEvent(event);

        return true;
    },

    _handle_server_fence_msg: function() {
        if (this._sock.rQwait("ServerFence header", 8, 1)) { return false; }
        this._sock.rQskipBytes(3); // Padding
        var flags = this._sock.rQshift32();
        var length = this._sock.rQshift8();

        if (this._sock.rQwait("ServerFence payload", length, 9)) { return false; }

        if (length > 64) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Bad payload length (" + length + ") in fence response");
            length = 64;
        }

        var payload = this._sock.rQshiftStr(length);

        this._supportsFence = true;

        /*
         * Fence flags
         *
         *  (1<<0)  - BlockBefore
         *  (1<<1)  - BlockAfter
         *  (1<<2)  - SyncNext
         *  (1<<31) - Request
         */

        if (!(flags & (1<<31))) {
            return this._fail("Unexpected fence response");
        }

        // Filter out unsupported flags
        // FIXME: support syncNext
        flags &= (1<<0) | (1<<1);

        // BlockBefore and BlockAfter are automatically handled by
        // the fact that we process each incoming message
        // synchronuosly.
        RFB.messages.clientFence(this._sock, flags, payload);

        return true;
    },

    _handle_xvp_msg: function () {
        if (this._sock.rQwait("XVP version and message", 3, 1)) { return false; }
        this._sock.rQskip8();  // Padding
        var xvp_ver = this._sock.rQshift8();
        var xvp_msg = this._sock.rQshift8();

        switch (xvp_msg) {
            case 0:  // XVP_FAIL
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("XVP Operation Failed");
                break;
            case 1:  // XVP_INIT
                this._rfb_xvp_ver = xvp_ver;
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("XVP extensions enabled (version " + this._rfb_xvp_ver + ")");
                this._setCapability("power", true);
                break;
            default:
                this._fail("Illegal server XVP message (msg: " + xvp_msg + ")");
                break;
        }

        return true;
    },

    _normal_msg: function () {
        var msg_type;

        if (this._FBU.rects > 0) {
            msg_type = 0;
        } else {
            msg_type = this._sock.rQshift8();
        }

        switch (msg_type) {
            case 0:  // FramebufferUpdate
                var ret = this._framebufferUpdate();
                if (ret && !this._enabledContinuousUpdates) {
                    RFB.messages.fbUpdateRequest(this._sock, true, 0, 0,
                                                 this._fb_width, this._fb_height);
                }
                return ret;

            case 1:  // SetColorMapEntries
                return this._handle_set_colour_map_msg();

            case 2:  // Bell
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Bell");
                var event = new CustomEvent("bell", { detail: {} });
                this.dispatchEvent(event);
                return true;

            case 3:  // ServerCutText
                return this._handle_server_cut_text();

            case 150: // EndOfContinuousUpdates
                var first = !(this._supportsContinuousUpdates);
                this._supportsContinuousUpdates = true;
                this._enabledContinuousUpdates = false;
                if (first) {
                    this._enabledContinuousUpdates = true;
                    this._updateContinuousUpdates();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Enabling continuous updates.");
                } else {
                    // FIXME: We need to send a framebufferupdaterequest here
                    // if we add support for turning off continuous updates
                }
                return true;

            case 248: // ServerFence
                return this._handle_server_fence_msg();

            case 250:  // XVP
                return this._handle_xvp_msg();

            default:
                this._fail("Unexpected server message (type " + msg_type + ")");
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("sock.rQslice(0, 30): " + this._sock.rQslice(0, 30));
                return true;
        }
    },

    _onFlush: function() {
        this._flushing = false;
        // Resume processing
        if (this._sock.rQlen() > 0) {
            this._handle_message();
        }
    },

    _framebufferUpdate: function () {
        var ret = true;
        var now;

        if (this._FBU.rects === 0) {
            if (this._sock.rQwait("FBU header", 3, 1)) { return false; }
            this._sock.rQskip8();  // Padding
            this._FBU.rects = this._sock.rQshift16();
            this._FBU.bytes = 0;
            this._timing.cur_fbu = 0;
            if (this._timing.fbu_rt_start > 0) {
                now = (new Date()).getTime();
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("First FBU latency: " + (now - this._timing.fbu_rt_start));
            }

            // Make sure the previous frame is fully rendered first
            // to avoid building up an excessive queue
            if (this._display.pending()) {
                this._flushing = true;
                this._display.flush();
                return false;
            }
        }

        while (this._FBU.rects > 0) {
            if (this._rfb_connection_state !== 'connected') { return false; }

            if (this._sock.rQwait("FBU", this._FBU.bytes)) { return false; }
            if (this._FBU.bytes === 0) {
                if (this._sock.rQwait("rect header", 12)) { return false; }
                /* New FramebufferUpdate */

                var hdr = this._sock.rQshiftBytes(12);
                this._FBU.x        = (hdr[0] << 8) + hdr[1];
                this._FBU.y        = (hdr[2] << 8) + hdr[3];
                this._FBU.width    = (hdr[4] << 8) + hdr[5];
                this._FBU.height   = (hdr[6] << 8) + hdr[7];
                this._FBU.encoding = parseInt((hdr[8] << 24) + (hdr[9] << 16) +
                                              (hdr[10] << 8) + hdr[11], 10);

                if (!this._encHandlers[this._FBU.encoding]) {
                    this._fail("Unsupported encoding (encoding: " +
                               this._FBU.encoding + ")");
                    return false;
                }
            }

            this._timing.last_fbu = (new Date()).getTime();

            ret = this._encHandlers[this._FBU.encoding]();

            now = (new Date()).getTime();
            this._timing.cur_fbu += (now - this._timing.last_fbu);

            if (ret) {
                if (!(this._FBU.encoding in this._encStats)) {
                    this._encStats[this._FBU.encoding] = [0, 0];
                }
                this._encStats[this._FBU.encoding][0]++;
                this._encStats[this._FBU.encoding][1]++;
                this._timing.pixels += this._FBU.width * this._FBU.height;
            }

            if (this._timing.pixels >= (this._fb_width * this._fb_height)) {
                if ((this._FBU.width === this._fb_width && this._FBU.height === this._fb_height) ||
                    this._timing.fbu_rt_start > 0) {
                    this._timing.full_fbu_total += this._timing.cur_fbu;
                    this._timing.full_fbu_cnt++;
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Timing of full FBU, curr: " +
                              this._timing.cur_fbu + ", total: " +
                              this._timing.full_fbu_total + ", cnt: " +
                              this._timing.full_fbu_cnt + ", avg: " +
                              (this._timing.full_fbu_total / this._timing.full_fbu_cnt));
                }

                if (this._timing.fbu_rt_start > 0) {
                    var fbu_rt_diff = now - this._timing.fbu_rt_start;
                    this._timing.fbu_rt_total += fbu_rt_diff;
                    this._timing.fbu_rt_cnt++;
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("full FBU round-trip, cur: " +
                              fbu_rt_diff + ", total: " +
                              this._timing.fbu_rt_total + ", cnt: " +
                              this._timing.fbu_rt_cnt + ", avg: " +
                              (this._timing.fbu_rt_total / this._timing.fbu_rt_cnt));
                    this._timing.fbu_rt_start = 0;
                }
            }

            if (!ret) { return ret; }  // need more data
        }

        this._display.flip();

        return true;  // We finished this FBU
    },

    _updateContinuousUpdates: function() {
        if (!this._enabledContinuousUpdates) { return; }

        RFB.messages.enableContinuousUpdates(this._sock, true, 0, 0,
                                             this._fb_width, this._fb_height);
    },

    _resize: function(width, height) {
        this._fb_width = width;
        this._fb_height = height;

        this._destBuff = new Uint8Array(this._fb_width * this._fb_height * 4);

        this._display.resize(this._fb_width, this._fb_height);

        // Adjust the visible viewport based on the new dimensions
        this._updateClip();
        this._updateScale();

        this._timing.fbu_rt_start = (new Date()).getTime();
        this._updateContinuousUpdates();
    },

    _xvpOp: function (ver, op) {
        if (this._rfb_xvp_ver < ver) { return; }
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Sending XVP operation " + op + " (version " + ver + ")");
        RFB.messages.xvpOp(this._sock, ver, op);
    },
};

Object.assign(RFB.prototype, _util_eventtarget_js__WEBPACK_IMPORTED_MODULE_3__["default"]);

// Class Methods
RFB.messages = {
    keyEvent: function (sock, keysym, down) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 4;  // msg-type
        buff[offset + 1] = down;

        buff[offset + 2] = 0;
        buff[offset + 3] = 0;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        sock._sQlen += 8;
        sock.flush();
    },

    QEMUExtendedKeyEvent: function (sock, keysym, down, keycode) {
        function getRFBkeycode(xt_scancode) {
            var upperByte = (keycode >> 8);
            var lowerByte = (keycode & 0x00ff);
            if (upperByte === 0xe0 && lowerByte < 0x7f) {
                lowerByte = lowerByte | 0x80;
                return lowerByte;
            }
            return xt_scancode;
        }

        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 255; // msg-type
        buff[offset + 1] = 0; // sub msg-type

        buff[offset + 2] = (down >> 8);
        buff[offset + 3] = down;

        buff[offset + 4] = (keysym >> 24);
        buff[offset + 5] = (keysym >> 16);
        buff[offset + 6] = (keysym >> 8);
        buff[offset + 7] = keysym;

        var RFBkeycode = getRFBkeycode(keycode);

        buff[offset + 8] = (RFBkeycode >> 24);
        buff[offset + 9] = (RFBkeycode >> 16);
        buff[offset + 10] = (RFBkeycode >> 8);
        buff[offset + 11] = RFBkeycode;

        sock._sQlen += 12;
        sock.flush();
    },

    pointerEvent: function (sock, x, y, mask) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 5; // msg-type

        buff[offset + 1] = mask;

        buff[offset + 2] = x >> 8;
        buff[offset + 3] = x;

        buff[offset + 4] = y >> 8;
        buff[offset + 5] = y;

        sock._sQlen += 6;
        sock.flush();
    },

    // TODO(directxman12): make this unicode compatible?
    clientCutText: function (sock, text) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 6; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        var n = text.length;

        buff[offset + 4] = n >> 24;
        buff[offset + 5] = n >> 16;
        buff[offset + 6] = n >> 8;
        buff[offset + 7] = n;

        for (var i = 0; i < n; i++) {
            buff[offset + 8 + i] =  text.charCodeAt(i);
        }

        sock._sQlen += 8 + n;
        sock.flush();
    },

    setDesktopSize: function (sock, width, height, id, flags) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 251;              // msg-type
        buff[offset + 1] = 0;            // padding
        buff[offset + 2] = width >> 8;   // width
        buff[offset + 3] = width;
        buff[offset + 4] = height >> 8;  // height
        buff[offset + 5] = height;

        buff[offset + 6] = 1;            // number-of-screens
        buff[offset + 7] = 0;            // padding

        // screen array
        buff[offset + 8] = id >> 24;     // id
        buff[offset + 9] = id >> 16;
        buff[offset + 10] = id >> 8;
        buff[offset + 11] = id;
        buff[offset + 12] = 0;           // x-position
        buff[offset + 13] = 0;
        buff[offset + 14] = 0;           // y-position
        buff[offset + 15] = 0;
        buff[offset + 16] = width >> 8;  // width
        buff[offset + 17] = width;
        buff[offset + 18] = height >> 8; // height
        buff[offset + 19] = height;
        buff[offset + 20] = flags >> 24; // flags
        buff[offset + 21] = flags >> 16;
        buff[offset + 22] = flags >> 8;
        buff[offset + 23] = flags;

        sock._sQlen += 24;
        sock.flush();
    },

    clientFence: function (sock, flags, payload) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 248; // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = flags >> 24; // flags
        buff[offset + 5] = flags >> 16;
        buff[offset + 6] = flags >> 8;
        buff[offset + 7] = flags;

        var n = payload.length;

        buff[offset + 8] = n; // length

        for (var i = 0; i < n; i++) {
            buff[offset + 9 + i] = payload.charCodeAt(i);
        }

        sock._sQlen += 9 + n;
        sock.flush();
    },

    enableContinuousUpdates: function (sock, enable, x, y, width, height) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 150;             // msg-type
        buff[offset + 1] = enable;      // enable-flag

        buff[offset + 2] = x >> 8;      // x
        buff[offset + 3] = x;
        buff[offset + 4] = y >> 8;      // y
        buff[offset + 5] = y;
        buff[offset + 6] = width >> 8;  // width
        buff[offset + 7] = width;
        buff[offset + 8] = height >> 8; // height
        buff[offset + 9] = height;

        sock._sQlen += 10;
        sock.flush();
    },

    pixelFormat: function (sock, depth, true_color) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        var bpp, bits;

        if (depth > 16) {
            bpp = 32;
        } else if (depth > 8) {
            bpp = 16;
        } else {
            bpp = 8;
        }

        bits = Math.floor(depth/3);

        buff[offset] = 0;  // msg-type

        buff[offset + 1] = 0; // padding
        buff[offset + 2] = 0; // padding
        buff[offset + 3] = 0; // padding

        buff[offset + 4] = bpp;                 // bits-per-pixel
        buff[offset + 5] = depth;               // depth
        buff[offset + 6] = 0;                   // little-endian
        buff[offset + 7] = true_color ? 1 : 0;  // true-color

        buff[offset + 8] = 0;    // red-max
        buff[offset + 9] = (1 << bits) - 1;  // red-max

        buff[offset + 10] = 0;   // green-max
        buff[offset + 11] = (1 << bits) - 1; // green-max

        buff[offset + 12] = 0;   // blue-max
        buff[offset + 13] = (1 << bits) - 1; // blue-max

        buff[offset + 14] = bits * 2; // red-shift
        buff[offset + 15] = bits * 1; // green-shift
        buff[offset + 16] = bits * 0; // blue-shift

        buff[offset + 17] = 0;   // padding
        buff[offset + 18] = 0;   // padding
        buff[offset + 19] = 0;   // padding

        sock._sQlen += 20;
        sock.flush();
    },

    clientEncodings: function (sock, encodings) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 2; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = encodings.length >> 8;
        buff[offset + 3] = encodings.length;

        var i, j = offset + 4;
        for (i = 0; i < encodings.length; i++) {
            var enc = encodings[i];
            buff[j] = enc >> 24;
            buff[j + 1] = enc >> 16;
            buff[j + 2] = enc >> 8;
            buff[j + 3] = enc;

            j += 4;
        }

        sock._sQlen += j - offset;
        sock.flush();
    },

    fbUpdateRequest: function (sock, incremental, x, y, w, h) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        if (typeof(x) === "undefined") { x = 0; }
        if (typeof(y) === "undefined") { y = 0; }

        buff[offset] = 3;  // msg-type
        buff[offset + 1] = incremental ? 1 : 0;

        buff[offset + 2] = (x >> 8) & 0xFF;
        buff[offset + 3] = x & 0xFF;

        buff[offset + 4] = (y >> 8) & 0xFF;
        buff[offset + 5] = y & 0xFF;

        buff[offset + 6] = (w >> 8) & 0xFF;
        buff[offset + 7] = w & 0xFF;

        buff[offset + 8] = (h >> 8) & 0xFF;
        buff[offset + 9] = h & 0xFF;

        sock._sQlen += 10;
        sock.flush();
    },

    xvpOp: function (sock, ver, op) {
        var buff = sock._sQ;
        var offset = sock._sQlen;

        buff[offset] = 250; // msg-type
        buff[offset + 1] = 0; // padding

        buff[offset + 2] = ver;
        buff[offset + 3] = op;

        sock._sQlen += 4;
        sock.flush();
    },
};

RFB.genDES = function (password, challenge) {
    var passwd = [];
    for (var i = 0; i < password.length; i++) {
        passwd.push(password.charCodeAt(i));
    }
    return (new _des_js__WEBPACK_IMPORTED_MODULE_8__["default"](passwd)).encrypt(challenge);
};

RFB.encodingHandlers = {
    RAW: function () {
        if (this._FBU.lines === 0) {
            this._FBU.lines = this._FBU.height;
        }

        var pixelSize = this._fb_depth == 8 ? 1 : 4;
        this._FBU.bytes = this._FBU.width * pixelSize;  // at least a line
        if (this._sock.rQwait("RAW", this._FBU.bytes)) { return false; }
        var cur_y = this._FBU.y + (this._FBU.height - this._FBU.lines);
        var curr_height = Math.min(this._FBU.lines,
                                   Math.floor(this._sock.rQlen() / (this._FBU.width * pixelSize)));
        var data = this._sock.get_rQ();
        var index = this._sock.get_rQi();
        if (this._fb_depth == 8) {
            var pixels = this._FBU.width * curr_height
            var newdata = new Uint8Array(pixels * 4);
            var i;
            for (i = 0;i < pixels;i++) {
                newdata[i * 4 + 0] = ((data[index + i] >> 0) & 0x3) * 255 / 3;
                newdata[i * 4 + 1] = ((data[index + i] >> 2) & 0x3) * 255 / 3;
                newdata[i * 4 + 2] = ((data[index + i] >> 4) & 0x3) * 255 / 3;
                newdata[i * 4 + 4] = 0;
            }
            data = newdata;
            index = 0;
        }
        this._display.blitImage(this._FBU.x, cur_y, this._FBU.width,
                                curr_height, data, index);
        this._sock.rQskipBytes(this._FBU.width * curr_height * pixelSize);
        this._FBU.lines -= curr_height;

        if (this._FBU.lines > 0) {
            this._FBU.bytes = this._FBU.width * pixelSize;  // At least another line
        } else {
            this._FBU.rects--;
            this._FBU.bytes = 0;
        }

        return true;
    },

    COPYRECT: function () {
        this._FBU.bytes = 4;
        if (this._sock.rQwait("COPYRECT", 4)) { return false; }
        this._display.copyImage(this._sock.rQshift16(), this._sock.rQshift16(),
                                this._FBU.x, this._FBU.y, this._FBU.width,
                                this._FBU.height);

        this._FBU.rects--;
        this._FBU.bytes = 0;
        return true;
    },

    RRE: function () {
        var color;
        if (this._FBU.subrects === 0) {
            this._FBU.bytes = 4 + 4;
            if (this._sock.rQwait("RRE", 4 + 4)) { return false; }
            this._FBU.subrects = this._sock.rQshift32();
            color = this._sock.rQshiftBytes(4);  // Background
            this._display.fillRect(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, color);
        }

        while (this._FBU.subrects > 0 && this._sock.rQlen() >= (4 + 8)) {
            color = this._sock.rQshiftBytes(4);
            var x = this._sock.rQshift16();
            var y = this._sock.rQshift16();
            var width = this._sock.rQshift16();
            var height = this._sock.rQshift16();
            this._display.fillRect(this._FBU.x + x, this._FBU.y + y, width, height, color);
            this._FBU.subrects--;
        }

        if (this._FBU.subrects > 0) {
            var chunk = Math.min(this._rre_chunk_sz, this._FBU.subrects);
            this._FBU.bytes = (4 + 8) * chunk;
        } else {
            this._FBU.rects--;
            this._FBU.bytes = 0;
        }

        return true;
    },

    HEXTILE: function () {
        var rQ = this._sock.get_rQ();
        var rQi = this._sock.get_rQi();

        if (this._FBU.tiles === 0) {
            this._FBU.tiles_x = Math.ceil(this._FBU.width / 16);
            this._FBU.tiles_y = Math.ceil(this._FBU.height / 16);
            this._FBU.total_tiles = this._FBU.tiles_x * this._FBU.tiles_y;
            this._FBU.tiles = this._FBU.total_tiles;
        }

        while (this._FBU.tiles > 0) {
            this._FBU.bytes = 1;
            if (this._sock.rQwait("HEXTILE subencoding", this._FBU.bytes)) { return false; }
            var subencoding = rQ[rQi];  // Peek
            if (subencoding > 30) {  // Raw
                this._fail("Illegal hextile subencoding (subencoding: " +
                           subencoding + ")");
                return false;
            }

            var subrects = 0;
            var curr_tile = this._FBU.total_tiles - this._FBU.tiles;
            var tile_x = curr_tile % this._FBU.tiles_x;
            var tile_y = Math.floor(curr_tile / this._FBU.tiles_x);
            var x = this._FBU.x + tile_x * 16;
            var y = this._FBU.y + tile_y * 16;
            var w = Math.min(16, (this._FBU.x + this._FBU.width) - x);
            var h = Math.min(16, (this._FBU.y + this._FBU.height) - y);

            // Figure out how much we are expecting
            if (subencoding & 0x01) {  // Raw
                this._FBU.bytes += w * h * 4;
            } else {
                if (subencoding & 0x02) {  // Background
                    this._FBU.bytes += 4;
                }
                if (subencoding & 0x04) {  // Foreground
                    this._FBU.bytes += 4;
                }
                if (subencoding & 0x08) {  // AnySubrects
                    this._FBU.bytes++;  // Since we aren't shifting it off
                    if (this._sock.rQwait("hextile subrects header", this._FBU.bytes)) { return false; }
                    subrects = rQ[rQi + this._FBU.bytes - 1];  // Peek
                    if (subencoding & 0x10) {  // SubrectsColoured
                        this._FBU.bytes += subrects * (4 + 2);
                    } else {
                        this._FBU.bytes += subrects * 2;
                    }
                }
            }

            if (this._sock.rQwait("hextile", this._FBU.bytes)) { return false; }

            // We know the encoding and have a whole tile
            this._FBU.subencoding = rQ[rQi];
            rQi++;
            if (this._FBU.subencoding === 0) {
                if (this._FBU.lastsubencoding & 0x01) {
                    // Weird: ignore blanks are RAW
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("     Ignoring blank after RAW");
                } else {
                    this._display.fillRect(x, y, w, h, this._FBU.background);
                }
            } else if (this._FBU.subencoding & 0x01) {  // Raw
                this._display.blitImage(x, y, w, h, rQ, rQi);
                rQi += this._FBU.bytes - 1;
            } else {
                if (this._FBU.subencoding & 0x02) {  // Background
                    this._FBU.background = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }
                if (this._FBU.subencoding & 0x04) {  // Foreground
                    this._FBU.foreground = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                    rQi += 4;
                }

                this._display.startTile(x, y, w, h, this._FBU.background);
                if (this._FBU.subencoding & 0x08) {  // AnySubrects
                    subrects = rQ[rQi];
                    rQi++;

                    for (var s = 0; s < subrects; s++) {
                        var color;
                        if (this._FBU.subencoding & 0x10) {  // SubrectsColoured
                            color = [rQ[rQi], rQ[rQi + 1], rQ[rQi + 2], rQ[rQi + 3]];
                            rQi += 4;
                        } else {
                            color = this._FBU.foreground;
                        }
                        var xy = rQ[rQi];
                        rQi++;
                        var sx = (xy >> 4);
                        var sy = (xy & 0x0f);

                        var wh = rQ[rQi];
                        rQi++;
                        var sw = (wh >> 4) + 1;
                        var sh = (wh & 0x0f) + 1;

                        this._display.subTile(sx, sy, sw, sh, color);
                    }
                }
                this._display.finishTile();
            }
            this._sock.set_rQi(rQi);
            this._FBU.lastsubencoding = this._FBU.subencoding;
            this._FBU.bytes = 0;
            this._FBU.tiles--;
        }

        if (this._FBU.tiles === 0) {
            this._FBU.rects--;
        }

        return true;
    },

    TIGHT: function () {
        this._FBU.bytes = 1;  // compression-control byte
        if (this._sock.rQwait("TIGHT compression-control", this._FBU.bytes)) { return false; }

        var checksum = function (data) {
            var sum = 0;
            for (var i = 0; i < data.length; i++) {
                sum += data[i];
                if (sum > 65536) sum -= 65536;
            }
            return sum;
        };

        var resetStreams = 0;
        var streamId = -1;
        var decompress = function (data, expected) {
            for (var i = 0; i < 4; i++) {
                if ((resetStreams >> i) & 1) {
                    this._FBU.zlibs[i].reset();
                    _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Reset zlib stream " + i);
                }
            }

            //var uncompressed = this._FBU.zlibs[streamId].uncompress(data, 0);
            var uncompressed = this._FBU.zlibs[streamId].inflate(data, true, expected);
            /*if (uncompressed.status !== 0) {
                Log.Error("Invalid data in zlib stream");
            }*/

            //return uncompressed.data;
            return uncompressed;
        }.bind(this);

        var indexedToRGBX2Color = function (data, palette, width, height) {
            // Convert indexed (palette based) image data to RGB
            // TODO: reduce number of calculations inside loop
            var dest = this._destBuff;
            var w = Math.floor((width + 7) / 8);
            var w1 = Math.floor(width / 8);

            /*for (var y = 0; y < height; y++) {
                var b, x, dp, sp;
                var yoffset = y * width;
                var ybitoffset = y * w;
                var xoffset, targetbyte;
                for (x = 0; x < w1; x++) {
                    xoffset = yoffset + x * 8;
                    targetbyte = data[ybitoffset + x];
                    for (b = 7; b >= 0; b--) {
                        dp = (xoffset + 7 - b) * 3;
                        sp = (targetbyte >> b & 1) * 3;
                        dest[dp] = palette[sp];
                        dest[dp + 1] = palette[sp + 1];
                        dest[dp + 2] = palette[sp + 2];
                    }
                }

                xoffset = yoffset + x * 8;
                targetbyte = data[ybitoffset + x];
                for (b = 7; b >= 8 - width % 8; b--) {
                    dp = (xoffset + 7 - b) * 3;
                    sp = (targetbyte >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                }
            }*/

            for (var y = 0; y < height; y++) {
                var b, x, dp, sp;
                for (x = 0; x < w1; x++) {
                    for (b = 7; b >= 0; b--) {
                        dp = (y * width + x * 8 + 7 - b) * 4;
                        sp = (data[y * w + x] >> b & 1) * 3;
                        dest[dp] = palette[sp];
                        dest[dp + 1] = palette[sp + 1];
                        dest[dp + 2] = palette[sp + 2];
                        dest[dp + 3] = 255;
                    }
                }

                for (b = 7; b >= 8 - width % 8; b--) {
                    dp = (y * width + x * 8 + 7 - b) * 4;
                    sp = (data[y * w + x] >> b & 1) * 3;
                    dest[dp] = palette[sp];
                    dest[dp + 1] = palette[sp + 1];
                    dest[dp + 2] = palette[sp + 2];
                    dest[dp + 3] = 255;
                }
            }

            return dest;
        }.bind(this);

        var indexedToRGBX = function (data, palette, width, height) {
            // Convert indexed (palette based) image data to RGB
            var dest = this._destBuff;
            var total = width * height * 4;
            for (var i = 0, j = 0; i < total; i += 4, j++) {
                var sp = data[j] * 3;
                dest[i] = palette[sp];
                dest[i + 1] = palette[sp + 1];
                dest[i + 2] = palette[sp + 2];
                dest[i + 3] = 255;
            }

            return dest;
        }.bind(this);

        var rQi = this._sock.get_rQi();
        var rQ = this._sock.rQwhole();
        var cmode, data;
        var cl_header, cl_data;

        var handlePalette = function () {
            var numColors = rQ[rQi + 2] + 1;
            var paletteSize = numColors * 3;
            this._FBU.bytes += paletteSize;
            if (this._sock.rQwait("TIGHT palette " + cmode, this._FBU.bytes)) { return false; }

            var bpp = (numColors <= 2) ? 1 : 8;
            var rowSize = Math.floor((this._FBU.width * bpp + 7) / 8);
            var raw = false;
            if (rowSize * this._FBU.height < 12) {
                raw = true;
                cl_header = 0;
                cl_data = rowSize * this._FBU.height;
                //clength = [0, rowSize * this._FBU.height];
            } else {
                // begin inline getTightCLength (returning two-item arrays is bad for performance with GC)
                var cl_offset = rQi + 3 + paletteSize;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
            }

            this._FBU.bytes += cl_header + cl_data;
            if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

            // Shift ctl, filter id, num colors, palette entries, and clength off
            this._sock.rQskipBytes(3);
            //var palette = this._sock.rQshiftBytes(paletteSize);
            this._sock.rQshiftTo(this._paletteBuff, paletteSize);
            this._sock.rQskipBytes(cl_header);

            if (raw) {
                data = this._sock.rQshiftBytes(cl_data);
            } else {
                data = decompress(this._sock.rQshiftBytes(cl_data), rowSize * this._FBU.height);
            }

            // Convert indexed (palette based) image data to RGB
            var rgbx;
            if (numColors == 2) {
                rgbx = indexedToRGBX2Color(data, this._paletteBuff, this._FBU.width, this._FBU.height);
                this._display.blitRgbxImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, rgbx, 0, false);
            } else {
                rgbx = indexedToRGBX(data, this._paletteBuff, this._FBU.width, this._FBU.height);
                this._display.blitRgbxImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, rgbx, 0, false);
            }


            return true;
        }.bind(this);

        var handleCopy = function () {
            var raw = false;
            var uncompressedSize = this._FBU.width * this._FBU.height * 3;
            if (uncompressedSize < 12) {
                raw = true;
                cl_header = 0;
                cl_data = uncompressedSize;
            } else {
                // begin inline getTightCLength (returning two-item arrays is for peformance with GC)
                var cl_offset = rQi + 1;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
            }
            this._FBU.bytes = 1 + cl_header + cl_data;
            if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

            // Shift ctl, clength off
            this._sock.rQshiftBytes(1 + cl_header);

            if (raw) {
                data = this._sock.rQshiftBytes(cl_data);
            } else {
                data = decompress(this._sock.rQshiftBytes(cl_data), uncompressedSize);
            }

            this._display.blitRgbImage(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, data, 0, false);

            return true;
        }.bind(this);

        var ctl = this._sock.rQpeek8();

        // Keep tight reset bits
        resetStreams = ctl & 0xF;

        // Figure out filter
        ctl = ctl >> 4;
        streamId = ctl & 0x3;

        if (ctl === 0x08)       cmode = "fill";
        else if (ctl === 0x09)  cmode = "jpeg";
        else if (ctl === 0x0A)  cmode = "png";
        else if (ctl & 0x04)    cmode = "filter";
        else if (ctl < 0x04)    cmode = "copy";
        else return this._fail("Illegal tight compression received (ctl: " +
                               ctl + ")");

        switch (cmode) {
            // fill use depth because TPIXELs drop the padding byte
            case "fill":  // TPIXEL
                this._FBU.bytes += 3;
                break;
            case "jpeg":  // max clength
                this._FBU.bytes += 3;
                break;
            case "png":  // max clength
                this._FBU.bytes += 3;
                break;
            case "filter":  // filter id + num colors if palette
                this._FBU.bytes += 2;
                break;
            case "copy":
                break;
        }

        if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

        // Determine FBU.bytes
        switch (cmode) {
            case "fill":
                // skip ctl byte
                this._display.fillRect(this._FBU.x, this._FBU.y, this._FBU.width, this._FBU.height, [rQ[rQi + 3], rQ[rQi + 2], rQ[rQi + 1]], false);
                this._sock.rQskipBytes(4);
                break;
            case "png":
            case "jpeg":
                // begin inline getTightCLength (returning two-item arrays is for peformance with GC)
                var cl_offset = rQi + 1;
                cl_header = 1;
                cl_data = 0;
                cl_data += rQ[cl_offset] & 0x7f;
                if (rQ[cl_offset] & 0x80) {
                    cl_header++;
                    cl_data += (rQ[cl_offset + 1] & 0x7f) << 7;
                    if (rQ[cl_offset + 1] & 0x80) {
                        cl_header++;
                        cl_data += rQ[cl_offset + 2] << 14;
                    }
                }
                // end inline getTightCLength
                this._FBU.bytes = 1 + cl_header + cl_data;  // ctl + clength size + jpeg-data
                if (this._sock.rQwait("TIGHT " + cmode, this._FBU.bytes)) { return false; }

                // We have everything, render it
                this._sock.rQskipBytes(1 + cl_header);  // shift off clt + compact length
                data = this._sock.rQshiftBytes(cl_data);
                this._display.imageRect(this._FBU.x, this._FBU.y, "image/" + cmode, data);
                break;
            case "filter":
                var filterId = rQ[rQi + 1];
                if (filterId === 1) {
                    if (!handlePalette()) { return false; }
                } else {
                    // Filter 0, Copy could be valid here, but servers don't send it as an explicit filter
                    // Filter 2, Gradient is valid but not use if jpeg is enabled
                    this._fail("Unsupported tight subencoding received " +
                               "(filter: " + filterId + ")");
                }
                break;
            case "copy":
                if (!handleCopy()) { return false; }
                break;
        }


        this._FBU.bytes = 0;
        this._FBU.rects--;

        return true;
    },

    last_rect: function () {
        this._FBU.rects = 0;
        return true;
    },

    ExtendedDesktopSize: function () {
        this._FBU.bytes = 1;
        if (this._sock.rQwait("ExtendedDesktopSize", this._FBU.bytes)) { return false; }

        var firstUpdate = !this._supportsSetDesktopSize;
        this._supportsSetDesktopSize = true;

        // Normally we only apply the current resize mode after a
        // window resize event. However there is no such trigger on the
        // initial connect. And we don't know if the server supports
        // resizing until we've gotten here.
        if (firstUpdate) {
            this._requestRemoteResize();
        }

        var number_of_screens = this._sock.rQpeek8();

        this._FBU.bytes = 4 + (number_of_screens * 16);
        if (this._sock.rQwait("ExtendedDesktopSize", this._FBU.bytes)) { return false; }

        this._sock.rQskipBytes(1);  // number-of-screens
        this._sock.rQskipBytes(3);  // padding

        for (var i = 0; i < number_of_screens; i += 1) {
            // Save the id and flags of the first screen
            if (i === 0) {
                this._screen_id = this._sock.rQshiftBytes(4);    // id
                this._sock.rQskipBytes(2);                       // x-position
                this._sock.rQskipBytes(2);                       // y-position
                this._sock.rQskipBytes(2);                       // width
                this._sock.rQskipBytes(2);                       // height
                this._screen_flags = this._sock.rQshiftBytes(4); // flags
            } else {
                this._sock.rQskipBytes(16);
            }
        }

        /*
         * The x-position indicates the reason for the change:
         *
         *  0 - server resized on its own
         *  1 - this client requested the resize
         *  2 - another client requested the resize
         */

        // We need to handle errors when we requested the resize.
        if (this._FBU.x === 1 && this._FBU.y !== 0) {
            var msg = "";
            // The y-position indicates the status code from the server
            switch (this._FBU.y) {
            case 1:
                msg = "Resize is administratively prohibited";
                break;
            case 2:
                msg = "Out of resources";
                break;
            case 3:
                msg = "Invalid screen layout";
                break;
            default:
                msg = "Unknown reason";
                break;
            }
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Server did not accept the resize request: "
                     + msg);
        } else {
            this._resize(this._FBU.width, this._FBU.height);
        }

        this._FBU.bytes = 0;
        this._FBU.rects -= 1;
        return true;
    },

    DesktopSize: function () {
        this._resize(this._FBU.width, this._FBU.height);
        this._FBU.bytes = 0;
        this._FBU.rects -= 1;
        return true;
    },

    Cursor: function () {
        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> set_cursor");
        var x = this._FBU.x;  // hotspot-x
        var y = this._FBU.y;  // hotspot-y
        var w = this._FBU.width;
        var h = this._FBU.height;

        var pixelslength = w * h * 4;
        var masklength = Math.floor((w + 7) / 8) * h;

        this._FBU.bytes = pixelslength + masklength;
        if (this._sock.rQwait("cursor encoding", this._FBU.bytes)) { return false; }

        this._display.changeCursor(this._sock.rQshiftBytes(pixelslength),
                                   this._sock.rQshiftBytes(masklength),
                                   x, y, w, h);

        this._FBU.bytes = 0;
        this._FBU.rects--;

        _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< set_cursor");
        return true;
    },

    QEMUExtendedKeyEvent: function () {
        this._FBU.rects--;

        // Old Safari doesn't support creating keyboard events
        try {
            var keyboardEvent = document.createEvent("keyboardEvent");
            if (keyboardEvent.code !== undefined) {
                this._qemuExtKeyEventSupported = true;
            }
        } catch (err) {
        }
    },
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/browser.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/browser.js ***!
  \********************************************************/
/*! exports provided: isTouchDevice, supportsCursorURIs, isMac, isIE, isEdge, isWindows, isIOS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTouchDevice", function() { return isTouchDevice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsCursorURIs", function() { return supportsCursorURIs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMac", function() { return isMac; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIE", function() { return isIE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEdge", function() { return isEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWindows", function() { return isWindows; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIOS", function() { return isIOS; });
/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */



// Touch detection
var isTouchDevice = ('ontouchstart' in document.documentElement) ||
                                 // requried for Chrome debugger
                                 (document.ontouchstart !== undefined) ||
                                 // required for MS Surface
                                 (navigator.maxTouchPoints > 0) ||
                                 (navigator.msMaxTouchPoints > 0);
window.addEventListener('touchstart', function onFirstTouch() {
    isTouchDevice = true;
    window.removeEventListener('touchstart', onFirstTouch, false);
}, false);

var _cursor_uris_supported = null;

function supportsCursorURIs () {
    if (_cursor_uris_supported === null) {
        try {
            var target = document.createElement('canvas');
            target.style.cursor = 'url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';

            if (target.style.cursor) {
                _logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Data URI scheme cursor supported");
                _cursor_uris_supported = true;
            } else {
                _logging_js__WEBPACK_IMPORTED_MODULE_0__["Warn"]("Data URI scheme cursor not supported");
                _cursor_uris_supported = false;
            }
        } catch (exc) {
            _logging_js__WEBPACK_IMPORTED_MODULE_0__["Error"]("Data URI scheme cursor test exception: " + exc);
            _cursor_uris_supported = false;
        }
    }

    return _cursor_uris_supported;
};

function isMac() {
    return navigator && !!(/mac/i).exec(navigator.platform);
}

function isIE() {
    return navigator && !!(/trident/i).exec(navigator.userAgent);
}

function isEdge() {
    return navigator && !!(/edge/i).exec(navigator.userAgent);
}

function isWindows() {
    return navigator && !!(/win/i).exec(navigator.platform);
}

function isIOS() {
    return navigator &&
           (!!(/ipad/i).exec(navigator.platform) ||
            !!(/iphone/i).exec(navigator.platform) ||
            !!(/ipod/i).exec(navigator.platform));
}



/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/events.js":
/*!*******************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/events.js ***!
  \*******************************************************/
/*! exports provided: getPointerEvent, stopEvent, setCapture, releaseCapture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPointerEvent", function() { return getPointerEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopEvent", function() { return stopEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCapture", function() { return setCapture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "releaseCapture", function() { return releaseCapture; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Cross-browser event and position routines
 */

function getPointerEvent (e) {
    return e.changedTouches ? e.changedTouches[0] : e.touches ? e.touches[0] : e;
};

function stopEvent (e) {
    e.stopPropagation();
    e.preventDefault();
};

// Emulate Element.setCapture() when not supported
var _captureRecursion = false;
var _captureElem = null;
function _captureProxy(e) {
    // Recursion protection as we'll see our own event
    if (_captureRecursion) return;

    // Clone the event as we cannot dispatch an already dispatched event
    var newEv = new e.constructor(e.type, e);

    _captureRecursion = true;
    _captureElem.dispatchEvent(newEv);
    _captureRecursion = false;

    // Avoid double events
    e.stopPropagation();

    // Respect the wishes of the redirected event handlers
    if (newEv.defaultPrevented) {
        e.preventDefault();
    }

    // Implicitly release the capture on button release
    if (e.type === "mouseup") {
        releaseCapture();
    }
};

// Follow cursor style of target element
function _captureElemChanged() {
    var captureElem = document.getElementById("noVNC_mouse_capture_elem");
    captureElem.style.cursor = window.getComputedStyle(_captureElem).cursor;
};
var _captureObserver = new MutationObserver(_captureElemChanged);

var _captureIndex = 0;

function setCapture (elem) {
    if (elem.setCapture) {

        elem.setCapture();

        // IE releases capture on 'click' events which might not trigger
        elem.addEventListener('mouseup', releaseCapture);

    } else {
        // Release any existing capture in case this method is
        // called multiple times without coordination
        releaseCapture();

        var captureElem = document.getElementById("noVNC_mouse_capture_elem");

        if (captureElem === null) {
            captureElem = document.createElement("div");
            captureElem.id = "noVNC_mouse_capture_elem";
            captureElem.style.position = "fixed";
            captureElem.style.top = "0px";
            captureElem.style.left = "0px";
            captureElem.style.width = "100%";
            captureElem.style.height = "100%";
            captureElem.style.zIndex = 10000;
            captureElem.style.display = "none";
            document.body.appendChild(captureElem);

            // This is to make sure callers don't get confused by having
            // our blocking element as the target
            captureElem.addEventListener('contextmenu', _captureProxy);

            captureElem.addEventListener('mousemove', _captureProxy);
            captureElem.addEventListener('mouseup', _captureProxy);
        }

        _captureElem = elem;
        _captureIndex++;

        // Track cursor and get initial cursor
        _captureObserver.observe(elem, {attributes:true});
        _captureElemChanged();

        captureElem.style.display = "";

        // We listen to events on window in order to keep tracking if it
        // happens to leave the viewport
        window.addEventListener('mousemove', _captureProxy);
        window.addEventListener('mouseup', _captureProxy);
    }
};

function releaseCapture () {
    if (document.releaseCapture) {

        document.releaseCapture();

    } else {
        if (!_captureElem) {
            return;
        }

        // There might be events already queued, so we need to wait for
        // them to flush. E.g. contextmenu in Microsoft Edge
        window.setTimeout(function(expected) {
            // Only clear it if it's the expected grab (i.e. no one
            // else has initiated a new grab)
            if (_captureIndex === expected) {
                _captureElem = null;
            }
        }, 0, _captureIndex);

        _captureObserver.disconnect();

        var captureElem = document.getElementById("noVNC_mouse_capture_elem");
        captureElem.style.display = "none";

        window.removeEventListener('mousemove', _captureProxy);
        window.removeEventListener('mouseup', _captureProxy);
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/eventtarget.js":
/*!************************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/eventtarget.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * noVNC: HTML5 VNC client
 * Copyright 2017 Pierre Ossman for Cendio AB
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

var EventTargetMixin = {
    _listeners: null,

   addEventListener: function(type, callback) {
      if (!this._listeners) {
         this._listeners = new Map();
      }
      if (!this._listeners.has(type)) {
         this._listeners.set(type, new Set());
      }
      this._listeners.get(type).add(callback);
   },

   removeEventListener: function(type, callback) {
      if (!this._listeners || !this._listeners.has(type)) {
         return;
      }
      this._listeners.get(type).delete(callback);
   },

   dispatchEvent: function(event) {
      if (!this._listeners || !this._listeners.has(event.type)) {
         return true;
      }
      this._listeners.get(event.type).forEach(function (callback) {
         callback.call(this, event);
      }, this);
      return !event.defaultPrevented;
   },
};

/* harmony default export */ __webpack_exports__["default"] = (EventTargetMixin);


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/logging.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/logging.js ***!
  \********************************************************/
/*! exports provided: init_logging, get_logging, Debug, Info, Warn, Error */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init_logging", function() { return init_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get_logging", function() { return get_logging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Debug", function() { return Debug; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Info", function() { return Info; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Warn", function() { return Warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return Error; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Logging/debug routines
 */

var _log_level = 'warn';

var Debug = function (msg) {};
var Info = function (msg) {};
var Warn = function (msg) {};
var Error = function (msg) {};

function init_logging (level) {
    if (typeof level === 'undefined') {
        level = _log_level;
    } else {
        _log_level = level;
    }

    Debug = Info = Warn = Error = function (msg) {};
    if (typeof window.console !== "undefined") {
        switch (level) {
            case 'debug':
                Debug = console.debug.bind(window.console);
            case 'info':
                Info  = console.info.bind(window.console);
            case 'warn':
                Warn  = console.warn.bind(window.console);
            case 'error':
                Error = console.error.bind(window.console);
            case 'none':
                break;
            default:
                throw new Error("invalid logging type '" + level + "'");
        }
    }
};
function get_logging () {
    return _log_level;
};


// Initialize logging level
init_logging();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/polyfill.js":
/*!*********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/polyfill.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * noVNC: HTML5 VNC client
 * Copyright 2017 Pierre Ossman for noVNC
 * Licensed under MPL 2.0 or any later version (see LICENSE.txt)
 */

/* Polyfills to provide new APIs in old browsers */

/* Object.assign() (taken from MDN) */
if (typeof Object.assign != 'function') {
    // Must be writable: true, enumerable: false, configurable: true
    Object.defineProperty(Object, "assign", {
        value: function assign(target, varArgs) { // .length of function is 2
            'use strict';
            if (target == null) { // TypeError if undefined or null
                throw new TypeError('Cannot convert undefined or null to object');
            }

            var to = Object(target);

            for (var index = 1; index < arguments.length; index++) {
                var nextSource = arguments[index];

                if (nextSource != null) { // Skip over if undefined or null
                    for (var nextKey in nextSource) {
                        // Avoid bugs when hasOwnProperty is shadowed
                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                            to[nextKey] = nextSource[nextKey];
                        }
                    }
                }
            }
            return to;
        },
        writable: true,
        configurable: true
    });
}

/* CustomEvent constructor (taken from MDN) */
(function () {
    function CustomEvent ( event, params ) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        var evt = document.createEvent( 'CustomEvent' );
        evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
        return evt;
    }

    CustomEvent.prototype = window.Event.prototype;

    if (typeof window.CustomEvent !== "function") {
        window.CustomEvent = CustomEvent;
    }
})();


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/util/strings.js":
/*!********************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/util/strings.js ***!
  \********************************************************/
/*! exports provided: decodeUTF8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decodeUTF8", function() { return decodeUTF8; });
/*
 * noVNC: HTML5 VNC client
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * See README.md for usage and integration instructions.
 */

/*
 * Decode from UTF-8
 */
function decodeUTF8 (utf8string) {
    "use strict";
    return decodeURIComponent(escape(utf8string));
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/core/websock.js":
/*!***************************************************!*\
  !*** ./node_modules/@novnc/novnc/core/websock.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Websock; });
/* harmony import */ var _util_logging_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/logging.js */ "./node_modules/@novnc/novnc/core/util/logging.js");
/*
 * Websock: high-performance binary WebSockets
 * Copyright (C) 2012 Joel Martin
 * Licensed under MPL 2.0 (see LICENSE.txt)
 *
 * Websock is similar to the standard WebSocket object but with extra
 * buffer handling.
 *
 * Websock has built-in receive queue buffering; the message event
 * does not contain actual data but is simply a notification that
 * there is new data available. Several rQ* methods are available to
 * read binary data off of the receive queue.
 */



function Websock() {
    "use strict";

    this._websocket = null;  // WebSocket object

    this._rQi = 0;           // Receive queue index
    this._rQlen = 0;         // Next write position in the receive queue
    this._rQbufferSize = 1024 * 1024 * 4; // Receive queue buffer size (4 MiB)
    this._rQmax = this._rQbufferSize / 8;
    // called in init: this._rQ = new Uint8Array(this._rQbufferSize);
    this._rQ = null; // Receive queue

    this._sQbufferSize = 1024 * 10;  // 10 KiB
    // called in init: this._sQ = new Uint8Array(this._sQbufferSize);
    this._sQlen = 0;
    this._sQ = null;  // Send queue

    this._eventHandlers = {
        'message': function () {},
        'open': function () {},
        'close': function () {},
        'error': function () {}
    };
};

// this has performance issues in some versions Chromium, and
// doesn't gain a tremendous amount of performance increase in Firefox
// at the moment.  It may be valuable to turn it on in the future.
var ENABLE_COPYWITHIN = false;

var MAX_RQ_GROW_SIZE = 40 * 1024 * 1024;  // 40 MiB

var typedArrayToString = (function () {
    // This is only for PhantomJS, which doesn't like apply-ing
    // with Typed Arrays
    try {
        var arr = new Uint8Array([1, 2, 3]);
        String.fromCharCode.apply(null, arr);
        return function (a) { return String.fromCharCode.apply(null, a); };
    } catch (ex) {
        return function (a) {
            return String.fromCharCode.apply(
                null, Array.prototype.slice.call(a));
        };
    }
})();

Websock.prototype = {
    // Getters and Setters
    get_sQ: function () {
        return this._sQ;
    },

    get_rQ: function () {
        return this._rQ;
    },

    get_rQi: function () {
        return this._rQi;
    },

    set_rQi: function (val) {
        this._rQi = val;
    },

    // Receive Queue
    rQlen: function () {
        return this._rQlen - this._rQi;
    },

    rQpeek8: function () {
        return this._rQ[this._rQi];
    },

    rQshift8: function () {
        return this._rQ[this._rQi++];
    },

    rQskip8: function () {
        this._rQi++;
    },

    rQskipBytes: function (num) {
        this._rQi += num;
    },

    // TODO(directxman12): test performance with these vs a DataView
    rQshift16: function () {
        return (this._rQ[this._rQi++] << 8) +
               this._rQ[this._rQi++];
    },

    rQshift32: function () {
        return (this._rQ[this._rQi++] << 24) +
               (this._rQ[this._rQi++] << 16) +
               (this._rQ[this._rQi++] << 8) +
               this._rQ[this._rQi++];
    },

    rQshiftStr: function (len) {
        if (typeof(len) === 'undefined') { len = this.rQlen(); }
        var arr = new Uint8Array(this._rQ.buffer, this._rQi, len);
        this._rQi += len;
        return typedArrayToString(arr);
    },

    rQshiftBytes: function (len) {
        if (typeof(len) === 'undefined') { len = this.rQlen(); }
        this._rQi += len;
        return new Uint8Array(this._rQ.buffer, this._rQi - len, len);
    },

    rQshiftTo: function (target, len) {
        if (len === undefined) { len = this.rQlen(); }
        // TODO: make this just use set with views when using a ArrayBuffer to store the rQ
        target.set(new Uint8Array(this._rQ.buffer, this._rQi, len));
        this._rQi += len;
    },

    rQwhole: function () {
        return new Uint8Array(this._rQ.buffer, 0, this._rQlen);
    },

    rQslice: function (start, end) {
        if (end) {
            return new Uint8Array(this._rQ.buffer, this._rQi + start, end - start);
        } else {
            return new Uint8Array(this._rQ.buffer, this._rQi + start, this._rQlen - this._rQi - start);
        }
    },

    // Check to see if we must wait for 'num' bytes (default to FBU.bytes)
    // to be available in the receive queue. Return true if we need to
    // wait (and possibly print a debug message), otherwise false.
    rQwait: function (msg, num, goback) {
        var rQlen = this._rQlen - this._rQi; // Skip rQlen() function call
        if (rQlen < num) {
            if (goback) {
                if (this._rQi < goback) {
                    throw new Error("rQwait cannot backup " + goback + " bytes");
                }
                this._rQi -= goback;
            }
            return true; // true means need more data
        }
        return false;
    },

    // Send Queue

    flush: function () {
        if (this._sQlen > 0 && this._websocket.readyState === WebSocket.OPEN) {
            this._websocket.send(this._encode_message());
            this._sQlen = 0;
        }
    },

    send: function (arr) {
        this._sQ.set(arr, this._sQlen);
        this._sQlen += arr.length;
        this.flush();
    },

    send_string: function (str) {
        this.send(str.split('').map(function (chr) {
            return chr.charCodeAt(0);
        }));
    },

    // Event Handlers
    off: function (evt) {
        this._eventHandlers[evt] = function () {};
    },

    on: function (evt, handler) {
        this._eventHandlers[evt] = handler;
    },

    _allocate_buffers: function () {
        this._rQ = new Uint8Array(this._rQbufferSize);
        this._sQ = new Uint8Array(this._sQbufferSize);
    },

    init: function () {
        this._allocate_buffers();
        this._rQi = 0;
        this._websocket = null;
    },

    open: function (uri, protocols) {
        var ws_schema = uri.match(/^([a-z]+):\/\//)[1];
        this.init();

        this._websocket = new WebSocket(uri, protocols);
        this._websocket.binaryType = 'arraybuffer';

        this._websocket.onmessage = this._recv_message.bind(this);
        this._websocket.onopen = (function () {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]('>> WebSock.onopen');
            if (this._websocket.protocol) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Server choose sub-protocol: " + this._websocket.protocol);
            }

            this._eventHandlers.open();
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onopen");
        }).bind(this);
        this._websocket.onclose = (function (e) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onclose");
            this._eventHandlers.close(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onclose");
        }).bind(this);
        this._websocket.onerror = (function (e) {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"](">> WebSock.onerror: " + e);
            this._eventHandlers.error(e);
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("<< WebSock.onerror: " + e);
        }).bind(this);
    },

    close: function () {
        if (this._websocket) {
            if ((this._websocket.readyState === WebSocket.OPEN) ||
                    (this._websocket.readyState === WebSocket.CONNECTING)) {
                _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Info"]("Closing WebSocket connection");
                this._websocket.close();
            }

            this._websocket.onmessage = function (e) { return; };
        }
    },

    // private methods
    _encode_message: function () {
        // Put in a binary arraybuffer
        // according to the spec, you can send ArrayBufferViews with the send method
        return new Uint8Array(this._sQ.buffer, 0, this._sQlen);
    },

    _expand_compact_rQ: function (min_fit) {
        var resizeNeeded = min_fit || this._rQlen - this._rQi > this._rQbufferSize / 2;
        if (resizeNeeded) {
            if (!min_fit) {
                // just double the size if we need to do compaction
                this._rQbufferSize *= 2;
            } else {
                // otherwise, make sure we satisy rQlen - rQi + min_fit < rQbufferSize / 8
                this._rQbufferSize = (this._rQlen - this._rQi + min_fit) * 8;
            }
        }

        // we don't want to grow unboundedly
        if (this._rQbufferSize > MAX_RQ_GROW_SIZE) {
            this._rQbufferSize = MAX_RQ_GROW_SIZE;
            if (this._rQbufferSize - this._rQlen - this._rQi < min_fit) {
                throw new Exception("Receive Queue buffer exceeded " + MAX_RQ_GROW_SIZE + " bytes, and the new message could not fit");
            }
        }

        if (resizeNeeded) {
            var old_rQbuffer = this._rQ.buffer;
            this._rQmax = this._rQbufferSize / 8;
            this._rQ = new Uint8Array(this._rQbufferSize);
            this._rQ.set(new Uint8Array(old_rQbuffer, this._rQi));
        } else {
            if (ENABLE_COPYWITHIN) {
                this._rQ.copyWithin(0, this._rQi);
            } else {
                this._rQ.set(new Uint8Array(this._rQ.buffer, this._rQi));
            }
        }

        this._rQlen = this._rQlen - this._rQi;
        this._rQi = 0;
    },

    _decode_message: function (data) {
        // push arraybuffer values onto the end
        var u8 = new Uint8Array(data);
        if (u8.length > this._rQbufferSize - this._rQlen) {
            this._expand_compact_rQ(u8.length);
        }
        this._rQ.set(u8, this._rQlen);
        this._rQlen += u8.length;
    },

    _recv_message: function (e) {
        this._decode_message(e.data);
        if (this.rQlen() > 0) {
            this._eventHandlers.message();
            // Compact the receive queue
            if (this._rQlen == this._rQi) {
                this._rQlen = 0;
                this._rQi = 0;
            } else if (this._rQlen > this._rQmax) {
                this._expand_compact_rQ();
            }
        } else {
            _util_logging_js__WEBPACK_IMPORTED_MODULE_0__["Debug"]("Ignoring empty message");
        }
    }
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js ***!
  \*******************************************************************/
/*! exports provided: shrinkBuf, arraySet, flattenChunks, Buf8, Buf16, Buf32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shrinkBuf", function() { return shrinkBuf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arraySet", function() { return arraySet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenChunks", function() { return flattenChunks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf8", function() { return Buf8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf16", function() { return Buf16; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buf32", function() { return Buf32; });
// reduce buffer size, avoiding mem copy
function shrinkBuf (buf, size) {
  if (buf.length === size) { return buf; }
  if (buf.subarray) { return buf.subarray(0, size); }
  buf.length = size;
  return buf;
};


function arraySet (dest, src, src_offs, len, dest_offs) {
  if (src.subarray && dest.subarray) {
    dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
    return;
  }
  // Fallback to ordinary array
  for (var i = 0; i < len; i++) {
    dest[dest_offs + i] = src[src_offs + i];
  }
}

// Join array of chunks to single array.
function flattenChunks (chunks) {
  var i, l, len, pos, chunk, result;

  // calculate data length
  len = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    len += chunks[i].length;
  }

  // join chunks
  result = new Uint8Array(len);
  pos = 0;
  for (i = 0, l = chunks.length; i < l; i++) {
    chunk = chunks[i];
    result.set(chunk, pos);
    pos += chunk.length;
  }

  return result;
}

var Buf8  = Uint8Array;
var Buf16 = Uint16Array;
var Buf32 = Int32Array;


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return adler32; });
// Note: adler32 takes 12% for level 0 and 2% for level 6.
// It doesn't worth to make additional optimizationa as in original.
// Small size is preferable.

function adler32(adler, buf, len, pos) {
  var s1 = (adler & 0xffff) |0,
      s2 = ((adler >>> 16) & 0xffff) |0,
      n = 0;

  while (len !== 0) {
    // Set limit ~ twice less than 5552, to keep
    // s2 in 31-bits, because we force signed ints.
    // in other case %= will fail.
    n = len > 2000 ? 2000 : len;
    len -= n;

    do {
      s1 = (s1 + buf[pos++]) |0;
      s2 = (s2 + s1) |0;
    } while (--n);

    s1 %= 65521;
    s2 %= 65521;
  }

  return (s1 | (s2 << 16)) |0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return makeTable; });
// Note: we can't get significant speed boost here.
// So write code to minimize size - no pregenerated tables
// and array tools dependencies.


// Use ordinary array, since untyped makes no boost here
function makeTable() {
  var c, table = [];

  for (var n = 0; n < 256; n++) {
    c = n;
    for (var k = 0; k < 8; k++) {
      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));
    }
    table[n] = c;
  }

  return table;
}

// Create table on load. Just 255 signed longs. Not a problem.
var crcTable = makeTable();


function crc32(crc, buf, len, pos) {
  var t = crcTable,
      end = pos + len;

  crc ^= -1;

  for (var i = pos; i < end; i++) {
    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];
  }

  return (crc ^ (-1)); // >>> 0;
}


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_fast; });
// See state defs from inflate.js
var BAD = 30;       /* got a data error -- remain here until reset */
var TYPE = 12;      /* i: waiting for type bits, including last-flag bit */

/*
   Decode literal, length, and distance codes and write out the resulting
   literal and match bytes until either not enough input or output is
   available, an end-of-block is encountered, or a data error is encountered.
   When large enough input and output buffers are supplied to inflate(), for
   example, a 16K input buffer and a 64K output buffer, more than 95% of the
   inflate execution time is spent in this routine.

   Entry assumptions:

        state.mode === LEN
        strm.avail_in >= 6
        strm.avail_out >= 258
        start >= strm.avail_out
        state.bits < 8

   On return, state.mode is one of:

        LEN -- ran out of enough output space or enough available input
        TYPE -- reached end of block code, inflate() to interpret next block
        BAD -- error in block data

   Notes:

    - The maximum input bits used by a length/distance pair is 15 bits for the
      length code, 5 bits for the length extra, 15 bits for the distance code,
      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.
      Therefore if strm.avail_in >= 6, then there is enough input to avoid
      checking for available input while decoding.

    - The maximum bytes that a single length/distance pair can output is 258
      bytes, which is the maximum length that can be coded.  inflate_fast()
      requires strm.avail_out >= 258 for each loop to avoid checking for
      output space.
 */
function inflate_fast(strm, start) {
  var state;
  var _in;                    /* local strm.input */
  var last;                   /* have enough input while in < last */
  var _out;                   /* local strm.output */
  var beg;                    /* inflate()'s initial strm.output */
  var end;                    /* while out < end, enough space available */
//#ifdef INFLATE_STRICT
  var dmax;                   /* maximum distance from zlib header */
//#endif
  var wsize;                  /* window size or zero if not using window */
  var whave;                  /* valid bytes in the window */
  var wnext;                  /* window write index */
  // Use `s_window` instead `window`, avoid conflict with instrumentation tools
  var s_window;               /* allocated sliding window, if wsize != 0 */
  var hold;                   /* local strm.hold */
  var bits;                   /* local strm.bits */
  var lcode;                  /* local strm.lencode */
  var dcode;                  /* local strm.distcode */
  var lmask;                  /* mask for first level of length codes */
  var dmask;                  /* mask for first level of distance codes */
  var here;                   /* retrieved table entry */
  var op;                     /* code bits, operation, extra bits, or */
                              /*  window position, window bytes to copy */
  var len;                    /* match length, unused bytes */
  var dist;                   /* match distance */
  var from;                   /* where to copy match from */
  var from_source;


  var input, output; // JS specific, because we have no pointers

  /* copy state to local variables */
  state = strm.state;
  //here = state.here;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
//#ifdef INFLATE_STRICT
  dmax = state.dmax;
//#endif
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  s_window = state.window;
  hold = state.hold;
  bits = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;


  /* decode literals and length/distances until end-of-block or not enough
     input data or output space */

  top:
  do {
    if (bits < 15) {
      hold += input[_in++] << bits;
      bits += 8;
      hold += input[_in++] << bits;
      bits += 8;
    }

    here = lcode[hold & lmask];

    dolen:
    for (;;) { // Goto emulation
      op = here >>> 24/*here.bits*/;
      hold >>>= op;
      bits -= op;
      op = (here >>> 16) & 0xff/*here.op*/;
      if (op === 0) {                          /* literal */
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        output[_out++] = here & 0xffff/*here.val*/;
      }
      else if (op & 16) {                     /* length base */
        len = here & 0xffff/*here.val*/;
        op &= 15;                           /* number of extra bits */
        if (op) {
          if (bits < op) {
            hold += input[_in++] << bits;
            bits += 8;
          }
          len += hold & ((1 << op) - 1);
          hold >>>= op;
          bits -= op;
        }
        //Tracevv((stderr, "inflate:         length %u\n", len));
        if (bits < 15) {
          hold += input[_in++] << bits;
          bits += 8;
          hold += input[_in++] << bits;
          bits += 8;
        }
        here = dcode[hold & dmask];

        dodist:
        for (;;) { // goto emulation
          op = here >>> 24/*here.bits*/;
          hold >>>= op;
          bits -= op;
          op = (here >>> 16) & 0xff/*here.op*/;

          if (op & 16) {                      /* distance base */
            dist = here & 0xffff/*here.val*/;
            op &= 15;                       /* number of extra bits */
            if (bits < op) {
              hold += input[_in++] << bits;
              bits += 8;
              if (bits < op) {
                hold += input[_in++] << bits;
                bits += 8;
              }
            }
            dist += hold & ((1 << op) - 1);
//#ifdef INFLATE_STRICT
            if (dist > dmax) {
              strm.msg = 'invalid distance too far back';
              state.mode = BAD;
              break top;
            }
//#endif
            hold >>>= op;
            bits -= op;
            //Tracevv((stderr, "inflate:         distance %u\n", dist));
            op = _out - beg;                /* max distance in output */
            if (dist > op) {                /* see if copy from window */
              op = dist - op;               /* distance back in window */
              if (op > whave) {
                if (state.sane) {
                  strm.msg = 'invalid distance too far back';
                  state.mode = BAD;
                  break top;
                }

// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//                if (len <= op - whave) {
//                  do {
//                    output[_out++] = 0;
//                  } while (--len);
//                  continue top;
//                }
//                len -= op - whave;
//                do {
//                  output[_out++] = 0;
//                } while (--op > whave);
//                if (op === 0) {
//                  from = _out - dist;
//                  do {
//                    output[_out++] = output[from++];
//                  } while (--len);
//                  continue top;
//                }
//#endif
              }
              from = 0; // window index
              from_source = s_window;
              if (wnext === 0) {           /* very common case */
                from += wsize - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              else if (wnext < op) {      /* wrap around window */
                from += wsize + wnext - op;
                op -= wnext;
                if (op < len) {         /* some from end of window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = 0;
                  if (wnext < len) {  /* some from start of window */
                    op = wnext;
                    len -= op;
                    do {
                      output[_out++] = s_window[from++];
                    } while (--op);
                    from = _out - dist;      /* rest from output */
                    from_source = output;
                  }
                }
              }
              else {                      /* contiguous in window */
                from += wnext - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = s_window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              while (len > 2) {
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                len -= 3;
              }
              if (len) {
                output[_out++] = from_source[from++];
                if (len > 1) {
                  output[_out++] = from_source[from++];
                }
              }
            }
            else {
              from = _out - dist;          /* copy direct from output */
              do {                        /* minimum length is three */
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                len -= 3;
              } while (len > 2);
              if (len) {
                output[_out++] = output[from++];
                if (len > 1) {
                  output[_out++] = output[from++];
                }
              }
            }
          }
          else if ((op & 64) === 0) {          /* 2nd level distance code */
            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
            continue dodist;
          }
          else {
            strm.msg = 'invalid distance code';
            state.mode = BAD;
            break top;
          }

          break; // need to emulate goto via "continue"
        }
      }
      else if ((op & 64) === 0) {              /* 2nd level length code */
        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
        continue dolen;
      }
      else if (op & 32) {                     /* end-of-block */
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.mode = TYPE;
        break top;
      }
      else {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break top;
      }

      break; // need to emulate goto via "continue"
    }
  } while (_in < last && _out < end);

  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */
  len = bits >> 3;
  _in -= len;
  bits -= len << 3;
  hold &= (1 << bits) - 1;

  /* update state and return */
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));
  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));
  state.hold = hold;
  state.bits = bits;
  return;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inflate.js ***!
  \*******************************************************************/
/*! exports provided: inflateReset, inflateReset2, inflateResetKeep, inflateInit, inflateInit2, inflate, inflateEnd, inflateGetHeader, inflateSetDictionary, inflateInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset", function() { return inflateReset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateReset2", function() { return inflateReset2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateResetKeep", function() { return inflateResetKeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit", function() { return inflateInit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInit2", function() { return inflateInit2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflate", function() { return inflate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateEnd", function() { return inflateEnd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateGetHeader", function() { return inflateGetHeader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateSetDictionary", function() { return inflateSetDictionary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inflateInfo", function() { return inflateInfo; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");
/* harmony import */ var _adler32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adler32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/adler32.js");
/* harmony import */ var _crc32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crc32.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/crc32.js");
/* harmony import */ var _inffast_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inffast.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inffast.js");
/* harmony import */ var _inftrees_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inftrees.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js");






var CODES = 0;
var LENS = 1;
var DISTS = 2;

/* Public constants ==========================================================*/
/* ===========================================================================*/


/* Allowed flush values; see deflate() and inflate() below for details */
//var Z_NO_FLUSH      = 0;
//var Z_PARTIAL_FLUSH = 1;
//var Z_SYNC_FLUSH    = 2;
//var Z_FULL_FLUSH    = 3;
var Z_FINISH        = 4;
var Z_BLOCK         = 5;
var Z_TREES         = 6;


/* Return codes for the compression/decompression functions. Negative values
 * are errors, positive values are used for special but normal events.
 */
var Z_OK            = 0;
var Z_STREAM_END    = 1;
var Z_NEED_DICT     = 2;
//var Z_ERRNO         = -1;
var Z_STREAM_ERROR  = -2;
var Z_DATA_ERROR    = -3;
var Z_MEM_ERROR     = -4;
var Z_BUF_ERROR     = -5;
//var Z_VERSION_ERROR = -6;

/* The deflate compression method */
var Z_DEFLATED  = 8;


/* STATES ====================================================================*/
/* ===========================================================================*/


var    HEAD = 1;       /* i: waiting for magic header */
var    FLAGS = 2;      /* i: waiting for method and flags (gzip) */
var    TIME = 3;       /* i: waiting for modification time (gzip) */
var    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */
var    EXLEN = 5;      /* i: waiting for extra length (gzip) */
var    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */
var    NAME = 7;       /* i: waiting for end of file name (gzip) */
var    COMMENT = 8;    /* i: waiting for end of comment (gzip) */
var    HCRC = 9;       /* i: waiting for header crc (gzip) */
var    DICTID = 10;    /* i: waiting for dictionary check value */
var    DICT = 11;      /* waiting for inflateSetDictionary() call */
var        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */
var        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */
var        STORED = 14;    /* i: waiting for stored size (length and complement) */
var        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */
var        COPY = 16;      /* i/o: waiting for input or output to copy stored block */
var        TABLE = 17;     /* i: waiting for dynamic block table lengths */
var        LENLENS = 18;   /* i: waiting for code length code lengths */
var        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */
var            LEN_ = 20;      /* i: same as LEN below, but only first time in */
var            LEN = 21;       /* i: waiting for length/lit/eob code */
var            LENEXT = 22;    /* i: waiting for length extra bits */
var            DIST = 23;      /* i: waiting for distance code */
var            DISTEXT = 24;   /* i: waiting for distance extra bits */
var            MATCH = 25;     /* o: waiting for output space to copy string */
var            LIT = 26;       /* o: waiting for output space to write literal */
var    CHECK = 27;     /* i: waiting for 32-bit check value */
var    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */
var    DONE = 29;      /* finished check, done -- remain here until reset */
var    BAD = 30;       /* got a data error -- remain here until reset */
var    MEM = 31;       /* got an inflate() memory error -- remain here until reset */
var    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */

/* ===========================================================================*/



var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);

var MAX_WBITS = 15;
/* 32K LZ77 window */
var DEF_WBITS = MAX_WBITS;


function zswap32(q) {
  return  (((q >>> 24) & 0xff) +
          ((q >>> 8) & 0xff00) +
          ((q & 0xff00) << 8) +
          ((q & 0xff) << 24));
}


function InflateState() {
  this.mode = 0;             /* current inflate mode */
  this.last = false;          /* true if processing last block */
  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */
  this.havedict = false;      /* true if dictionary provided */
  this.flags = 0;             /* gzip header method and flags (0 if zlib) */
  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */
  this.check = 0;             /* protected copy of check value */
  this.total = 0;             /* protected copy of output count */
  // TODO: may be {}
  this.head = null;           /* where to save gzip header information */

  /* sliding window */
  this.wbits = 0;             /* log base 2 of requested window size */
  this.wsize = 0;             /* window size or zero if not using window */
  this.whave = 0;             /* valid bytes in the window */
  this.wnext = 0;             /* window write index */
  this.window = null;         /* allocated sliding window, if needed */

  /* bit accumulator */
  this.hold = 0;              /* input bit accumulator */
  this.bits = 0;              /* number of bits in "in" */

  /* for string and stored block copying */
  this.length = 0;            /* literal or length of data to copy */
  this.offset = 0;            /* distance back to copy string from */

  /* for table and code decoding */
  this.extra = 0;             /* extra bits needed */

  /* fixed and dynamic code tables */
  this.lencode = null;          /* starting table for length/literal codes */
  this.distcode = null;         /* starting table for distance codes */
  this.lenbits = 0;           /* index bits for lencode */
  this.distbits = 0;          /* index bits for distcode */

  /* dynamic table building */
  this.ncode = 0;             /* number of code length code lengths */
  this.nlen = 0;              /* number of length code lengths */
  this.ndist = 0;             /* number of distance code lengths */
  this.have = 0;              /* number of code lengths in lens[] */
  this.next = null;              /* next available space in codes[] */

  this.lens = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](320); /* temporary storage for code lengths */
  this.work = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](288); /* work area for code table building */

  /*
   because we don't have pointers in js, we use lencode and distcode directly
   as buffers so we don't need codes
  */
  //this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */
  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */
  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */
  this.sane = 0;                   /* if false, allow invalid distance too far */
  this.back = 0;                   /* bits back of last unprocessed length/lit */
  this.was = 0;                    /* initial length of match */
}

function inflateResetKeep(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = ''; /*Z_NULL*/
  if (state.wrap) {       /* to support ill-conceived Java test suite */
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.dmax = 32768;
  state.head = null/*Z_NULL*/;
  state.hold = 0;
  state.bits = 0;
  //state.lencode = state.distcode = state.next = state.codes;
  state.lencode = state.lendyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_LENS);
  state.distcode = state.distdyn = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](ENOUGH_DISTS);

  state.sane = 1;
  state.back = -1;
  //Tracev((stderr, "inflate: reset\n"));
  return Z_OK;
}

function inflateReset(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);

}

function inflateReset2(strm, windowBits) {
  var wrap;
  var state;

  /* get the state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;

  /* extract wrap request from windowBits parameter */
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  }
  else {
    wrap = (windowBits >> 4) + 1;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }

  /* set number of window bits, free window if different */
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }

  /* update state and reset the rest of it */
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
}

function inflateInit2(strm, windowBits) {
  var ret;
  var state;

  if (!strm) { return Z_STREAM_ERROR; }
  //strm.msg = Z_NULL;                 /* in case we return an error */

  state = new InflateState();

  //if (state === Z_NULL) return Z_MEM_ERROR;
  //Tracev((stderr, "inflate: allocated\n"));
  strm.state = state;
  state.window = null/*Z_NULL*/;
  ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK) {
    strm.state = null/*Z_NULL*/;
  }
  return ret;
}

function inflateInit(strm) {
  return inflateInit2(strm, DEF_WBITS);
}


/*
 Return state with length and distance decoding tables and index sizes set to
 fixed code decoding.  Normally this returns fixed tables from inffixed.h.
 If BUILDFIXED is defined, then instead this routine builds the tables the
 first time it's called, and returns those tables the first time and
 thereafter.  This reduces the size of the code by about 2K bytes, in
 exchange for a little execution time.  However, BUILDFIXED should not be
 used for threaded applications, since the rewriting of the tables and virgin
 may not be thread-safe.
 */
var virgin = true;

var lenfix, distfix; // We have no pointers in JS, so keep tables separate

function fixedtables(state) {
  /* build fixed huffman tables if first call (may not be thread safe) */
  if (virgin) {
    var sym;

    lenfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](512);
    distfix = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf32"](32);

    /* literal/length table */
    sym = 0;
    while (sym < 144) { state.lens[sym++] = 8; }
    while (sym < 256) { state.lens[sym++] = 9; }
    while (sym < 280) { state.lens[sym++] = 7; }
    while (sym < 288) { state.lens[sym++] = 8; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });

    /* distance table */
    sym = 0;
    while (sym < 32) { state.lens[sym++] = 5; }

    Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });

    /* do this just once */
    virgin = false;
  }

  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
}


/*
 Update the window with the last wsize (normally 32K) bytes written before
 returning.  If window does not exist yet, create it.  This is only called
 when a window is already in use, or when output has been written during this
 inflate call, but the end of the deflate stream has not been reached yet.
 It is also called to create a window for dictionary data when a dictionary
 is loaded.

 Providing output buffers larger than 32K to inflate() should provide a speed
 advantage, since only the last 32K of output is copied to the sliding window
 upon return from inflate(), and since all distances after the first 32K of
 output will fall in the output data, making match copies simpler and faster.
 The advantage may be dependent on the size of the processor's data caches.
 */
function updatewindow(strm, src, end, copy) {
  var dist;
  var state = strm.state;

  /* if it hasn't been done already, allocate space for the window */
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;

    state.window = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](state.wsize);
  }

  /* copy state->wsize or less output bytes into the circular window */
  if (copy >= state.wsize) {
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - state.wsize, state.wsize, 0);
    state.wnext = 0;
    state.whave = state.wsize;
  }
  else {
    dist = state.wsize - state.wnext;
    if (dist > copy) {
      dist = copy;
    }
    //zmemcpy(state->window + state->wnext, end - copy, dist);
    _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, dist, state.wnext);
    copy -= dist;
    if (copy) {
      //zmemcpy(state->window, end - copy, copy);
      _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](state.window, src, end - copy, copy, 0);
      state.wnext = copy;
      state.whave = state.wsize;
    }
    else {
      state.wnext += dist;
      if (state.wnext === state.wsize) { state.wnext = 0; }
      if (state.whave < state.wsize) { state.whave += dist; }
    }
  }
  return 0;
}

function inflate(strm, flush) {
  var state;
  var input, output;          // input/output buffers
  var next;                   /* next input INDEX */
  var put;                    /* next output INDEX */
  var have, left;             /* available input and output */
  var hold;                   /* bit buffer */
  var bits;                   /* bits in bit buffer */
  var _in, _out;              /* save starting available input and output */
  var copy;                   /* number of stored or match bytes to copy */
  var from;                   /* where to copy match bytes from */
  var from_source;
  var here = 0;               /* current decoding table entry */
  var here_bits, here_op, here_val; // paked "here" denormalized (JS specific)
  //var last;                   /* parent table entry */
  var last_bits, last_op, last_val; // paked "last" denormalized (JS specific)
  var len;                    /* length to copy for repeats, bits to drop */
  var ret;                    /* return code */
  var hbuf = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf8"](4);    /* buffer for gzip header crc calculation */
  var opts;

  var n; // temporary var for NEED_BITS

  var order = /* permutation of code lengths */
    [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];


  if (!strm || !strm.state || !strm.output ||
      (!strm.input && strm.avail_in !== 0)) {
    return Z_STREAM_ERROR;
  }

  state = strm.state;
  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */


  //--- LOAD() ---
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits = state.bits;
  //---

  _in = have;
  _out = left;
  ret = Z_OK;

  inf_leave: // goto emulation
  for (;;) {
    switch (state.mode) {
    case HEAD:
      if (state.wrap === 0) {
        state.mode = TYPEDO;
        break;
      }
      //=== NEEDBITS(16);
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */
        state.check = 0/*crc32(0L, Z_NULL, 0)*/;
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//

        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        state.mode = FLAGS;
        break;
      }
      state.flags = 0;           /* expect zlib header */
      if (state.head) {
        state.head.done = false;
      }
      if (!(state.wrap & 1) ||   /* check if zlib header allowed */
        (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {
        strm.msg = 'incorrect header check';
        state.mode = BAD;
        break;
      }
      if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
      len = (hold & 0x0f)/*BITS(4)*/ + 8;
      if (state.wbits === 0) {
        state.wbits = len;
      }
      else if (len > state.wbits) {
        strm.msg = 'invalid window size';
        state.mode = BAD;
        break;
      }
      state.dmax = 1 << len;
      //Tracev((stderr, "inflate:   zlib header ok\n"));
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = hold & 0x200 ? DICTID : TYPE;
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      break;
    case FLAGS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.flags = hold;
      if ((state.flags & 0xff) !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      if (state.flags & 0xe000) {
        strm.msg = 'unknown header flags set';
        state.mode = BAD;
        break;
      }
      if (state.head) {
        state.head.text = ((hold >> 8) & 1);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = TIME;
      /* falls through */
    case TIME:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.time = hold;
      }
      if (state.flags & 0x0200) {
        //=== CRC4(state.check, hold)
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        hbuf[2] = (hold >>> 16) & 0xff;
        hbuf[3] = (hold >>> 24) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 4, 0);
        //===
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = OS;
      /* falls through */
    case OS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.xflags = (hold & 0xff);
        state.head.os = (hold >> 8);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = EXLEN;
      /* falls through */
    case EXLEN:
      if (state.flags & 0x0400) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length = hold;
        if (state.head) {
          state.head.extra_len = hold;
        }
        if (state.flags & 0x0200) {
          //=== CRC2(state.check, hold);
          hbuf[0] = hold & 0xff;
          hbuf[1] = (hold >>> 8) & 0xff;
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, hbuf, 2, 0);
          //===//
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      else if (state.head) {
        state.head.extra = null/*Z_NULL*/;
      }
      state.mode = EXTRA;
      /* falls through */
    case EXTRA:
      if (state.flags & 0x0400) {
        copy = state.length;
        if (copy > have) { copy = have; }
        if (copy) {
          if (state.head) {
            len = state.head.extra_len - state.length;
            if (!state.head.extra) {
              // Use untyped array for more conveniend processing later
              state.head.extra = new Array(state.head.extra_len);
            }
            _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](
              state.head.extra,
              input,
              next,
              // extra field is limited to 65536 bytes
              // - no need for additional size check
              copy,
              /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
              len
            );
            //zmemcpy(state.head.extra + len, next,
            //        len + copy > state.head.extra_max ?
            //        state.head.extra_max - len : copy);
          }
          if (state.flags & 0x0200) {
            state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
          }
          have -= copy;
          next += copy;
          state.length -= copy;
        }
        if (state.length) { break inf_leave; }
      }
      state.length = 0;
      state.mode = NAME;
      /* falls through */
    case NAME:
      if (state.flags & 0x0800) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          // TODO: 2 or 1 bytes?
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.name_max*/)) {
            state.head.name += String.fromCharCode(len);
          }
        } while (len && copy < have);

        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.name = null;
      }
      state.length = 0;
      state.mode = COMMENT;
      /* falls through */
    case COMMENT:
      if (state.flags & 0x1000) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.comm_max*/)) {
            state.head.comment += String.fromCharCode(len);
          }
        } while (len && copy < have);
        if (state.flags & 0x0200) {
          state.check = Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.comment = null;
      }
      state.mode = HCRC;
      /* falls through */
    case HCRC:
      if (state.flags & 0x0200) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.check & 0xffff)) {
          strm.msg = 'header crc mismatch';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      if (state.head) {
        state.head.hcrc = ((state.flags >> 9) & 1);
        state.head.done = true;
      }
      strm.adler = state.check = 0;
      state.mode = TYPE;
      break;
    case DICTID:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      strm.adler = state.check = zswap32(hold);
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = DICT;
      /* falls through */
    case DICT:
      if (state.havedict === 0) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        return Z_NEED_DICT;
      }
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = TYPE;
      /* falls through */
    case TYPE:
      if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case TYPEDO:
      if (state.last) {
        //--- BYTEBITS() ---//
        hold >>>= bits & 7;
        bits -= bits & 7;
        //---//
        state.mode = CHECK;
        break;
      }
      //=== NEEDBITS(3); */
      while (bits < 3) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.last = (hold & 0x01)/*BITS(1)*/;
      //--- DROPBITS(1) ---//
      hold >>>= 1;
      bits -= 1;
      //---//

      switch ((hold & 0x03)/*BITS(2)*/) {
      case 0:                             /* stored block */
        //Tracev((stderr, "inflate:     stored block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = STORED;
        break;
      case 1:                             /* fixed block */
        fixedtables(state);
        //Tracev((stderr, "inflate:     fixed codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = LEN_;             /* decode codes */
        if (flush === Z_TREES) {
          //--- DROPBITS(2) ---//
          hold >>>= 2;
          bits -= 2;
          //---//
          break inf_leave;
        }
        break;
      case 2:                             /* dynamic block */
        //Tracev((stderr, "inflate:     dynamic codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = TABLE;
        break;
      case 3:
        strm.msg = 'invalid block type';
        state.mode = BAD;
      }
      //--- DROPBITS(2) ---//
      hold >>>= 2;
      bits -= 2;
      //---//
      break;
    case STORED:
      //--- BYTEBITS() ---// /* go to byte boundary */
      hold >>>= bits & 7;
      bits -= bits & 7;
      //---//
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {
        strm.msg = 'invalid stored block lengths';
        state.mode = BAD;
        break;
      }
      state.length = hold & 0xffff;
      //Tracev((stderr, "inflate:       stored length %u\n",
      //        state.length));
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = COPY_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case COPY_:
      state.mode = COPY;
      /* falls through */
    case COPY:
      copy = state.length;
      if (copy) {
        if (copy > have) { copy = have; }
        if (copy > left) { copy = left; }
        if (copy === 0) { break inf_leave; }
        //--- zmemcpy(put, next, copy); ---
        _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["arraySet"](output, input, next, copy, put);
        //---//
        have -= copy;
        next += copy;
        left -= copy;
        put += copy;
        state.length -= copy;
        break;
      }
      //Tracev((stderr, "inflate:       stored end\n"));
      state.mode = TYPE;
      break;
    case TABLE:
      //=== NEEDBITS(14); */
      while (bits < 14) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
//#ifndef PKZIP_BUG_WORKAROUND
      if (state.nlen > 286 || state.ndist > 30) {
        strm.msg = 'too many length or distance symbols';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracev((stderr, "inflate:       table sizes ok\n"));
      state.have = 0;
      state.mode = LENLENS;
      /* falls through */
    case LENLENS:
      while (state.have < state.ncode) {
        //=== NEEDBITS(3);
        while (bits < 3) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);
        //--- DROPBITS(3) ---//
        hold >>>= 3;
        bits -= 3;
        //---//
      }
      while (state.have < 19) {
        state.lens[order[state.have++]] = 0;
      }
      // We have separate tables & no pointers. 2 commented lines below not needed.
      //state.next = state.codes;
      //state.lencode = state.next;
      // Switch to use dynamic table
      state.lencode = state.lendyn;
      state.lenbits = 7;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
      state.lenbits = opts.bits;

      if (ret) {
        strm.msg = 'invalid code lengths set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, "inflate:       code lengths ok\n"));
      state.have = 0;
      state.mode = CODELENS;
      /* falls through */
    case CODELENS:
      while (state.have < state.nlen + state.ndist) {
        for (;;) {
          here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        if (here_val < 16) {
          //--- DROPBITS(here.bits) ---//
          hold >>>= here_bits;
          bits -= here_bits;
          //---//
          state.lens[state.have++] = here_val;
        }
        else {
          if (here_val === 16) {
            //=== NEEDBITS(here.bits + 2);
            n = here_bits + 2;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            if (state.have === 0) {
              strm.msg = 'invalid bit length repeat';
              state.mode = BAD;
              break;
            }
            len = state.lens[state.have - 1];
            copy = 3 + (hold & 0x03);//BITS(2);
            //--- DROPBITS(2) ---//
            hold >>>= 2;
            bits -= 2;
            //---//
          }
          else if (here_val === 17) {
            //=== NEEDBITS(here.bits + 3);
            n = here_bits + 3;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 3 + (hold & 0x07);//BITS(3);
            //--- DROPBITS(3) ---//
            hold >>>= 3;
            bits -= 3;
            //---//
          }
          else {
            //=== NEEDBITS(here.bits + 7);
            n = here_bits + 7;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 11 + (hold & 0x7f);//BITS(7);
            //--- DROPBITS(7) ---//
            hold >>>= 7;
            bits -= 7;
            //---//
          }
          if (state.have + copy > state.nlen + state.ndist) {
            strm.msg = 'invalid bit length repeat';
            state.mode = BAD;
            break;
          }
          while (copy--) {
            state.lens[state.have++] = len;
          }
        }
      }

      /* handle error breaks in while */
      if (state.mode === BAD) { break; }

      /* check for end-of-block code (better have one) */
      if (state.lens[256] === 0) {
        strm.msg = 'invalid code -- missing end-of-block';
        state.mode = BAD;
        break;
      }

      /* build code tables -- note: do not change the lenbits or distbits
         values here (9 and 6) without reading the comments in inftrees.h
         concerning the ENOUGH constants, which depend on those values */
      state.lenbits = 9;

      opts = { bits: state.lenbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.lenbits = opts.bits;
      // state.lencode = state.next;

      if (ret) {
        strm.msg = 'invalid literal/lengths set';
        state.mode = BAD;
        break;
      }

      state.distbits = 6;
      //state.distcode.copy(state.codes);
      // Switch to use dynamic table
      state.distcode = state.distdyn;
      opts = { bits: state.distbits };
      ret = Object(_inftrees_js__WEBPACK_IMPORTED_MODULE_4__["default"])(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.distbits = opts.bits;
      // state.distcode = state.next;

      if (ret) {
        strm.msg = 'invalid distances set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, 'inflate:       codes ok\n'));
      state.mode = LEN_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case LEN_:
      state.mode = LEN;
      /* falls through */
    case LEN:
      if (have >= 6 && left >= 258) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        Object(_inffast_js__WEBPACK_IMPORTED_MODULE_3__["default"])(strm, _out);
        //--- LOAD() ---
        put = strm.next_out;
        output = strm.output;
        left = strm.avail_out;
        next = strm.next_in;
        input = strm.input;
        have = strm.avail_in;
        hold = state.hold;
        bits = state.bits;
        //---

        if (state.mode === TYPE) {
          state.back = -1;
        }
        break;
      }
      state.back = 0;
      for (;;) {
        here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if (here_bits <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if (here_op && (here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.lencode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      state.length = here_val;
      if (here_op === 0) {
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        state.mode = LIT;
        break;
      }
      if (here_op & 32) {
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.back = -1;
        state.mode = TYPE;
        break;
      }
      if (here_op & 64) {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break;
      }
      state.extra = here_op & 15;
      state.mode = LENEXT;
      /* falls through */
    case LENEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
      //Tracevv((stderr, "inflate:         length %u\n", state.length));
      state.was = state.length;
      state.mode = DIST;
      /* falls through */
    case DIST:
      for (;;) {
        here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if ((here_bits) <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if ((here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.distcode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      if (here_op & 64) {
        strm.msg = 'invalid distance code';
        state.mode = BAD;
        break;
      }
      state.offset = here_val;
      state.extra = (here_op) & 15;
      state.mode = DISTEXT;
      /* falls through */
    case DISTEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
//#ifdef INFLATE_STRICT
      if (state.offset > state.dmax) {
        strm.msg = 'invalid distance too far back';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracevv((stderr, "inflate:         distance %u\n", state.offset));
      state.mode = MATCH;
      /* falls through */
    case MATCH:
      if (left === 0) { break inf_leave; }
      copy = _out - left;
      if (state.offset > copy) {         /* copy from window */
        copy = state.offset - copy;
        if (copy > state.whave) {
          if (state.sane) {
            strm.msg = 'invalid distance too far back';
            state.mode = BAD;
            break;
          }
// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//          Trace((stderr, "inflate.c too far\n"));
//          copy -= state.whave;
//          if (copy > state.length) { copy = state.length; }
//          if (copy > left) { copy = left; }
//          left -= copy;
//          state.length -= copy;
//          do {
//            output[put++] = 0;
//          } while (--copy);
//          if (state.length === 0) { state.mode = LEN; }
//          break;
//#endif
        }
        if (copy > state.wnext) {
          copy -= state.wnext;
          from = state.wsize - copy;
        }
        else {
          from = state.wnext - copy;
        }
        if (copy > state.length) { copy = state.length; }
        from_source = state.window;
      }
      else {                              /* copy from output */
        from_source = output;
        from = put - state.offset;
        copy = state.length;
      }
      if (copy > left) { copy = left; }
      left -= copy;
      state.length -= copy;
      do {
        output[put++] = from_source[from++];
      } while (--copy);
      if (state.length === 0) { state.mode = LEN; }
      break;
    case LIT:
      if (left === 0) { break inf_leave; }
      output[put++] = state.length;
      left--;
      state.mode = LEN;
      break;
    case CHECK:
      if (state.wrap) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          // Use '|' insdead of '+' to make sure that result is signed
          hold |= input[next++] << bits;
          bits += 8;
        }
        //===//
        _out -= left;
        strm.total_out += _out;
        state.total += _out;
        if (_out) {
          strm.adler = state.check =
              /*UPDATE(state.check, put - _out, _out);*/
              (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, put - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, put - _out));

        }
        _out = left;
        // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too
        if ((state.flags ? hold : zswap32(hold)) !== state.check) {
          strm.msg = 'incorrect data check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   check matches trailer\n"));
      }
      state.mode = LENGTH;
      /* falls through */
    case LENGTH:
      if (state.wrap && state.flags) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.total & 0xffffffff)) {
          strm.msg = 'incorrect length check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   length matches trailer\n"));
      }
      state.mode = DONE;
      /* falls through */
    case DONE:
      ret = Z_STREAM_END;
      break inf_leave;
    case BAD:
      ret = Z_DATA_ERROR;
      break inf_leave;
    case MEM:
      return Z_MEM_ERROR;
    case SYNC:
      /* falls through */
    default:
      return Z_STREAM_ERROR;
    }
  }

  // inf_leave <- here is real place for "goto inf_leave", emulated via "break inf_leave"

  /*
     Return from inflate(), updating the total counts and the check value.
     If there was no progress during the inflate() call, return a buffer
     error.  Call updatewindow() to create and/or update the window state.
     Note: a memory error from inflate() is non-recoverable.
   */

  //--- RESTORE() ---
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits;
  //---

  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&
                      (state.mode < CHECK || flush !== Z_FINISH))) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
      state.mode = MEM;
      return Z_MEM_ERROR;
    }
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap && _out) {
    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
      (state.flags ? Object(_crc32_js__WEBPACK_IMPORTED_MODULE_2__["default"])(state.check, output, _out, strm.next_out - _out) : Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(state.check, output, _out, strm.next_out - _out));
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) +
                    (state.mode === TYPE ? 128 : 0) +
                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {
    ret = Z_BUF_ERROR;
  }
  return ret;
}

function inflateEnd(strm) {

  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {
    return Z_STREAM_ERROR;
  }

  var state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK;
}

function inflateGetHeader(strm, head) {
  var state;

  /* check state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }

  /* save header structure */
  state.head = head;
  head.done = false;
  return Z_OK;
}

function inflateSetDictionary(strm, dictionary) {
  var dictLength = dictionary.length;

  var state;
  var dictid;
  var ret;

  /* check state */
  if (!strm /* == Z_NULL */ || !strm.state /* == Z_NULL */) { return Z_STREAM_ERROR; }
  state = strm.state;

  if (state.wrap !== 0 && state.mode !== DICT) {
    return Z_STREAM_ERROR;
  }

  /* check for correct dictionary identifier */
  if (state.mode === DICT) {
    dictid = 1; /* adler32(0, null, 0)*/
    /* dictid = adler32(dictid, dictionary, dictLength); */
    dictid = Object(_adler32_js__WEBPACK_IMPORTED_MODULE_1__["default"])(dictid, dictionary, dictLength, 0);
    if (dictid !== state.check) {
      return Z_DATA_ERROR;
    }
  }
  /* copy dictionary to window using updatewindow(), which will amend the
   existing dictionary if appropriate */
  ret = updatewindow(strm, dictionary, dictLength, dictLength);
  if (ret) {
    state.mode = MEM;
    return Z_MEM_ERROR;
  }
  state.havedict = 1;
  // Tracev((stderr, "inflate:   dictionary set\n"));
  return Z_OK;
}


var inflateInfo = 'pako inflate (from Nodeca project)';

/* Not implemented
exports.inflateCopy = inflateCopy;
exports.inflateGetDictionary = inflateGetDictionary;
exports.inflateMark = inflateMark;
exports.inflatePrime = inflatePrime;
exports.inflateSync = inflateSync;
exports.inflateSyncPoint = inflateSyncPoint;
exports.inflateUndermine = inflateUndermine;
*/


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js":
/*!********************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/inftrees.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return inflate_table; });
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common.js */ "./node_modules/@novnc/novnc/vendor/pako/lib/utils/common.js");


var MAXBITS = 15;
var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);

var CODES = 0;
var LENS = 1;
var DISTS = 2;

var lbase = [ /* Length codes 257..285 base */
  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,
  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
];

var lext = [ /* Length codes 257..285 extra */
  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,
  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78
];

var dbase = [ /* Distance codes 0..29 base */
  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
  8193, 12289, 16385, 24577, 0, 0
];

var dext = [ /* Distance codes 0..29 extra */
  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,
  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,
  28, 28, 29, 29, 64, 64
];

function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)
{
  var bits = opts.bits;
      //here = opts.here; /* table entry for duplication */

  var len = 0;               /* a code's length in bits */
  var sym = 0;               /* index of code symbols */
  var min = 0, max = 0;          /* minimum and maximum code lengths */
  var root = 0;              /* number of index bits for root table */
  var curr = 0;              /* number of index bits for current table */
  var drop = 0;              /* code bits to drop for sub-table */
  var left = 0;                   /* number of prefix codes available */
  var used = 0;              /* code entries in table used */
  var huff = 0;              /* Huffman code */
  var incr;              /* for incrementing code, index */
  var fill;              /* index for replicating entries */
  var low;               /* low bits for current root entry */
  var mask;              /* mask for low root bits */
  var next;             /* next available space in table */
  var base = null;     /* base value table to use */
  var base_index = 0;
//  var shoextra;    /* extra bits table to use */
  var end;                    /* use base and extra for symbol > end */
  var count = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */
  var offs = new _utils_common_js__WEBPACK_IMPORTED_MODULE_0__["Buf16"](MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */
  var extra = null;
  var extra_index = 0;

  var here_bits, here_op, here_val;

  /*
   Process a set of code lengths to create a canonical Huffman code.  The
   code lengths are lens[0..codes-1].  Each length corresponds to the
   symbols 0..codes-1.  The Huffman code is generated by first sorting the
   symbols by length from short to long, and retaining the symbol order
   for codes with equal lengths.  Then the code starts with all zero bits
   for the first code of the shortest length, and the codes are integer
   increments for the same length, and zeros are appended as the length
   increases.  For the deflate format, these bits are stored backwards
   from their more natural integer increment ordering, and so when the
   decoding tables are built in the large loop below, the integer codes
   are incremented backwards.

   This routine assumes, but does not check, that all of the entries in
   lens[] are in the range 0..MAXBITS.  The caller must assure this.
   1..MAXBITS is interpreted as that code length.  zero means that that
   symbol does not occur in this code.

   The codes are sorted by computing a count of codes for each length,
   creating from that a table of starting indices for each length in the
   sorted table, and then entering the symbols in order in the sorted
   table.  The sorted table is work[], with that space being provided by
   the caller.

   The length counts are used for other purposes as well, i.e. finding
   the minimum and maximum length codes, determining if there are any
   codes at all, checking for a valid set of lengths, and looking ahead
   at length counts to determine sub-table sizes when building the
   decoding tables.
   */

  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes; sym++) {
    count[lens[lens_index + sym]]++;
  }

  /* bound code lengths, force root to be within code lengths */
  root = bits;
  for (max = MAXBITS; max >= 1; max--) {
    if (count[max] !== 0) { break; }
  }
  if (root > max) {
    root = max;
  }
  if (max === 0) {                     /* no symbols to code at all */
    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */
    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;
    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;


    //table.op[opts.table_index] = 64;
    //table.bits[opts.table_index] = 1;
    //table.val[opts.table_index++] = 0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;

    opts.bits = 1;
    return 0;     /* no symbols, but wait for decoding to report error */
  }
  for (min = 1; min < max; min++) {
    if (count[min] !== 0) { break; }
  }
  if (root < min) {
    root = min;
  }

  /* check for an over-subscribed or incomplete set of lengths */
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }        /* over-subscribed */
  }
  if (left > 0 && (type === CODES || max !== 1)) {
    return -1;                      /* incomplete set */
  }

  /* generate offsets into symbol table for each length for sorting */
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }

  /* sort symbols by length, by symbol order within each length */
  for (sym = 0; sym < codes; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }

  /*
   Create and fill in decoding tables.  In this loop, the table being
   filled is at next and has curr index bits.  The code being used is huff
   with length len.  That code is converted to an index by dropping drop
   bits off of the bottom.  For codes where len is less than drop + curr,
   those top drop + curr - len bits are incremented through all values to
   fill the table with replicated entries.

   root is the number of index bits for the root table.  When len exceeds
   root, sub-tables are created pointed to by the root entry with an index
   of the low root bits of huff.  This is saved in low to check for when a
   new sub-table should be started.  drop is zero when the root table is
   being filled, and drop is root when sub-tables are being filled.

   When a new sub-table is needed, it is necessary to look ahead in the
   code lengths to determine what size sub-table is needed.  The length
   counts are used for this, and so count[] is decremented as codes are
   entered in the tables.

   used keeps track of how many table entries have been allocated from the
   provided *table space.  It is checked for LENS and DIST tables against
   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in
   the initial root table size constants.  See the comments in inftrees.h
   for more information.

   sym increments through all symbols, and the loop terminates when
   all codes of length max, i.e. all codes, have been processed.  This
   routine permits incomplete codes, so another loop after this one fills
   in the rest of the decoding tables with invalid code markers.
   */

  /* set up for code type */
  // poor man optimization - use if-else instead of switch,
  // to avoid deopts in old v8
  if (type === CODES) {
    base = extra = work;    /* dummy value--not used */
    end = 19;

  } else if (type === LENS) {
    base = lbase;
    base_index -= 257;
    extra = lext;
    extra_index -= 257;
    end = 256;

  } else {                    /* DISTS */
    base = dbase;
    extra = dext;
    end = -1;
  }

  /* initialize opts for loop */
  huff = 0;                   /* starting code */
  sym = 0;                    /* starting code symbol */
  len = min;                  /* starting code length */
  next = table_index;              /* current table to fill in */
  curr = root;                /* current table index bits */
  drop = 0;                   /* current bits to drop from code for index */
  low = -1;                   /* trigger new sub-table when len > root */
  used = 1 << root;          /* use root table entries */
  mask = used - 1;            /* mask for comparing low */

  /* check available table space */
  if ((type === LENS && used > ENOUGH_LENS) ||
    (type === DISTS && used > ENOUGH_DISTS)) {
    return 1;
  }

  /* process all codes and make table entries */
  for (;;) {
    /* create table entry */
    here_bits = len - drop;
    if (work[sym] < end) {
      here_op = 0;
      here_val = work[sym];
    }
    else if (work[sym] > end) {
      here_op = extra[extra_index + work[sym]];
      here_val = base[base_index + work[sym]];
    }
    else {
      here_op = 32 + 64;         /* end of block */
      here_val = 0;
    }

    /* replicate for those indices with low len bits equal to huff */
    incr = 1 << (len - drop);
    fill = 1 << curr;
    min = fill;                 /* save offset to next table */
    do {
      fill -= incr;
      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;
    } while (fill !== 0);

    /* backwards increment the len-bit code huff */
    incr = 1 << (len - 1);
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }

    /* go to next symbol, update count, len */
    sym++;
    if (--count[len] === 0) {
      if (len === max) { break; }
      len = lens[lens_index + work[sym]];
    }

    /* create new sub-table if needed */
    if (len > root && (huff & mask) !== low) {
      /* if first time, transition to sub-tables */
      if (drop === 0) {
        drop = root;
      }

      /* increment past last table */
      next += min;            /* here min is 1 << curr */

      /* determine length of next table */
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max) {
        left -= count[curr + drop];
        if (left <= 0) { break; }
        curr++;
        left <<= 1;
      }

      /* check for enough space */
      used += 1 << curr;
      if ((type === LENS && used > ENOUGH_LENS) ||
        (type === DISTS && used > ENOUGH_DISTS)) {
        return 1;
      }

      /* point entry in root table to sub-table */
      low = huff & mask;
      /*table.op[low] = curr;
      table.bits[low] = root;
      table.val[low] = next - opts.table_index;*/
      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;
    }
  }

  /* fill in remaining table entry if code is incomplete (guaranteed to have
   at most one remaining entry, since if the code is incomplete, the
   maximum code length that was allowed to get this far is one bit) */
  if (huff !== 0) {
    //table.op[next + huff] = 64;            /* invalid code marker */
    //table.bits[next + huff] = len - drop;
    //table.val[next + huff] = 0;
    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;
  }

  /* set return parameters */
  //opts.table_index += used;
  opts.bits = root;
  return 0;
};


/***/ }),

/***/ "./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@novnc/novnc/vendor/pako/lib/zlib/zstream.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ZStream; });
function ZStream() {
  /* next input byte */
  this.input = null; // JS specific, because we have no pointers
  this.next_in = 0;
  /* number of bytes available at input */
  this.avail_in = 0;
  /* total number of input bytes read so far */
  this.total_in = 0;
  /* next output byte should be put there */
  this.output = null; // JS specific, because we have no pointers
  this.next_out = 0;
  /* remaining free space at output */
  this.avail_out = 0;
  /* total number of bytes output so far */
  this.total_out = 0;
  /* last error message, NULL if no error */
  this.msg = ''/*Z_NULL*/;
  /* not visible by applications */
  this.state = null;
  /* best guess about the data type: binary or text */
  this.data_type = 2/*Z_UNKNOWN*/;
  /* adler32 value of the uncompressed data */
  this.adler = 0;
}


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * @this {Promise}
 */
function finallyConstructor(callback) {
  var constructor = this.constructor;
  return this.then(
    function(value) {
      return constructor.resolve(callback()).then(function() {
        return value;
      });
    },
    function(reason) {
      return constructor.resolve(callback()).then(function() {
        return constructor.reject(reason);
      });
    }
  );
}

/* harmony default export */ __webpack_exports__["default"] = (finallyConstructor);


/***/ }),

/***/ "./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(setImmediate) {/* harmony import */ var _finally__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./finally */ "./node_modules/promise-polyfill/src/finally.js");


// Store setTimeout reference so promise-polyfill will be unaffected by
// other code modifying setTimeout (like sinon.useFakeTimers())
var setTimeoutFunc = setTimeout;

function noop() {}

// Polyfill for Function.prototype.bind
function bind(fn, thisArg) {
  return function() {
    fn.apply(thisArg, arguments);
  };
}

/**
 * @constructor
 * @param {Function} fn
 */
function Promise(fn) {
  if (!(this instanceof Promise))
    throw new TypeError('Promises must be constructed via new');
  if (typeof fn !== 'function') throw new TypeError('not a function');
  /** @type {!number} */
  this._state = 0;
  /** @type {!boolean} */
  this._handled = false;
  /** @type {Promise|undefined} */
  this._value = undefined;
  /** @type {!Array<!Function>} */
  this._deferreds = [];

  doResolve(fn, this);
}

function handle(self, deferred) {
  while (self._state === 3) {
    self = self._value;
  }
  if (self._state === 0) {
    self._deferreds.push(deferred);
    return;
  }
  self._handled = true;
  Promise._immediateFn(function() {
    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
      return;
    }
    var ret;
    try {
      ret = cb(self._value);
    } catch (e) {
      reject(deferred.promise, e);
      return;
    }
    resolve(deferred.promise, ret);
  });
}

function resolve(self, newValue) {
  try {
    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
    if (newValue === self)
      throw new TypeError('A promise cannot be resolved with itself.');
    if (
      newValue &&
      (typeof newValue === 'object' || typeof newValue === 'function')
    ) {
      var then = newValue.then;
      if (newValue instanceof Promise) {
        self._state = 3;
        self._value = newValue;
        finale(self);
        return;
      } else if (typeof then === 'function') {
        doResolve(bind(then, newValue), self);
        return;
      }
    }
    self._state = 1;
    self._value = newValue;
    finale(self);
  } catch (e) {
    reject(self, e);
  }
}

function reject(self, newValue) {
  self._state = 2;
  self._value = newValue;
  finale(self);
}

function finale(self) {
  if (self._state === 2 && self._deferreds.length === 0) {
    Promise._immediateFn(function() {
      if (!self._handled) {
        Promise._unhandledRejectionFn(self._value);
      }
    });
  }

  for (var i = 0, len = self._deferreds.length; i < len; i++) {
    handle(self, self._deferreds[i]);
  }
  self._deferreds = null;
}

/**
 * @constructor
 */
function Handler(onFulfilled, onRejected, promise) {
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, self) {
  var done = false;
  try {
    fn(
      function(value) {
        if (done) return;
        done = true;
        resolve(self, value);
      },
      function(reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      }
    );
  } catch (ex) {
    if (done) return;
    done = true;
    reject(self, ex);
  }
}

Promise.prototype['catch'] = function(onRejected) {
  return this.then(null, onRejected);
};

Promise.prototype.then = function(onFulfilled, onRejected) {
  // @ts-ignore
  var prom = new this.constructor(noop);

  handle(this, new Handler(onFulfilled, onRejected, prom));
  return prom;
};

Promise.prototype['finally'] = _finally__WEBPACK_IMPORTED_MODULE_0__["default"];

Promise.all = function(arr) {
  return new Promise(function(resolve, reject) {
    if (!arr || typeof arr.length === 'undefined')
      throw new TypeError('Promise.all accepts an array');
    var args = Array.prototype.slice.call(arr);
    if (args.length === 0) return resolve([]);
    var remaining = args.length;

    function res(i, val) {
      try {
        if (val && (typeof val === 'object' || typeof val === 'function')) {
          var then = val.then;
          if (typeof then === 'function') {
            then.call(
              val,
              function(val) {
                res(i, val);
              },
              reject
            );
            return;
          }
        }
        args[i] = val;
        if (--remaining === 0) {
          resolve(args);
        }
      } catch (ex) {
        reject(ex);
      }
    }

    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.resolve = function(value) {
  if (value && typeof value === 'object' && value.constructor === Promise) {
    return value;
  }

  return new Promise(function(resolve) {
    resolve(value);
  });
};

Promise.reject = function(value) {
  return new Promise(function(resolve, reject) {
    reject(value);
  });
};

Promise.race = function(values) {
  return new Promise(function(resolve, reject) {
    for (var i = 0, len = values.length; i < len; i++) {
      values[i].then(resolve, reject);
    }
  });
};

// Use polyfill for setImmediate for performance gains
Promise._immediateFn =
  (typeof setImmediate === 'function' &&
    function(fn) {
      setImmediate(fn);
    }) ||
  function(fn) {
    setTimeoutFunc(fn, 0);
  };

Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
  if (typeof console !== 'undefined' && console) {
    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Promise);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../timers-browserify/main.js */ "./node_modules/timers-browserify/main.js").setImmediate))

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6–8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/unfetch/polyfill/index.js":
/*!************************************************!*\
  !*** ./node_modules/unfetch/polyfill/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest;for(var o in s.open(n.method||"get",e,!0),n.headers)s.setRequestHeader(o,n.headers[o]);function u(){var e,n=[],t=[],r={};return s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(s,o,u){n.push(o=o.toLowerCase()),t.push([o,u]),r[o]=(e=r[o])?e+","+u:u}),{ok:2==(s.status/100|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:u,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return n},entries:function(){return t},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}s.withCredentials="include"==n.credentials,s.onload=function(){t(u())},s.onerror=r,s.send(n.body||null)})});


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/audio-mediasource.js":
/*!**********************************!*\
  !*** ./src/audio-mediasource.js ***!
  \**********************************/
/*! exports provided: getBestAudioType, WSAudio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBestAudioType", function() { return getBestAudioType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WSAudio", function() { return WSAudio; });
// Play Audio with MediaSource extensions received over a websocket
var OPUS_MIME_TYPE = 'audio/webm; codecs="opus"';
var MP3_MIME_TYPE = 'audio/mpeg';

// This represents the order in which the types are tried
const AUDIO_TYPES = [
  {"id": "mp3",
    "type": MP3_MIME_TYPE},

  {"id": "opus",
    "type": OPUS_MIME_TYPE},
];




function getBestAudioType() {
  if (window.MediaSource) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (window.MediaSource.isTypeSupported(AUDIO_TYPES[i].type)) {
        return AUDIO_TYPES[i].id;
      }
    }
  }
};


function WSAudio (browser_info, init_params) {
  init_params = init_params || {};

  var MAX_BUFFERS = 250;
  var MIN_START_BUFFERS = 10;

  var minLatency = 0.2; // 200ms
  var maxLatency = 0.5  // 500ms
  this.latencyCheck = null;

  this.ws = null;
  this.ws_url = null;

  this.errCount = 0;

  this.allowAppend = false;

  this.audio = null;
  this.audio_mime = null;
  this.mediasource = null;
  this.buffer = null;

  this.buffQ = [];
  this.buffCount = 0;
  this.buffSize = 0;

  this.get_audio_mime = function(browser_info) {
    for (var i = 0; i < AUDIO_TYPES.length; i++) {
      if (AUDIO_TYPES[i].id == browser_info.audio) {
        return AUDIO_TYPES[i].type;
      }
    }

    console.log("Audio not inited, unknown audio type: " + browser_info.audio);
    return null;
  }

  this.get_ws_url = function(browser_info) {
    var ws_url = (window.location.protocol == "https:" ? "wss:" : "ws:");
    ws_url += window.location.hostname;

    var audio_port = browser_info.cmd_port;

    if (init_params.proxy_ws) {
      ws_url += "/" + init_params.proxy_ws + audio_port;
    } else {
      ws_url += ":" + audio_port + "/audio_ws";
    }

    return ws_url;
  }


  this.start = function() {
    if (this.audio) {
      return true;
    }

    this.audio_mime = this.get_audio_mime(browser_info);
    this.ws_url = this.get_ws_url(browser_info);

    if (!this.audio_mime) {
      return false;
    }

    this.latencyCheck = setInterval(this.latencyController.bind(this), 250);

    this.mediasource = new MediaSource();
    this.mediasource.addEventListener("sourceopen", this.sourceOpen.bind(this));

    this.mediasource.addEventListener("error", (function(event) {
      this.audioError("MediaSource Error", event);
    }).bind(this));

    this.audio = new Audio();
    this.audio.src = URL.createObjectURL(this.mediasource);
    this.audio.autoplay = true;
    this.audio.load();
    this.audio.play().catch(function() { });

    return true;
  }

  this.sourceOpen = function() {
    if (this.mediasource.sourceBuffers.length) {
      console.log("source already open");
      return;
    }

    var buffer = null;

    try {
      buffer = this.mediasource.addSourceBuffer(this.audio_mime);
    } catch (e) {
      console.log("Opening Source Error: " + e);
      return;
    }

    buffer.mode = "sequence";
    //buffer.timestampOffset = 0;

    buffer.addEventListener("error", (function(event) {
      this.audioError("buffer error: " + (this.buffCount), event);
    }).bind(this));

    buffer.addEventListener("updateend", this.onUpdateEnd.bind(this));

    this.buffer = buffer;

    this.allowAppend = true;

    this.initWs();
  };

  this.close = function() {
    console.log("Closing Audio");
    try {
      if (this.latencyCheck) {
        clearInterval(this.latencyCheck);
      }

      if (this.mediasource) {
        this.mediasource.removeSourceBuffer(this.buffer);
        if (this.mediasource.readyState == "open") {
          this.mediasource.endOfStream();
        }
      }
      this.buffer = null;

    } catch(e) {
      console.log("Error Closing: " + e);
    }
    this.mediasource = null;

    try {
      if (this.audio) {
        this.audio.pause();
      }
      this.audio = null;
    } catch (e) {
      console.log("Error Closing: " + e);
    }

    if (this.ws) {
      console.log("Closing websocket");
      try {
        this.ws.close();
      } catch(e) {}

      this.ws = null;
    }
  }

  this.mergeBuffers = function() {
    var merged;

    if (this.buffQ.length == 1) {
      merged = this.buffQ[0];
    } else {
      merged = new Uint8Array(this.buffSize);

      var length = this.buffQ.length;
      var offset = 0;

      for (var i = 0; i < length; i++) {
        var curr = this.buffQ[i];
        if (curr.length <= 0) {
          continue;
        }
        merged.set(curr, offset);
        offset += curr.length;
      }
    }

    this.buffQ = [];
    this.buffCount++;
    return merged;
  }

  this.onUpdateEnd = function() {
    this.allowAppend = true;
    this.updateNext();
  }

  this.updateNext = function() {
    if (!this.buffQ.length) {
      return;
    }

    try {
      var merged = this.mergeBuffers();
      this.buffer.appendBuffer(merged);
      this.allowAppend = false;
      this.buffSize -= merged.length;
      this.errCount = 0;
    } catch (e) {
      this.audioError("Error Adding Buffer: " + e);
    }
  }

  this.latencyController = function() {
    // check for latency and seek forward if necessary
    try {
      var latency = this.audio.buffered.end(0) - this.audio.currentTime;
      if (latency > maxLatency) {
        this.audio.currentTime = this.audio.buffered.end(0) - minLatency;
        console.log("Audio has been seeked by ", Math.round((latency - minLatency) * 1000), " ms");
      }

    } catch(e) {

    }
  }

  this.audioError = function(msg, event) {
    if (this.audio && this.audio.error) {
      console.log(msg);
      console.log(this.audio.error);
      //console.log("num processed: " + this.buffCount);
      this.errCount += 1;
      //if (this.errCount == 1) {
      //    setTimeout(restartAudio, 3000);
      //}
    }
  }

  this.queue = function(buffer) {
    /*
    if (this.buffSize > 200000) {
        if (this.buffCount > 0) {
            var res = this.buffQ.shift();
            this.buffSize -= res.length;
            console.log("dropping old buffers");
        } else {
            // don't drop the starting buffers
            console.log("dropping new buffers");
            this.updateNext();
            return;
        }
    }
    */

    buffer = new Uint8Array(buffer);
    this.buffQ.push(buffer);
    this.buffSize += buffer.length;

    if (this.allowAppend) {
      this.updateNext();
    }
  }

  this.initWs = function() {
    try {
      this.ws = new WebSocket(this.ws_url, "binary");
    } catch (e) {
      this.audioError("WS Open Failed");
    }

    this.ws.binaryType = 'arraybuffer';
    this.ws.addEventListener("open", ws_open.bind(this));
    this.ws.addEventListener("close", ws_close.bind(this));
    this.ws.addEventListener("message", ws_message.bind(this));
    this.ws.addEventListener('error', ws_error.bind(this));
  }

  var ws_open = function(event) {
    //this.send("ready");
  }

  var ws_message = function(event) {
    if (this.errCount == 0) {
      this.queue(event.data);
    }
  }

  var ws_error = function() {
    this.audioError("WS Error");
  }

  var ws_close = function() {
    this.audioError("WS Close");
  }

  return this;

  //return {"start": start,
  //        "stop": stop,
  //        "restart": restartAudio,
  //        "getAudio": function () {return  audioWS.audio;},
  //}
};






/***/ }),

/***/ "./src/audio-webrtc.js":
/*!*****************************!*\
  !*** ./src/audio-webrtc.js ***!
  \*****************************/
/*! exports provided: WebRTCAudio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebRTCAudio", function() { return WebRTCAudio; });



function WebRTCAudio(peer_id, data) {

  let debug = true;
  let audio = null;
  let connect_attempts = 0;
  let peer_connection;
  let ws_conn;

  this.start = function() {
    if (audio) {
      console.log("already started");
      return;
    }
    audio = new Audio();
    audio.autoplay = true;
    audio.play().catch(setError);
    connectToSignalingServer();
  };

  function connectToSignalingServer() {
    connect_attempts++;
    if (connect_attempts > 100) {
      setError("Too many connection attempts, aborting. Refresh page to try again");
      return;
    }

    // Fetch the peer id to use
    let peer_id = getPeerId();
    let ws_url = getSignallingServer();
    setStatus("Connecting to server " + ws_url + ", attempt= " + connect_attempts);
    ws_conn = new WebSocket(ws_url);
    /* When connected, immediately register with the server */
    ws_conn.addEventListener('open', () => {
      ws_conn.send('HELLO ' + peer_id);
      setStatus("Registering with server, peer-id = " + peer_id);
    });

    ws_conn.addEventListener('error', onServerError);
    ws_conn.addEventListener('message', onServerMessage);
    ws_conn.addEventListener('close', onServerClose);
  }

  function getPeerId() {
    return peer_id;
  }

  function getSignallingServer() {
    let ws_url = (window.location.protocol === "https:" ? "wss://" : "ws://");
    ws_url += window.location.hostname + ":" + data.cmd_port;
    return ws_url
  }

  function onServerError() {
    setError("Unable to connect to server, did you add an exception for the certificate?");
    // Retry after 3 seconds
    window.setTimeout(connectToSignalingServer, 3000);
  }

  function handleIncomingError(message) {
    console.log("handleIncomingError" + message);
  }

  function onServerMessage(event) {
    if (debug) {
      console.log("Received from websocket " + event.data);
    }
    let msg;
    switch (event.data) {
      case "HELLO":
        setStatus("Registered with server, waiting for call");
        ws_conn.send('PORT ' + data.ice_tcp_port + ' ' + data.ice_udp_port);
        return;
      default:
        if (event.data.startsWith("ERROR")) {
          handleIncomingError(event.data);
          return;
        }
        // Handle incoming JSON SDP and ICE messages
        try {
          msg = JSON.parse(event.data);
        } catch (e) {
          if (e instanceof SyntaxError) {
            handleIncomingError("Error parsing incoming JSON: " + event.data);
          } else {
            handleIncomingError("Unknown error parsing response: " + event.data);
          }
          return;
        }

        // Incoming JSON signals the beginning of a call
        if (!peer_connection)
          createCall(msg);

        if (msg.sdp != null) {
          onIncomingSDP(msg.sdp);
        } else if (msg.ice != null) {
          onIncomingICE(msg.ice);
        } else {
          handleIncomingError("Unknown incoming JSON: " + msg);
        }
    }
  }

  // ICE candidate received from peer, add it to the peer connection
  function onIncomingICE(ice) {
    let candidate = new RTCIceCandidate(ice);
    peer_connection.addIceCandidate(candidate).catch(setError);
  }

  function onServerClose(event) {
    setStatus('Disconnected from server with code=' + event.code + ' reason=' + event.reason);
    resetAudio();
    disconnectWebsocket();

    if (event.code !== 1002) {
      // Reset after a second
      window.setTimeout(connectToSignalingServer, 2000);
    } else {
      if (connect_attempts < 5) {
        // Retrieve to connect up to 5 times (peer-id might be in conflict if init_browser is called again)
        window.setTimeout(connectToSignalingServer, 2000);
      }
    }
  }

  function setStatus(status) {
    if (debug) {
      console.log("WebRTC-status:" + status);
    }
  }

  function setError(error) {
    console.log("WebRTC-error: " + error);
  }

  function onIncomingSDP(sdp) {
    peer_connection.setRemoteDescription(sdp).then(() => {
      setStatus("Remote SDP set");
      if (sdp.type !== "offer")
        return;
      setStatus("Got SDP offer");
      peer_connection.createAnswer()
        .then(onLocalDescription).catch(setError);
    }).catch(setError);
  }

  // Local description was set, send it to peer
  function onLocalDescription(desc) {
    if (debug) {
      console.log("Got local description: " + JSON.stringify(desc));
    }
    peer_connection.setLocalDescription(desc).then(function() {
      setStatus("Sending SDP answer");
      let sdp = JSON.stringify({'sdp': peer_connection.localDescription});
      ws_conn.send(sdp);
    });
  }


  function resetAudio() {
    // Reset the audio element and stop showing the last received frame
    try {
      audio.pause();
    } catch (e) {
      console.log("resetAudio error " + e);
    }

  }

  this.close = function() {
    console.log("Closing WebRTC audio connection");
    disconnectWebsocket();
  };

  function disconnectWebsocket() {
    if (ws_conn) {
      console.log("disconnect websocket");
      ws_conn.close();
    }

    if (peer_connection) {
      console.log("disconnect peer");
      peer_connection.close();
      peer_connection = null;
    }
  }

  function createCall(msg) {
    // Reset connection attempts because we connected successfully
    connect_attempts = 0;

    console.log('Creating RTCPeerConnection');


    peer_connection = new RTCPeerConnection(getRtcPeerConfiguration());
    peer_connection.ontrack = onRemoteTrackAdded;

    /* Send our video/audio to the other peer */
    if (!msg.sdp) {
      console.log("WARNING: First message wasn't an SDP message!?");
    }

    peer_connection.onicecandidate = (event) => {
      // We have a candidate, send it to the remote party with the
      // same uuid
      if (event.candidate == null) {
        console.log("ICE Candidate was null, done");
        return;
      }
      console.log("send candidate remotely" + event.candidate.candidate);

      ws_conn.send(JSON.stringify({'ice': event.candidate}));
    };

    setStatus("Created peer connection for call, waiting for SDP");
  }

  function onRemoteTrackAdded(event) {
    audio.srcObject = event.streams[0];
  }

  function getRtcPeerConfiguration() {
    let iceServers = [];
    if (data["webrtc_turn_server"]) {
      let server = data["webrtc_turn_server"];
      let credentials = data["webrtc_turn_credentials"];

      iceServers.push({
        "urls": server,
        "credential": credentials["password"],
        "username": credentials["username"]
      });
    }
    if (data["webrtc_stun_server"]) {
      let server = data["webrtc_stun_server"];
      iceServers.push({"urls": server});
    }
    console.log("iceservers = %O", iceServers);


    return {"iceServers": iceServers};
  }

  return this;
}






/***/ }),

/***/ "./src/browser.js":
/*!************************!*\
  !*** ./src/browser.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CBrowser; });
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unfetch/polyfill/index */ "./node_modules/unfetch/polyfill/index.js");
/* harmony import */ var unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(unfetch_polyfill_index__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @novnc/novnc/core/rfb */ "./node_modules/@novnc/novnc/core/rfb.js");
/* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
/* harmony import */ var _audio_mediasource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./audio-mediasource */ "./src/audio-mediasource.js");
/* harmony import */ var _audio_webrtc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./audio-webrtc */ "./src/audio-webrtc.js");







function toQueryString(obj) {
  var parts = [];
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));
    }
  }
  return parts.join('&');
}


function CBrowser(reqid, target_div, init_params) {
  var controller = typeof AbortController !== 'undefined' ? new AbortController() : null;

  var cmd_port = undefined;
  var vnc_port = undefined;

  var clipEvents = ['paste'];
  var connected = false;
  var countdownTimer = null;
  var visibilityHandle = null;
  var ever_connected = false;
  var fail_count = 0;
  var hasClipboard = false;
  var lastText = undefined;
  var maxRetry = 10;
  var retryCount = 0;
  var retryHandle = null;
  var stagedText = null;
  var timers = []

  var min_width = 300;
  var min_height = 300;

  var rfb;
  var resizeTimeout;
  var vnc_pass = "secret";

  var end_time = undefined;

  var targetDivNode = document.querySelector(target_div);

  var waiting_for_container = false;
  var waiting_for_vnc = false;

  init_params = init_params || {};

  init_params.api_prefix = init_params.api_prefix || "";

  var num_vnc_retries = init_params.num_vnc_retries || 3;

  var req_params = {};

  // rfb event callbacks
  var credentialsRequired;
  var connect;
  var disconnect;
  var securityFailure;
  var clipboard
  var rfbEventsBound = false;


  function start() {
    // Countdown updater
    if (init_params.on_countdown) {
      countdownTimer = setInterval(update_countdown, 1000);
    }

    init_html(target_div);

    setup_browser();
  }

  function clipHandler(e) {
    if (!hasClipboard) {
      return false;
    }

    var text;
    if (window.clipboardData && window.clipboardData.getData) { // ie
      text = window.clipboardData.getData('Text');
    } else if (e.clipboardData && e.clipboardData.getData) {
      text = e.clipboardData.getData('text/plain');
    }

    if (connected && rfb && text) {
      rfb.clipboardPasteFrom(text);

      // attempt sending paste command
      rfb.sendKey(0xffe3, null, true);
      rfb.sendKey(0x0076, null, true);
      rfb.sendKey(0x0076, null, false);
      rfb.sendKey(0xffe3, null, false);
    }
  }

  function init_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = true;
    lastText = undefined;

    // if remote browser cut/copy opperation occured, insert into clipboard field
    if (stagedText) {
        document.querySelector(init_params.clipboard).value = stagedText;
        stagedText = null;
    }

    for (var i = 0; i < clipEvents.length; i++) {
      document.querySelector(init_params.clipboard).addEventListener(clipEvents[i], clipHandler);
    }
  }

  function destroy_clipboard() {
    if (!init_params.clipboard) {
      return;
    }

    hasClipboard = false;
  }

  function canvas() {
    return targetDivNode.querySelector('.canvas');
  }

  function msgdiv() {
    return targetDivNode.querySelector('#browserMsg');
  }

  function screen() {
    return targetDivNode.querySelector('#noVNC_screen');
  }

  function init_html() {
    // ensure container is emptied of previous browsers
    targetDivNode.innerHTML = '';

    var msgDiv = document.createElement('div');
    msgDiv.setAttribute('id', 'browserMsg');
    msgDiv.setAttribute('class', 'loading');
    targetDivNode.appendChild(msgDiv);

    var canvasEle = document.createElement('div');
    canvasEle.setAttribute('class', 'canvas');
    var canvasDiv = document.createElement('div');
    canvasDiv.setAttribute('id', 'noVNC_screen');
    canvasDiv.appendChild(canvasEle);
    targetDivNode.appendChild(canvasDiv);

    canvasEle.style.display = 'none';
  }

  function setup_browser() {
    if (waiting_for_vnc || waiting_for_container) {
      return;
    }

    var msg;

    if (ever_connected) {
      msg = "Reconnecting to Remote Browser...";
    } else {
      msg = "Initializing Remote Browser...";
    }

    msgdiv().innerHTML = msg;
    msgdiv().style.display = 'block';

    // calculate dimensions
    const bcr = targetDivNode.getBoundingClientRect();
    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w *= 0.96;
      h -= 25;
    }

    if (w < h) {
      // flip mins for vertical layout
      var t = min_width;
      min_width = min_height;
      min_height = t;
    }

    req_params['width'] = Math.max(w, min_width);
    req_params['height'] = Math.max(h, min_height);
    req_params['width'] = parseInt(req_params['width'] / 8) * 8;
    req_params['height'] = parseInt(req_params['height'] / 8) * 8;

    req_params['reqid'] = reqid;

    req_params["audio"] = Object(_audio_mediasource__WEBPACK_IMPORTED_MODULE_3__["getBestAudioType"])();

    if (!req_params["audio"]) {
      console.log("No Supported Audio Types");
    }

    init_browser();
  }

  function init_browser() {
    if (waiting_for_container) {
      return;
    }

    waiting_for_container = true;

    var init_url = init_params.api_prefix + "/init_browser?" + toQueryString(req_params);

    var options = { headers: new Headers(init_params.headers || {}) };

    if (controller) {
      options.signal = controller.signal;
    }

    // expects json response
    fetch(init_url, options)
      .then(function (res) {
        if (!res.ok) {
          throw new Error(res.status);
        }

        return res.json();
      })
      .then(function (data) {
        waiting_for_container = false;
        handle_browser_response(data);
      })
      .catch(function (err) {
        console.log('fetch error', err);
        waiting_for_container = false;

        // user canceled
        if (err.message === 'AbortError') {
          return;
        }

        if (!err || err.message != 404) {
          msgdiv().innerHTML = 'Reconnecting to Remote Browser...';
          msgdiv().style.display = 'block';

          if(retryCount++ < maxRetry) {
            timers.push(setTimeout(init_browser, 1000));
          }

          return;
        }

        if (init_params.on_event) {
          init_params.on_event('expire');
        } else {
          msgdiv().innerHTML = 'Remote Browser Expired... Please try again...';
          msgdiv().style.display = 'block';
        }
      });
  }

  function handle_browser_response(data) {
    var qid = data.id;

    if (data.cmd_port && data.vnc_port) {
      cmd_port = data.cmd_port;
      vnc_port = data.vnc_port;

      end_time = parseInt(Date.now() / 1000, 10) + data.ttl;

      vnc_pass = data.vnc_pass;

      if (init_params.audio) {
        // setup_browser can be called many times (specially when noVnc thrown an exception), we stop sound before init again
        if (window.audioPlugin && window.audioPlugin.hasOwnProperty("close")) {
          try {
            window.audioPlugin.close();
            window.audioPlugin = undefined;
          } catch (err){
            console.log("Fail during window.audio.close()");
          }
        }
        if (data.audio) {
          if (window.location.href.indexOf("webrtc")) {         // @todo CHANGE ME quick&dirty hack
            console.log("webRTC: init plugin");
            var webrtc_data = {};
            //webrtc_data.webrtc_stun_server = "stun:stun.l.google.com:19302";
            webrtc_data.cmd_port = cmd_port;
            webrtc_data.ice_tcp_port = data.ice_tcp_port;
            webrtc_data.ice_udp_port = data.ice_udp_port;

            window.audioPlugin = new _audio_webrtc__WEBPACK_IMPORTED_MODULE_4__["WebRTCAudio"]("1", webrtc_data)
          } else {
            console.log("WSAudio: init plugin");
            window.audioPlugin = new _audio_mediasource__WEBPACK_IMPORTED_MODULE_3__["WSAudio"](data, init_params);
          }

          if (init_params.audio == "wait_for_click") {
            // activate audio on first click
            document.body.addEventListener('click', function () {
              window.audioPlugin.start();
            }, { once: true });
          } else {
            // start right away -- may be muted on latest Chrome until click
            window.audioPlugin.start();
          }
        }
      }

      if (init_params.on_event) {
        init_params.on_event("init", data);
      }

      timers.push(window.setTimeout(try_init_vnc, 3000));

    } else if (data.queue != undefined) {
      var msg = "Waiting for empty slot... ";
      if (data.queue == 0) {
        msg += "<b>You are next!</b>";
      } else {
        msg += "At most <b>" + data.queue + " user(s)</b> ahead of you";
      }
      msgdiv().innerHTML = msg;

      timers.push(window.setTimeout(init_browser, 3000));
    }
  }

  function try_init_vnc() {
    do_vnc()
      .then(function () { waiting_for_vnc = false; })
      .catch(function(err) {
        console.log('failed', err);

        waiting_for_vnc = false;
        fail_count++;

        if (fail_count <= num_vnc_retries) {
          msgdiv().innerHTML = "Retrying to connect to remote browser...";
          timers.push(setTimeout(init_browser, 500));
        } else {
          if (init_params.on_event) {
            init_params.on_event("fail");
          } else {
            msgdiv().innerHTML = "Failed to connect to remote browser... Please try again later";
          }
        }
      })
  }

  function clientPosition() {
    const bcr = targetDivNode.getBoundingClientRect();
    var c = canvas();
    var ch = c.getBoundingClientRect().height;
    var cw = c.getBoundingClientRect().width;
    if (!init_params.fill_window) {
      c.style.marginLeft = ((bcr.width - cw)/2) + 'px';
      c.style.marginTop = ((bcr.height - (ch + 25))/2) + 'px';
    }
  }

  function clientResize() {
    const bcr = targetDivNode.getBoundingClientRect();

    let w = bcr.width;
    let h = bcr.height;

    if (!init_params.fill_window) {
      w = Math.round(w * 0.96);
      h = h - 25;
    }

    if (rfb) {
      var s = rfb._display.autoscale(w, h);
    }
  }

  function onVNCCopyCut(rfb, text) {
    if (init_params.clipboard && hasClipboard) {
      // document.querySelector(init_params.clipboard).innerHTML = (text);
    } else if(init_params.clipboard) {
      stagedText = text;
    }
  }

  function do_vnc() {
    if (waiting_for_vnc) {
      return;
    }

    waiting_for_vnc = true;

    var host = window.location.hostname;
    var port = vnc_port;
    var path = "websockify";
    var protocol = "ws";

    if (window.location.protocol === "https:") {
      protocol = "wss";
    }

    // Proxy WS via the origin host, instead of making direct conn
    // 'proxy_ws' specifies the proxy path, port is appended
    if (init_params.proxy_ws) {
      path = init_params.proxy_ws + port;
      port = window.location.port;
      if (!port) {
        port = (window.location.protocol == "https:" ? 443 : 80);
      }
    }

    var target = canvas();
    var webservice_url = protocol + '://' + host + ':' + port + '/' + path;

    console.log("Connecting to " + webservice_url);

    var promise = new promise_polyfill__WEBPACK_IMPORTED_MODULE_2__["default"](function (resolve, reject) {
      rfb = new _novnc_novnc_core_rfb__WEBPACK_IMPORTED_MODULE_1__["default"](target, webservice_url, {'credentials': {'password': vnc_pass}});
      window.rfb = rfb;

      //if (!rfbEventsBound) {
      credentialsRequired = function () {
        reject("credentialsrequired");
      }

      connect = function () {
        canvas().style.display = 'block';

        if (init_params.fill_window) {
          canvas().focus();
        }

        msgdiv().style.display = 'none';

        ever_connected = true;
        connected = true;
        fail_count = 0;

        if (init_params.on_event) {
          init_params.on_event("connect");
        }
        rfb.resizeSession = true;
        rfb.scaleViewport = true;

        resolve("connected");
      }

      disconnect = function () {
        connected = false;

        canvas().style.display = 'none';

        var reinit = !document.hidden;

        if (init_params.on_event) {
          init_params.on_event("disconnect");
        }

        if (reinit) {
          setup_browser();
        }
        reject("disconnected");
      }

      securityFailure = function () {
        reject("securityFailure");
      }

      clipboard = function (event) {
        onVNCCopyCut(rfb, event.detail.text);
      }

      rfb.addEventListener("credentialsrequired", credentialsRequired);
      rfb.addEventListener("connect", connect);
      rfb.addEventListener("disconnect", disconnect);
      rfb.addEventListener("securityfailure", securityFailure);
      rfb.addEventListener("clipboard", clipboard);
      //   rfbEventsBound = true;
      // }
    });

    return promise;
  }


  window.onresize = function () {
    // When the window has been resized, wait until the size remains
    // the same for 0.5 seconds before sending the request for changing
    // the resolution of the session
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(function(){
      clientResize();
      //clientPosition();
    }, 500);
  };

  function visibilityChangeCB() {
    if (document.hidden) {
      visibilityHandle = setTimeout(function() {
        if (rfb) {
          rfb.disconnect();
        }
      },
      init_params.inactiveSecs * 1000);
    } else {
      clearTimeout(visibilityHandle);
      if (!connected) {
        if (init_params.on_event) {
          init_params.on_event("reconnect");
        }

        setup_browser();
      }
    }
  }

  function update_countdown() {
    if (!end_time) {
      return;
    }
    var curr = Math.floor(new Date().getTime() / 1000);
    var secdiff = end_time - curr;

    if (secdiff < 0) {
      init_params.on_countdown(0, "00:00");
      return;
    }

    var min = Math.floor(secdiff / 60);
    var sec = secdiff % 60;
    if (sec <= 9) {
      sec = "0" + sec;
    }
    if (min <= 9) {
      min = "0" + min;
    }

    init_params.on_countdown(secdiff, min + ":" + sec);
  }

  if (init_params.inactiveSecs) {
    document.addEventListener("visibilitychange", visibilityChangeCB);
  }

  function clearTimers() {
    // clear intervals and timers
    clearInterval(countdownTimer);
    clearTimeout(visibilityHandle);
    for (var i = 0; i < timers.length; i++) {
      clearTimeout(timers[i]);
    }
    timers = [];
  }

  function close() {
    if (controller) {
      // cancel fetch requests
      controller.abort();
    }

    // stop audio plugin
    if (init_params.audio) {
      try {
        window.audioPlugin.close();
        window.audioPlugin = undefined;
      } catch (err){}
    }

    if (rfb) {
      rfb.removeEventListener("credentialsrequired", credentialsRequired);
      rfb.removeEventListener("connect", connect);
      rfb.removeEventListener("disconnect", disconnect);
      rfb.removeEventListener("securityfailure", securityFailure);
      rfb.removeEventListener("clipboard", clipboard);
      rfb.disconnect();
    }

    var cnvs = canvas();
    var _screen = screen();

    clearTimers();

    document.removeEventListener("visibilitychange", visibilityChangeCB);
  }

  start();

  return {
    "close": close,
    "destroy_clipboard": destroy_clipboard,
    "init_clipboard": init_clipboard
   }
}





/***/ })

/******/ })));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2Jhc2U2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9lbmNvZGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2luZmxhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9kb21rZXl0YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQvZml4ZWRrZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9rZXlib2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQva2V5c3ltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC9rZXlzeW1kZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL2lucHV0L21vdXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS9pbnB1dC92a2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvaW5wdXQveHRzY2FuY29kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3JmYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9ldmVudHRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL2NvcmUvdXRpbC9sb2dnaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL3BvbHlmaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvY29yZS91dGlsL3N0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy9jb3JlL3dlYnNvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvdXRpbHMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvYWRsZXIzMi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2NyYzMyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Abm92bmMvbm92bmMvdmVuZG9yL3Bha28vbGliL3psaWIvaW5mZmFzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bub3ZuYy9ub3ZuYy92ZW5kb3IvcGFrby9saWIvemxpYi9pbmZ0cmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG5vdm5jL25vdm5jL3ZlbmRvci9wYWtvL2xpYi96bGliL3pzdHJlYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvZmluYWxseS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZmV0Y2gvcG9seWZpbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW8tbWVkaWFzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvLXdlYnJ0Yy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFTOztBQUVqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxzREFBUztBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxzQ0FBc0MsV0FBVyxrREFBTTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLFVBQVU7QUFDakMsMkJBQTJCLFVBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxzQ0FBc0M7QUFDdEMsa0NBQWtDO0FBQ2xDLDRCQUE0QjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN6ckJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDdkNBO0FBQUE7QUFBQTtBQUFBO0FBQXdGO0FBQy9COztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxnRkFBTzs7QUFFZjtBQUNBLEtBQUs7O0FBRUw7QUFDQSxRQUFRLHFGQUFZO0FBQ3BCO0FBQ0E7O0FBRWU7QUFDZixvQkFBb0Isd0VBQU87QUFDM0I7QUFDQTtBQUNBOztBQUVBLElBQUksb0ZBQVc7QUFDZjs7Ozs7Ozs7Ozs7OztBQ3JDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsb0JBQW9CLGtEQUFRLFdBQVcsa0RBQVE7QUFDL0Msd0JBQXdCLGtEQUFRO0FBQ2hDLHdCQUF3QixrREFBUTtBQUNoQyx3QkFBd0Isa0RBQVEsZUFBZSxrREFBUTtBQUN2RDtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFRLGFBQWEsa0RBQVE7QUFDbkQscUJBQXFCLGtEQUFRLGFBQWEsa0RBQVE7QUFDbEQsdUJBQXVCLGtEQUFRO0FBQy9CLDBCQUEwQixrREFBUTtBQUNsQyxzQkFBc0Isa0RBQVEsYUFBYSxrREFBUTtBQUNuRCxzQkFBc0Isa0RBQVEsYUFBYSxrREFBUTtBQUNuRDtBQUNBOztBQUVBOztBQUVBLG1CQUFtQixrREFBUSxZQUFZLGtEQUFRO0FBQy9DLG1CQUFtQixrREFBUTtBQUMzQixlQUFlLGtEQUFRLFdBQVcsa0RBQVE7O0FBRTFDOztBQUVBLHVCQUF1QixrREFBUSxVQUFVLGtEQUFRO0FBQ2pELHFCQUFxQixrREFBUSxRQUFRLGtEQUFRO0FBQzdDLHVCQUF1QixrREFBUSxVQUFVLGtEQUFRO0FBQ2pELHdCQUF3QixrREFBUSxXQUFXLGtEQUFRO0FBQ25ELGlCQUFpQixrREFBUSxTQUFTLGtEQUFRO0FBQzFDLGtCQUFrQixrREFBUSxVQUFVLGtEQUFRO0FBQzVDLHNCQUFzQixrREFBUSxVQUFVLGtEQUFRO0FBQ2hELG9CQUFvQixrREFBUSxXQUFXLGtEQUFROztBQUUvQzs7QUFFQSx5QkFBeUIsa0RBQVE7QUFDakMscUJBQXFCLGtEQUFRO0FBQzdCLG9CQUFvQixrREFBUTtBQUM1QjtBQUNBLG1CQUFtQixrREFBUTtBQUMzQixvQkFBb0Isa0RBQVEsWUFBWSxrREFBUTtBQUNoRDtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFRLFlBQVksa0RBQVE7QUFDaEQscUJBQXFCLGtEQUFRO0FBQzdCLG9CQUFvQixrREFBUTtBQUM1QixvQkFBb0Isa0RBQVE7O0FBRTVCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrREFBUTtBQUM5QiwyQkFBMkIsa0RBQVE7QUFDbkMsc0JBQXNCLGtEQUFRO0FBQzlCLHVCQUF1QixrREFBUTtBQUMvQixvQkFBb0Isa0RBQVE7QUFDNUIsb0JBQW9CLGtEQUFRO0FBQzVCLHFCQUFxQixrREFBUTtBQUM3QjtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFRO0FBQzlCLHNCQUFzQixrREFBUTtBQUM5Qix1QkFBdUIsa0RBQVE7O0FBRS9COztBQUVBLDhCQUE4QixrREFBUTtBQUN0Qyw0QkFBNEIsa0RBQVE7QUFDcEMscUJBQXFCLGtEQUFRO0FBQzdCLHNCQUFzQixrREFBUTtBQUM5QixxQkFBcUIsa0RBQVE7QUFDN0Isd0JBQXdCLGtEQUFRO0FBQ2hDLDJCQUEyQixrREFBUTtBQUNuQyx5QkFBeUIsa0RBQVE7QUFDakMsdUJBQXVCLGtEQUFRO0FBQy9CLHNCQUFzQixrREFBUTs7QUFFOUI7O0FBRUEsNkJBQTZCLGtEQUFRO0FBQ3JDLDRCQUE0QixrREFBUSxnQkFBZ0I7QUFDcEQseUJBQXlCLGtEQUFRO0FBQ2pDLHVCQUF1QixrREFBUTtBQUMvQix1QkFBdUIsa0RBQVE7QUFDL0I7QUFDQTtBQUNBLDBCQUEwQixrREFBUTtBQUNsQyx5QkFBeUIsa0RBQVE7QUFDakMseUJBQXlCLGtEQUFRO0FBQ2pDLDZCQUE2QixrREFBUTtBQUNyQztBQUNBO0FBQ0EsMEJBQTBCLGtEQUFRO0FBQ2xDLGlDQUFpQyxrREFBUTtBQUN6QztBQUNBLCtCQUErQixrREFBUTtBQUN2QywwQkFBMEIsa0RBQVE7QUFDbEMseUJBQXlCLGtEQUFRO0FBQ2pDLDBCQUEwQixrREFBUTtBQUNsQyxvQkFBb0Isa0RBQVE7QUFDNUIsdUJBQXVCLGtEQUFRO0FBQy9CLHdCQUF3QixrREFBUTtBQUNoQyxnQ0FBZ0Msa0RBQVE7QUFDeEMsd0JBQXdCLGtEQUFRLGdCQUFnQjtBQUNoRCx5QkFBeUIsa0RBQVE7QUFDakMsd0JBQXdCLGtEQUFRO0FBQ2hDLHNCQUFzQixrREFBUTtBQUM5Qix1QkFBdUIsa0RBQVE7QUFDL0IsNkJBQTZCLGtEQUFROztBQUVyQzs7QUFFQSxrQkFBa0Isa0RBQVE7QUFDMUIsa0JBQWtCLGtEQUFRO0FBQzFCLGtCQUFrQixrREFBUTtBQUMxQixrQkFBa0Isa0RBQVE7QUFDMUIsa0JBQWtCLGtEQUFRO0FBQzFCLGtCQUFrQixrREFBUTtBQUMxQixrQkFBa0Isa0RBQVE7QUFDMUIsa0JBQWtCLGtEQUFRO0FBQzFCLGtCQUFrQixrREFBUTtBQUMxQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCLG1CQUFtQixrREFBUTtBQUMzQixtQkFBbUIsa0RBQVE7QUFDM0IsbUJBQW1CLGtEQUFRO0FBQzNCOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsa0RBQVE7QUFDN0IsMkJBQTJCLGtEQUFRO0FBQ25DLHlCQUF5QixrREFBUTtBQUNqQyx3QkFBd0Isa0RBQVE7QUFDaEMsZ0NBQWdDLGtEQUFRO0FBQ3hDLDBCQUEwQixrREFBUTtBQUNsQyx5QkFBeUIsa0RBQVE7QUFDakMsMkJBQTJCLGtEQUFRO0FBQ25DLDJCQUEyQixrREFBUTtBQUNuQyx5QkFBeUIsa0RBQVE7QUFDakMsOEJBQThCLGtEQUFRO0FBQ3RDLGtDQUFrQyxrREFBUTtBQUMxQyxtQkFBbUIsa0RBQVE7QUFDM0Isb0JBQW9CLGtEQUFRO0FBQzVCLHFCQUFxQixrREFBUTtBQUM3QixvQkFBb0Isa0RBQVE7QUFDNUIsMEJBQTBCLGtEQUFROztBQUVsQzs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixrREFBUTtBQUN2Qyw2QkFBNkIsa0RBQVE7QUFDckMsK0JBQStCLGtEQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrREFBUTs7QUFFNUM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxnQ0FBZ0Msa0RBQVE7QUFDeEMsOEJBQThCLGtEQUFRO0FBQ3RDLDBCQUEwQixrREFBUTtBQUNsQyxpQ0FBaUMsa0RBQVE7QUFDekMsaUNBQWlDLGtEQUFRO0FBQ3pDLGdDQUFnQyxrREFBUTtBQUN4QywyQkFBMkIsa0RBQVE7QUFDbkMsaUNBQWlDLGtEQUFRO0FBQ3pDLGlDQUFpQyxrREFBUTtBQUN6QyxnQ0FBZ0Msa0RBQVE7QUFDeEMsNEJBQTRCLGtEQUFRO0FBQ3BDLG1DQUFtQyxrREFBUTs7QUFFM0M7O0FBRUEsMkJBQTJCLGtEQUFRO0FBQ25DLGdDQUFnQyxrREFBUTtBQUN4Qyw4QkFBOEIsa0RBQVE7QUFDdEMsMkJBQTJCLGtEQUFRO0FBQ25DLDhCQUE4QixrREFBUTtBQUN0Qyw2QkFBNkIsa0RBQVE7QUFDckMsMkJBQTJCLGtEQUFROztBQUVuQzs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLHNCQUFzQixrREFBUTtBQUM5QiwrQkFBK0Isa0RBQVE7QUFDdkMsNEJBQTRCLGtEQUFRO0FBQ3BDLGlDQUFpQyxrREFBUTtBQUN6Qyx3QkFBd0Isa0RBQVE7QUFDaEMsNkJBQTZCLGtEQUFROztBQUVyQzs7QUFFQSxlQUFlLGtEQUFRLFdBQVcsa0RBQVE7QUFDMUMsZUFBZSxrREFBUSxVQUFVLGtEQUFRO0FBQ3pDLGVBQWUsa0RBQVEsV0FBVyxrREFBUTtBQUMxQyxlQUFlLGtEQUFRLGNBQWMsa0RBQVE7QUFDN0MsZUFBZSxrREFBUSxXQUFXLGtEQUFRO0FBQzFDLGVBQWUsa0RBQVEsWUFBWSxrREFBUTtBQUMzQyxlQUFlLGtEQUFRLFdBQVcsa0RBQVE7QUFDMUMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFRO0FBQ3RDLGVBQWUsa0RBQVEsT0FBTyxrREFBUTtBQUN0QyxlQUFlLGtEQUFRLE9BQU8sa0RBQVE7QUFDdEMsZUFBZSxrREFBUSxPQUFPLGtEQUFROztBQUV2QiwwRUFBVyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDclQzQjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlOztBQUVmOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QSxRQUFRLHNEQUFTO0FBQ2pCLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7OztBQ3pUQTtBQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7OztBQ3JtQkY7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUMvcUJGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBDO0FBQ1M7QUFDd0I7O0FBRTNFLG9CQUFvQjtBQUNwQiw0QkFBNEI7QUFDNUI7O0FBRWU7QUFDZjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGlDQUFpQztBQUNqQywrQkFBK0I7O0FBRS9COztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7O0FBRUEsUUFBUSxzREFBUztBQUNqQjtBQUNBOztBQUVBLFFBQVEsaUVBQVM7QUFDakIsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFVO0FBQ3RCOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLGlFQUFTO0FBQ2pCLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBUztBQUNqQixLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlFQUFTO0FBQ3JCO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsWUFBWSx1RUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBLFlBQVksOERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQSxZQUFZLDhEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDdlJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW1DO0FBQ0U7QUFDTjtBQUNRO0FBQ0k7QUFDRzs7QUFFOUM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscURBQXFELGlEQUFLO0FBQzFELG1CQUFtQixpREFBSzs7QUFFeEI7QUFDQSxZQUFZLHNEQUFhO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxxREFBWSxPQUFPLHVEQUFjO0FBQ3pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFTO0FBQ3pCLGVBQWUscURBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLHVEQUFXO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLHVEQUFXO0FBQzFCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLHFEQUFPO0FBQ3RCOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN0S0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7Ozs7Ozs7Ozs7Ozs7QUNuSEY7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7Ozs7Ozs7Ozs7O0FDMUtGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QztBQUNNO0FBQ3VCO0FBQ2pCO0FBQ2xCO0FBQ1E7QUFDTjtBQUNGO0FBQ1I7QUFDYztBQUNPO0FBQ1g7QUFDb0I7QUFDN0I7O0FBRTVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZTtB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QSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxFQUFFOztBQUUxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHFDQUFxQyx1QkFBdUI7QUFDNUQ7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3VEE7QUFBQTtBQUFxQjs7O0FBR3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0NBQXdDO0FBQ3hFO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyx1QkFBdUI7QUFDMUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZUFBZTtBQUN0QztBQUNBOzs7QUFHQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2UEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFnQztBQUNRO0FBQ0Q7QUFDeUI7QUFDcEI7OztBQUc1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdlO0FBQ2Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsMEJBQTBCLDJFQUFnQjs7QUFFMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsbUJBQW1CLCtDQUErQzs7QUFFbEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFD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YnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9pbmRleC5qc1wiKTtcbiIsImltcG9ydCBDQnJvd3NlciBmcm9tICcuL3NyYy9icm93c2VyJ1xuXG5leHBvcnQgZnVuY3Rpb24gSW5pdEJyb3dzZXJEZWZhdWx0KHJlcWlkLCBvcHRzKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwiY29tcGxldGVcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgLy8gaWYgaW4gaWZyYW1lLCBub3RpZnkgcGFyZW50IG9mIHJlcWlkXG4gICAgaWYgKHdpbmRvdyAhPSB3aW5kb3cucGFyZW50ICYmICFvcHRzLm5vTm90aWZ5UGFyZW50KSB7XG4gICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHtcInR5cGVcIjogXCJyZXFpZFwiLCBcInJlcWlkXCI6IHJlcWlkfSwgXCIqXCIpO1xuICAgIH1cblxuICAgIGlmICghb3B0cy5vbl9jb3VudGRvd24pIHtcbiAgICAgIG9wdHMub25fY291bnRkb3duID0gZnVuY3Rpb24oc2Vjb25kcywgY291bnRkb3duX3RleHQpIHtcbiAgICAgICAgdmFyIHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdW50ZG93blwiKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICB0ZXh0LmlubmVyVGV4dCA9IGNvdW50ZG93bl90ZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzLm9uX2V2ZW50KSB7XG4gICAgICBvcHRzLm9uX2V2ZW50ID0gZnVuY3Rpb24odHlwZSwgZGF0YSkge1xuICAgICAgICBpZiAodHlwZSA9PSBcImZhaWxcIiB8fCB0eXBlID09IFwiZXhwaXJlXCIpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5wcm94eV93cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5wb3J0KSB7XG4gICAgICAgIG9wdHMucHJveHlfd3MgPSBcIl93ZWJzb2NraWZ5P3BvcnQ9XCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXVkaW8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0cy5hdWRpbyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZmlsbF93aW5kb3cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0cy5maWxsX3dpbmRvdyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5hY3RpdmVTZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdHMuaW5hY3RpdmVTZWNzID0gMTA7XG4gICAgfVxuXG4gICAgdmFyIGlkID0gb3B0cy5pZCB8fCBcIiNicm93c2VyXCI7XG5cbiAgICByZXR1cm4gbmV3IENCcm93c2VyKHJlcWlkLCBpZCwgb3B0cyk7XG4gIH0pO1xufVxuXG5cblxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLy8gRnJvbTogaHR0cDovL2hnLm1vemlsbGEub3JnL21vemlsbGEtY2VudHJhbC9yYXctZmlsZS9lYzEwNjMwYjFhNTQvanMvc3JjL2RldnRvb2xzL2ppbnQvc3Vuc3BpZGVyL3N0cmluZy1iYXNlNjQuanNcblxuaW1wb3J0ICogYXMgTG9nIGZyb20gJy4vdXRpbC9sb2dnaW5nLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qIENvbnZlcnQgZGF0YSAoYW4gYXJyYXkgb2YgaW50ZWdlcnMpIHRvIGEgQmFzZTY0IHN0cmluZy4gKi9cbiAgICB0b0Jhc2U2NFRhYmxlIDogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89Jy5zcGxpdCgnJyksXG4gICAgYmFzZTY0UGFkICAgICA6ICc9JyxcblxuICAgIGVuY29kZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIHRvQmFzZTY0VGFibGUgPSB0aGlzLnRvQmFzZTY0VGFibGU7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxlbmd0aHBhZCA9IChsZW5ndGggJSAzKTtcbiAgICAgICAgLy8gQ29udmVydCBldmVyeSB0aHJlZSBieXRlcyB0byA0IGFzY2lpIGNoYXJhY3RlcnMuXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAobGVuZ3RoIC0gMik7IGkgKz0gMykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbZGF0YVtpXSA+PiAyXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWygoZGF0YVtpXSAmIDB4MDMpIDw8IDQpICsgKGRhdGFbaSArIDFdID4+IDQpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWygoZGF0YVtpICsgMV0gJiAweDBmKSA8PCAyKSArIChkYXRhW2kgKyAyXSA+PiA2KV07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVtkYXRhW2kgKyAyXSAmIDB4M2ZdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVtYWluaW5nIDEgb3IgMiBieXRlcywgcGFkIG91dCB0byA0IGNoYXJhY3RlcnMuXG4gICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgaWYgKGxlbmd0aHBhZCA9PT0gMikge1xuICAgICAgICAgICAgaiA9IGxlbmd0aCAtIGxlbmd0aHBhZDtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlW2RhdGFbal0gPj4gMl07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVsoKGRhdGFbal0gJiAweDAzKSA8PCA0KSArIChkYXRhW2ogKyAxXSA+PiA0KV07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVsoZGF0YVtqICsgMV0gJiAweDBmKSA8PCAyXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWzY0XTtcbiAgICAgICAgfSBlbHNlIGlmIChsZW5ndGhwYWQgPT09IDEpIHtcbiAgICAgICAgICAgIGogPSBsZW5ndGggLSBsZW5ndGhwYWQ7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9CYXNlNjRUYWJsZVtkYXRhW2pdID4+IDJdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvQmFzZTY0VGFibGVbKGRhdGFbal0gJiAweDAzKSA8PCA0XTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWzY0XTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0Jhc2U2NFRhYmxlWzY0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qIENvbnZlcnQgQmFzZTY0IGRhdGEgdG8gYSBzdHJpbmcgKi9cbiAgICB0b0JpbmFyeVRhYmxlIDogW1xuICAgICAgICAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSxcbiAgICAgICAgLTEsLTEsLTEsLTEsIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsLTEsXG4gICAgICAgIC0xLC0xLC0xLC0xLCAtMSwtMSwtMSwtMSwgLTEsLTEsLTEsNjIsIC0xLC0xLC0xLDYzLFxuICAgICAgICA1Miw1Myw1NCw1NSwgNTYsNTcsNTgsNTksIDYwLDYxLC0xLC0xLCAtMSwgMCwtMSwtMSxcbiAgICAgICAgLTEsIDAsIDEsIDIsICAzLCA0LCA1LCA2LCAgNywgOCwgOSwxMCwgMTEsMTIsMTMsMTQsXG4gICAgICAgIDE1LDE2LDE3LDE4LCAxOSwyMCwyMSwyMiwgMjMsMjQsMjUsLTEsIC0xLC0xLC0xLC0xLFxuICAgICAgICAtMSwyNiwyNywyOCwgMjksMzAsMzEsMzIsIDMzLDM0LDM1LDM2LCAzNywzOCwzOSw0MCxcbiAgICAgICAgNDEsNDIsNDMsNDQsIDQ1LDQ2LDQ3LDQ4LCA0OSw1MCw1MSwtMSwgLTEsLTEsLTEsLTFcbiAgICBdLFxuXG4gICAgZGVjb2RlOiBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICBvZmZzZXQgPSB0eXBlb2Yob2Zmc2V0KSAhPT0gJ3VuZGVmaW5lZCcgPyBvZmZzZXQgOiAwO1xuICAgICAgICB2YXIgdG9CaW5hcnlUYWJsZSA9IHRoaXMudG9CaW5hcnlUYWJsZTtcbiAgICAgICAgdmFyIGJhc2U2NFBhZCA9IHRoaXMuYmFzZTY0UGFkO1xuICAgICAgICB2YXIgcmVzdWx0LCByZXN1bHRfbGVuZ3RoO1xuICAgICAgICB2YXIgbGVmdGJpdHMgPSAwOyAvLyBudW1iZXIgb2YgYml0cyBkZWNvZGVkLCBidXQgeWV0IHRvIGJlIGFwcGVuZGVkXG4gICAgICAgIHZhciBsZWZ0ZGF0YSA9IDA7IC8vIGJpdHMgZGVjb2RlZCwgYnV0IHlldCB0byBiZSBhcHBlbmRlZFxuICAgICAgICB2YXIgZGF0YV9sZW5ndGggPSBkYXRhLmluZGV4T2YoJz0nKSAtIG9mZnNldDtcblxuICAgICAgICBpZiAoZGF0YV9sZW5ndGggPCAwKSB7IGRhdGFfbGVuZ3RoID0gZGF0YS5sZW5ndGggLSBvZmZzZXQ7IH1cblxuICAgICAgICAvKiBFdmVyeSBmb3VyIGNoYXJhY3RlcnMgaXMgMyByZXN1bHRpbmcgbnVtYmVycyAqL1xuICAgICAgICByZXN1bHRfbGVuZ3RoID0gKGRhdGFfbGVuZ3RoID4+IDIpICogMyArIE1hdGguZmxvb3IoKGRhdGFfbGVuZ3RoICUgNCkgLyAxLjUpO1xuICAgICAgICByZXN1bHQgPSBuZXcgQXJyYXkocmVzdWx0X2xlbmd0aCk7XG5cbiAgICAgICAgLy8gQ29udmVydCBvbmUgYnkgb25lLlxuICAgICAgICBmb3IgKHZhciBpZHggPSAwLCBpID0gb2Zmc2V0OyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGMgPSB0b0JpbmFyeVRhYmxlW2RhdGEuY2hhckNvZGVBdChpKSAmIDB4N2ZdO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSAoZGF0YS5jaGFyQXQoaSkgPT09IGJhc2U2NFBhZCk7XG4gICAgICAgICAgICAvLyBTa2lwIGlsbGVnYWwgY2hhcmFjdGVycyBhbmQgd2hpdGVzcGFjZVxuICAgICAgICAgICAgaWYgKGMgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgY29kZSBcIiArIGRhdGEuY2hhckNvZGVBdChpKSArIFwiIGF0IHBvc2l0aW9uIFwiICsgaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbGxlY3QgZGF0YSBpbnRvIGxlZnRkYXRhLCB1cGRhdGUgYml0Y291bnRcbiAgICAgICAgICAgIGxlZnRkYXRhID0gKGxlZnRkYXRhIDw8IDYpIHwgYztcbiAgICAgICAgICAgIGxlZnRiaXRzICs9IDY7XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgOCBvciBtb3JlIGJpdHMsIGFwcGVuZCA4IGJpdHMgdG8gdGhlIHJlc3VsdFxuICAgICAgICAgICAgaWYgKGxlZnRiaXRzID49IDgpIHtcbiAgICAgICAgICAgICAgICBsZWZ0Yml0cyAtPSA4O1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBpZiBub3QgcGFkZGluZy5cbiAgICAgICAgICAgICAgICBpZiAoIXBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2lkeCsrXSA9IChsZWZ0ZGF0YSA+PiBsZWZ0Yml0cykgJiAweGZmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZWZ0ZGF0YSAmPSAoMSA8PCBsZWZ0Yml0cykgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBiaXRzIGxlZnQsIHRoZSBiYXNlNjQgc3RyaW5nIHdhcyBjb3JydXB0ZWRcbiAgICAgICAgaWYgKGxlZnRiaXRzKSB7XG4gICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ0NvcnJ1cHRlZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdCYXNlNjQtRXJyb3InO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59OyAvKiBFbmQgb2YgQmFzZTY0IG5hbWVzcGFjZSAqL1xuIiwiLypcbiAqIFBvcnRlZCBmcm9tIEZsYXNobGlnaHQgVk5DIEFjdGlvblNjcmlwdCBpbXBsZW1lbnRhdGlvbjpcbiAqICAgICBodHRwOi8vd3d3LndpemhlbHAuY29tL2ZsYXNobGlnaHQtdm5jL1xuICpcbiAqIEZ1bGwgYXR0cmlidXRpb24gZm9sbG93czpcbiAqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogVGhpcyBERVMgY2xhc3MgaGFzIGJlZW4gZXh0cmFjdGVkIGZyb20gcGFja2FnZSBBY21lLkNyeXB0byBmb3IgdXNlIGluIFZOQy5cbiAqIFRoZSB1bm5lY2Vzc2FyeSBvZGQgcGFyaXR5IGNvZGUgaGFzIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBUaGVzZSBjaGFuZ2VzIGFyZTpcbiAqICBDb3B5cmlnaHQgKEMpIDE5OTkgQVQmVCBMYWJvcmF0b3JpZXMgQ2FtYnJpZGdlLiAgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLlxuICpcblxuICogRGVzQ2lwaGVyIC0gdGhlIERFUyBlbmNyeXB0aW9uIG1ldGhvZFxuICpcbiAqIFRoZSBtZWF0IG9mIHRoaXMgY29kZSBpcyBieSBEYXZlIFppbW1lcm1hbiA8ZHppbW1Ad2lkZ2V0LmNvbT4sIGFuZCBpczpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDE5OTYgV2lkZ2V0IFdvcmtzaG9wLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZVxuICogYW5kIGl0cyBkb2N1bWVudGF0aW9uIGZvciBOT04tQ09NTUVSQ0lBTCBvciBDT01NRVJDSUFMIHB1cnBvc2VzIGFuZFxuICogd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQsIHByb3ZpZGVkIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIGlzIGtlcHRcbiAqIGludGFjdC5cbiAqXG4gKiBXSURHRVQgV09SS1NIT1AgTUFLRVMgTk8gUkVQUkVTRU5UQVRJT05TIE9SIFdBUlJBTlRJRVMgQUJPVVQgVEhFIFNVSVRBQklMSVRZXG4gKiBPRiBUSEUgU09GVFdBUkUsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURURcbiAqIFRPIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBXG4gKiBQQVJUSUNVTEFSIFBVUlBPU0UsIE9SIE5PTi1JTkZSSU5HRU1FTlQuIFdJREdFVCBXT1JLU0hPUCBTSEFMTCBOT1QgQkUgTElBQkxFXG4gKiBGT1IgQU5ZIERBTUFHRVMgU1VGRkVSRUQgQlkgTElDRU5TRUUgQVMgQSBSRVNVTFQgT0YgVVNJTkcsIE1PRElGWUlORyBPUlxuICogRElTVFJJQlVUSU5HIFRISVMgU09GVFdBUkUgT1IgSVRTIERFUklWQVRJVkVTLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgTk9UIERFU0lHTkVEIE9SIElOVEVOREVEIEZPUiBVU0UgT1IgUkVTQUxFIEFTIE9OLUxJTkVcbiAqIENPTlRST0wgRVFVSVBNRU5UIElOIEhBWkFSRE9VUyBFTlZJUk9OTUVOVFMgUkVRVUlSSU5HIEZBSUwtU0FGRVxuICogUEVSRk9STUFOQ0UsIFNVQ0ggQVMgSU4gVEhFIE9QRVJBVElPTiBPRiBOVUNMRUFSIEZBQ0lMSVRJRVMsIEFJUkNSQUZUXG4gKiBOQVZJR0FUSU9OIE9SIENPTU1VTklDQVRJT04gU1lTVEVNUywgQUlSIFRSQUZGSUMgQ09OVFJPTCwgRElSRUNUIExJRkVcbiAqIFNVUFBPUlQgTUFDSElORVMsIE9SIFdFQVBPTlMgU1lTVEVNUywgSU4gV0hJQ0ggVEhFIEZBSUxVUkUgT0YgVEhFXG4gKiBTT0ZUV0FSRSBDT1VMRCBMRUFEIERJUkVDVExZIFRPIERFQVRILCBQRVJTT05BTCBJTkpVUlksIE9SIFNFVkVSRVxuICogUEhZU0lDQUwgT1IgRU5WSVJPTk1FTlRBTCBEQU1BR0UgKFwiSElHSCBSSVNLIEFDVElWSVRJRVNcIikuICBXSURHRVQgV09SS1NIT1BcbiAqIFNQRUNJRklDQUxMWSBESVNDTEFJTVMgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5UWSBPRiBGSVRORVNTIEZPUlxuICogSElHSCBSSVNLIEFDVElWSVRJRVMuXG4gKlxuICpcbiAqIFRoZSByZXN0IGlzOlxuICpcbiAqIENvcHlyaWdodCAoQykgMTk5NiBieSBKZWYgUG9za2FuemVyIDxqZWZAYWNtZS5jb20+LiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuICogYXJlIG1ldDpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBBVVRIT1IgQU5EIENPTlRSSUJVVE9SUyBgYEFTIElTJycgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4gKiBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRVxuICogRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcbiAqIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTXG4gKiBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTilcbiAqIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUXG4gKiBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZXG4gKiBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GXG4gKiBTVUNIIERBTUFHRS5cbiAqXG4gKiBWaXNpdCB0aGUgQUNNRSBMYWJzIEphdmEgcGFnZSBmb3IgdXAtdG8tZGF0ZSB2ZXJzaW9ucyBvZiB0aGlzIGFuZCBvdGhlclxuICogZmluZSBKYXZhIHV0aWxpdGllczogaHR0cDovL3d3dy5hY21lLmNvbS9qYXZhL1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERFUyhwYXNzd2QpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIFRhYmxlcywgcGVybXV0YXRpb25zLCBTLWJveGVzLCBldGMuXG4gICAgdmFyIFBDMiA9IFsxMywxNiwxMCwyMywgMCwgNCwgMiwyNywxNCwgNSwyMCwgOSwyMiwxOCwxMSwgMyxcbiAgICAgICAgICAgICAgIDI1LCA3LDE1LCA2LDI2LDE5LDEyLCAxLDQwLDUxLDMwLDM2LDQ2LDU0LDI5LDM5LFxuICAgICAgICAgICAgICAgNTAsNDQsMzIsNDcsNDMsNDgsMzgsNTUsMzMsNTIsNDUsNDEsNDksMzUsMjgsMzEgXSxcbiAgICAgICAgdG90cm90ID0gWyAxLCAyLCA0LCA2LCA4LDEwLDEyLDE0LDE1LDE3LDE5LDIxLDIzLDI1LDI3LDI4XSxcbiAgICAgICAgeiA9IDB4MCwgYSxiLGMsZCxlLGYsIFNQMSxTUDIsU1AzLFNQNCxTUDUsU1A2LFNQNyxTUDgsXG4gICAgICAgIGtleXMgPSBbXTtcblxuICAgIGE9MTw8MTY7IGI9MTw8MjQ7IGM9YXxiOyBkPTE8PDI7IGU9MTw8MTA7IGY9ZHxlO1xuICAgIFNQMSA9IFtjfGUsenx6LGF8eixjfGYsY3xkLGF8Zix6fGQsYXx6LHp8ZSxjfGUsY3xmLHp8ZSxifGYsY3xkLGJ8eix6fGQsXG4gICAgICAgICAgIHp8ZixifGUsYnxlLGF8ZSxhfGUsY3x6LGN8eixifGYsYXxkLGJ8ZCxifGQsYXxkLHp8eix6fGYsYXxmLGJ8eixcbiAgICAgICAgICAgYXx6LGN8Zix6fGQsY3x6LGN8ZSxifHosYnx6LHp8ZSxjfGQsYXx6LGF8ZSxifGQsenxlLHp8ZCxifGYsYXxmLFxuICAgICAgICAgICBjfGYsYXxkLGN8eixifGYsYnxkLHp8ZixhfGYsY3xlLHp8ZixifGUsYnxlLHp8eixhfGQsYXxlLHp8eixjfGRdO1xuICAgIGE9MTw8MjA7IGI9MTw8MzE7IGM9YXxiOyBkPTE8PDU7IGU9MTw8MTU7IGY9ZHxlO1xuICAgIFNQMiA9IFtjfGYsYnxlLHp8ZSxhfGYsYXx6LHp8ZCxjfGQsYnxmLGJ8ZCxjfGYsY3xlLGJ8eixifGUsYXx6LHp8ZCxjfGQsXG4gICAgICAgICAgIGF8ZSxhfGQsYnxmLHp8eixifHosenxlLGF8ZixjfHosYXxkLGJ8ZCx6fHosYXxlLHp8ZixjfGUsY3x6LHp8ZixcbiAgICAgICAgICAgenx6LGF8ZixjfGQsYXx6LGJ8ZixjfHosY3xlLHp8ZSxjfHosYnxlLHp8ZCxjfGYsYXxmLHp8ZCx6fGUsYnx6LFxuICAgICAgICAgICB6fGYsY3xlLGF8eixifGQsYXxkLGJ8ZixifGQsYXxkLGF8ZSx6fHosYnxlLHp8ZixifHosY3xkLGN8ZixhfGVdO1xuICAgIGE9MTw8MTc7IGI9MTw8Mjc7IGM9YXxiOyBkPTE8PDM7IGU9MTw8OTsgZj1kfGU7XG4gICAgU1AzID0gW3p8ZixjfGUsenx6LGN8ZCxifGUsenx6LGF8ZixifGUsYXxkLGJ8ZCxifGQsYXx6LGN8ZixhfGQsY3x6LHp8ZixcbiAgICAgICAgICAgYnx6LHp8ZCxjfGUsenxlLGF8ZSxjfHosY3xkLGF8ZixifGYsYXxlLGF8eixifGYsenxkLGN8Zix6fGUsYnx6LFxuICAgICAgICAgICBjfGUsYnx6LGF8ZCx6fGYsYXx6LGN8ZSxifGUsenx6LHp8ZSxhfGQsY3xmLGJ8ZSxifGQsenxlLHp8eixjfGQsXG4gICAgICAgICAgIGJ8ZixhfHosYnx6LGN8Zix6fGQsYXxmLGF8ZSxifGQsY3x6LGJ8Zix6fGYsY3x6LGF8Zix6fGQsY3xkLGF8ZV07XG4gICAgYT0xPDwxMzsgYj0xPDwyMzsgYz1hfGI7IGQ9MTw8MDsgZT0xPDw3OyBmPWR8ZTtcbiAgICBTUDQgPSBbY3xkLGF8ZixhfGYsenxlLGN8ZSxifGYsYnxkLGF8ZCx6fHosY3x6LGN8eixjfGYsenxmLHp8eixifGUsYnxkLFxuICAgICAgICAgICB6fGQsYXx6LGJ8eixjfGQsenxlLGJ8eixhfGQsYXxlLGJ8Zix6fGQsYXxlLGJ8ZSxhfHosY3xlLGN8Zix6fGYsXG4gICAgICAgICAgIGJ8ZSxifGQsY3x6LGN8Zix6fGYsenx6LHp8eixjfHosYXxlLGJ8ZSxifGYsenxkLGN8ZCxhfGYsYXxmLHp8ZSxcbiAgICAgICAgICAgY3xmLHp8Zix6fGQsYXx6LGJ8ZCxhfGQsY3xlLGJ8ZixhfGQsYXxlLGJ8eixjfGQsenxlLGJ8eixhfHosY3xlXTtcbiAgICBhPTE8PDI1OyBiPTE8PDMwOyBjPWF8YjsgZD0xPDw4OyBlPTE8PDE5OyBmPWR8ZTtcbiAgICBTUDUgPSBbenxkLGF8ZixhfGUsY3xkLHp8ZSx6fGQsYnx6LGF8ZSxifGYsenxlLGF8ZCxifGYsY3xkLGN8ZSx6fGYsYnx6LFxuICAgICAgICAgICBhfHosYnxlLGJ8ZSx6fHosYnxkLGN8ZixjfGYsYXxkLGN8ZSxifGQsenx6LGN8eixhfGYsYXx6LGN8eix6fGYsXG4gICAgICAgICAgIHp8ZSxjfGQsenxkLGF8eixifHosYXxlLGN8ZCxifGYsYXxkLGJ8eixjfGUsYXxmLGJ8Zix6fGQsYXx6LGN8ZSxcbiAgICAgICAgICAgY3xmLHp8ZixjfHosY3xmLGF8ZSx6fHosYnxlLGN8eix6fGYsYXxkLGJ8ZCx6fGUsenx6LGJ8ZSxhfGYsYnxkXTtcbiAgICBhPTE8PDIyOyBiPTE8PDI5OyBjPWF8YjsgZD0xPDw0OyBlPTE8PDE0OyBmPWR8ZTtcbiAgICBTUDYgPSBbYnxkLGN8eix6fGUsY3xmLGN8eix6fGQsY3xmLGF8eixifGUsYXxmLGF8eixifGQsYXxkLGJ8ZSxifHosenxmLFxuICAgICAgICAgICB6fHosYXxkLGJ8Zix6fGUsYXxlLGJ8Zix6fGQsY3xkLGN8ZCx6fHosYXxmLGN8ZSx6fGYsYXxlLGN8ZSxifHosXG4gICAgICAgICAgIGJ8ZSx6fGQsY3xkLGF8ZSxjfGYsYXx6LHp8ZixifGQsYXx6LGJ8ZSxifHosenxmLGJ8ZCxjfGYsYXxlLGN8eixcbiAgICAgICAgICAgYXxmLGN8ZSx6fHosY3xkLHp8ZCx6fGUsY3x6LGF8Zix6fGUsYXxkLGJ8Zix6fHosY3xlLGJ8eixhfGQsYnxmXTtcbiAgICBhPTE8PDIxOyBiPTE8PDI2OyBjPWF8YjsgZD0xPDwxOyBlPTE8PDExOyBmPWR8ZTtcbiAgICBTUDcgPSBbYXx6LGN8ZCxifGYsenx6LHp8ZSxifGYsYXxmLGN8ZSxjfGYsYXx6LHp8eixifGQsenxkLGJ8eixjfGQsenxmLFxuICAgICAgICAgICBifGUsYXxmLGF8ZCxifGUsYnxkLGN8eixjfGUsYXxkLGN8eix6fGUsenxmLGN8ZixhfGUsenxkLGJ8eixhfGUsXG4gICAgICAgICAgIGJ8eixhfGUsYXx6LGJ8ZixifGYsY3xkLGN8ZCx6fGQsYXxkLGJ8eixifGUsYXx6LGN8ZSx6fGYsYXxmLGN8ZSxcbiAgICAgICAgICAgenxmLGJ8ZCxjfGYsY3x6LGF8ZSx6fHosenxkLGN8Zix6fHosYXxmLGN8eix6fGUsYnxkLGJ8ZSx6fGUsYXxkXTtcbiAgICBhPTE8PDE4OyBiPTE8PDI4OyBjPWF8YjsgZD0xPDw2OyBlPTE8PDEyOyBmPWR8ZTtcbiAgICBTUDggPSBbYnxmLHp8ZSxhfHosY3xmLGJ8eixifGYsenxkLGJ8eixhfGQsY3x6LGN8ZixhfGUsY3xlLGF8Zix6fGUsenxkLFxuICAgICAgICAgICBjfHosYnxkLGJ8ZSx6fGYsYXxlLGF8ZCxjfGQsY3xlLHp8Zix6fHosenx6LGN8ZCxifGQsYnxlLGF8ZixhfHosXG4gICAgICAgICAgIGF8ZixhfHosY3xlLHp8ZSx6fGQsY3xkLHp8ZSxhfGYsYnxlLHp8ZCxifGQsY3x6LGN8ZCxifHosYXx6LGJ8ZixcbiAgICAgICAgICAgenx6LGN8ZixhfGQsYnxkLGN8eixifGUsYnxmLHp8eixjfGYsYXxlLGF8ZSx6fGYsenxmLGF8ZCxifHosY3xlXTtcblxuICAgIC8vIFNldCB0aGUga2V5LlxuICAgIGZ1bmN0aW9uIHNldEtleXMoa2V5QmxvY2spIHtcbiAgICAgICAgdmFyIGksIGosIGwsIG0sIG4sIG8sIHBjMW0gPSBbXSwgcGNyID0gW10sIGtuID0gW10sXG4gICAgICAgICAgICByYXcwLCByYXcxLCByYXdpLCBLbkxpO1xuXG4gICAgICAgIGZvciAoaiA9IDAsIGwgPSA1NjsgaiA8IDU2OyArK2osIGwgLT0gOCkge1xuICAgICAgICAgICAgbCArPSBsIDwgLTUgPyA2NSA6IGwgPCAtMyA/IDMxIDogbCA8IC0xID8gNjMgOiBsID09PSAyNyA/IDM1IDogMDsgLy8gUEMxXG4gICAgICAgICAgICBtID0gbCAmIDB4NztcbiAgICAgICAgICAgIHBjMW1bal0gPSAoKGtleUJsb2NrW2wgPj4+IDNdICYgKDE8PG0pKSAhPT0gMCkgPyAxOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgICAgIG0gPSBpIDw8IDE7XG4gICAgICAgICAgICBuID0gbSArIDE7XG4gICAgICAgICAgICBrblttXSA9IGtuW25dID0gMDtcbiAgICAgICAgICAgIGZvciAobyA9IDI4OyBvIDwgNTk7IG8gKz0gMjgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSBvIC0gMjg7IGogPCBvOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGogKyB0b3Ryb3RbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsIDwgbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGNyW2pdID0gcGMxbVtsXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBjcltqXSA9IHBjMW1bbCAtIDI4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCAyNDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBjcltQQzJbal1dICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGtuW21dIHw9IDEgPDwgKDIzIC0gaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwY3JbUEMyW2ogKyAyNF1dICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGtuW25dIHw9IDEgPDwgKDIzIC0gaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29va2V5XG4gICAgICAgIGZvciAoaSA9IDAsIHJhd2kgPSAwLCBLbkxpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgICAgIHJhdzAgPSBrbltyYXdpKytdO1xuICAgICAgICAgICAgcmF3MSA9IGtuW3Jhd2krK107XG4gICAgICAgICAgICBrZXlzW0tuTGldID0gKHJhdzAgJiAweDAwZmMwMDAwKSA8PCA2O1xuICAgICAgICAgICAga2V5c1tLbkxpXSB8PSAocmF3MCAmIDB4MDAwMDBmYzApIDw8IDEwO1xuICAgICAgICAgICAga2V5c1tLbkxpXSB8PSAocmF3MSAmIDB4MDBmYzAwMDApID4+PiAxMDtcbiAgICAgICAgICAgIGtleXNbS25MaV0gfD0gKHJhdzEgJiAweDAwMDAwZmMwKSA+Pj4gNjtcbiAgICAgICAgICAgICsrS25MaTtcbiAgICAgICAgICAgIGtleXNbS25MaV0gPSAocmF3MCAmIDB4MDAwM2YwMDApIDw8IDEyO1xuICAgICAgICAgICAga2V5c1tLbkxpXSB8PSAocmF3MCAmIDB4MDAwMDAwM2YpIDw8IDE2O1xuICAgICAgICAgICAga2V5c1tLbkxpXSB8PSAocmF3MSAmIDB4MDAwM2YwMDApID4+PiA0O1xuICAgICAgICAgICAga2V5c1tLbkxpXSB8PSAocmF3MSAmIDB4MDAwMDAwM2YpO1xuICAgICAgICAgICAgKytLbkxpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5jcnlwdCA4IGJ5dGVzIG9mIHRleHRcbiAgICBmdW5jdGlvbiBlbmM4KHRleHQpIHtcbiAgICAgICAgdmFyIGkgPSAwLCBiID0gdGV4dC5zbGljZSgpLCBmdmFsLCBrZXlzaSA9IDAsXG4gICAgICAgICAgICBsLCByLCB4OyAvLyBsZWZ0LCByaWdodCwgYWNjdW11bGF0b3JcblxuICAgICAgICAvLyBTcXVhc2ggOCBieXRlcyB0byAyIGludHNcbiAgICAgICAgbCA9IGJbaSsrXTw8MjQgfCBiW2krK108PDE2IHwgYltpKytdPDw4IHwgYltpKytdO1xuICAgICAgICByID0gYltpKytdPDwyNCB8IGJbaSsrXTw8MTYgfCBiW2krK108PDggfCBiW2krK107XG5cbiAgICAgICAgeCA9ICgobCA+Pj4gNCkgXiByKSAmIDB4MGYwZjBmMGY7XG4gICAgICAgIHIgXj0geDtcbiAgICAgICAgbCBePSAoeCA8PCA0KTtcbiAgICAgICAgeCA9ICgobCA+Pj4gMTYpIF4gcikgJiAweDAwMDBmZmZmO1xuICAgICAgICByIF49IHg7XG4gICAgICAgIGwgXj0gKHggPDwgMTYpO1xuICAgICAgICB4ID0gKChyID4+PiAyKSBeIGwpICYgMHgzMzMzMzMzMztcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49ICh4IDw8IDIpO1xuICAgICAgICB4ID0gKChyID4+PiA4KSBeIGwpICYgMHgwMGZmMDBmZjtcbiAgICAgICAgbCBePSB4O1xuICAgICAgICByIF49ICh4IDw8IDgpO1xuICAgICAgICByID0gKHIgPDwgMSkgfCAoKHIgPj4+IDMxKSAmIDEpO1xuICAgICAgICB4ID0gKGwgXiByKSAmIDB4YWFhYWFhYWE7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsID0gKGwgPDwgMSkgfCAoKGwgPj4+IDMxKSAmIDEpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA4OyArK2kpIHtcbiAgICAgICAgICAgIHggPSAociA8PCAyOCkgfCAociA+Pj4gNCk7XG4gICAgICAgICAgICB4IF49IGtleXNba2V5c2krK107XG4gICAgICAgICAgICBmdmFsID0gIFNQN1t4ICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNVsoeCA+Pj4gOCkgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AzWyh4ID4+PiAxNikgJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1AxWyh4ID4+PiAyNCkgJiAweDNmXTtcbiAgICAgICAgICAgIHggPSByIF4ga2V5c1trZXlzaSsrXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A4W3ggJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A2Wyh4ID4+PiA4KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDRbKHggPj4+IDE2KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDJbKHggPj4+IDI0KSAmIDB4M2ZdO1xuICAgICAgICAgICAgbCBePSBmdmFsO1xuICAgICAgICAgICAgeCA9IChsIDw8IDI4KSB8IChsID4+PiA0KTtcbiAgICAgICAgICAgIHggXj0ga2V5c1trZXlzaSsrXTtcbiAgICAgICAgICAgIGZ2YWwgPSAgU1A3W3ggJiAweDNmXTtcbiAgICAgICAgICAgIGZ2YWwgfD0gU1A1Wyh4ID4+PiA4KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDNbKHggPj4+IDE2KSAmIDB4M2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDFbKHggPj4+IDI0KSAmIDB4M2ZdO1xuICAgICAgICAgICAgeCA9IGwgXiBrZXlzW2tleXNpKytdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDhbeCAmIDB4MDAwMDAwM2ZdO1xuICAgICAgICAgICAgZnZhbCB8PSBTUDZbKHggPj4+IDgpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQNFsoeCA+Pj4gMTYpICYgMHgzZl07XG4gICAgICAgICAgICBmdmFsIHw9IFNQMlsoeCA+Pj4gMjQpICYgMHgzZl07XG4gICAgICAgICAgICByIF49IGZ2YWw7XG4gICAgICAgIH1cblxuICAgICAgICByID0gKHIgPDwgMzEpIHwgKHIgPj4+IDEpO1xuICAgICAgICB4ID0gKGwgXiByKSAmIDB4YWFhYWFhYWE7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsID0gKGwgPDwgMzEpIHwgKGwgPj4+IDEpO1xuICAgICAgICB4ID0gKChsID4+PiA4KSBeIHIpICYgMHgwMGZmMDBmZjtcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsIF49ICh4IDw8IDgpO1xuICAgICAgICB4ID0gKChsID4+PiAyKSBeIHIpICYgMHgzMzMzMzMzMztcbiAgICAgICAgciBePSB4O1xuICAgICAgICBsIF49ICh4IDw8IDIpO1xuICAgICAgICB4ID0gKChyID4+PiAxNikgXiBsKSAmIDB4MDAwMGZmZmY7XG4gICAgICAgIGwgXj0geDtcbiAgICAgICAgciBePSAoeCA8PCAxNik7XG4gICAgICAgIHggPSAoKHIgPj4+IDQpIF4gbCkgJiAweDBmMGYwZjBmO1xuICAgICAgICBsIF49IHg7XG4gICAgICAgIHIgXj0gKHggPDwgNCk7XG5cbiAgICAgICAgLy8gU3ByZWFkIGludHMgdG8gYnl0ZXNcbiAgICAgICAgeCA9IFtyLCBsXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgYltpXSA9ICh4W2k+Pj4yXSA+Pj4gKDggKiAoMyAtIChpICUgNCkpKSkgJSAyNTY7XG4gICAgICAgICAgICBpZiAoYltpXSA8IDApIHsgYltpXSArPSAyNTY7IH0gLy8gdW5zaWduZWRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG5cbiAgICAvLyBFbmNyeXB0IDE2IGJ5dGVzIG9mIHRleHQgdXNpbmcgcGFzc3dkIGFzIGtleVxuICAgIGZ1bmN0aW9uIGVuY3J5cHQodCkge1xuICAgICAgICByZXR1cm4gZW5jOCh0LnNsaWNlKDAsIDgpKS5jb25jYXQoZW5jOCh0LnNsaWNlKDgsIDE2KSkpO1xuICAgIH1cblxuICAgIHNldEtleXMocGFzc3dkKTsgICAgICAgICAgICAgLy8gU2V0dXAga2V5c1xuICAgIHJldHVybiB7J2VuY3J5cHQnOiBlbmNyeXB0fTsgLy8gUHVibGljIGludGVyZmFjZVxuXG59OyAvLyBmdW5jdGlvbiBERVNcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTUgU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuL3V0aWwvbG9nZ2luZy5qcyc7XG5pbXBvcnQgQmFzZTY0IGZyb20gXCIuL2Jhc2U2NC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXNwbGF5KHRhcmdldCkge1xuICAgIHRoaXMuX2RyYXdDdHggPSBudWxsO1xuICAgIHRoaXMuX2NfZm9yY2VDYW52YXMgPSBmYWxzZTtcblxuICAgIHRoaXMuX3JlbmRlclEgPSBbXTsgIC8vIHF1ZXVlIGRyYXdpbmcgYWN0aW9ucyBmb3IgaW4tb2RlciByZW5kZXJpbmdcbiAgICB0aGlzLl9mbHVzaGluZyA9IGZhbHNlO1xuXG4gICAgLy8gdGhlIGZ1bGwgZnJhbWUgYnVmZmVyIChsb2dpY2FsIGNhbnZhcykgc2l6ZVxuICAgIHRoaXMuX2ZiX3dpZHRoID0gMDtcbiAgICB0aGlzLl9mYl9oZWlnaHQgPSAwO1xuXG4gICAgdGhpcy5fcHJldkRyYXdTdHlsZSA9IFwiXCI7XG4gICAgdGhpcy5fdGlsZSA9IG51bGw7XG4gICAgdGhpcy5fdGlsZTE2eDE2ID0gbnVsbDtcbiAgICB0aGlzLl90aWxlX3ggPSAwO1xuICAgIHRoaXMuX3RpbGVfeSA9IDA7XG5cbiAgICBMb2cuRGVidWcoXCI+PiBEaXNwbGF5LmNvbnN0cnVjdG9yXCIpO1xuXG4gICAgLy8gVGhlIHZpc2libGUgY2FudmFzXG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl90YXJnZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IG11c3QgYmUgc2V0XCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5fdGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGEgRE9NIGVsZW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3RhcmdldC5nZXRDb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIGdldENvbnRleHQgbWV0aG9kXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3RhcmdldEN0eCA9IHRoaXMuX3RhcmdldC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgLy8gdGhlIHZpc2libGUgY2FudmFzIHZpZXdwb3J0IChpLmUuIHdoYXQgYWN0dWFsbHkgZ2V0cyBzZWVuKVxuICAgIHRoaXMuX3ZpZXdwb3J0TG9jID0geyAneCc6IDAsICd5JzogMCwgJ3cnOiB0aGlzLl90YXJnZXQud2lkdGgsICdoJzogdGhpcy5fdGFyZ2V0LmhlaWdodCB9O1xuXG4gICAgLy8gVGhlIGhpZGRlbiBjYW52YXMsIHdoZXJlIHdlIGRvIHRoZSBhY3R1YWwgcmVuZGVyaW5nXG4gICAgdGhpcy5fYmFja2J1ZmZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuX2RyYXdDdHggPSB0aGlzLl9iYWNrYnVmZmVyLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB0aGlzLl9kYW1hZ2VCb3VuZHMgPSB7IGxlZnQ6MCwgdG9wOjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogdGhpcy5fYmFja2J1ZmZlci53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogdGhpcy5fYmFja2J1ZmZlci5oZWlnaHQgfTtcblxuICAgIExvZy5EZWJ1ZyhcIlVzZXIgQWdlbnQ6IFwiICsgbmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAvLyBDaGVjayBjYW52YXMgZmVhdHVyZXNcbiAgICBpZiAoISgnY3JlYXRlSW1hZ2VEYXRhJyBpbiB0aGlzLl9kcmF3Q3R4KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgZG9lcyBub3Qgc3VwcG9ydCBjcmVhdGVJbWFnZURhdGFcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fdGlsZTE2eDE2ID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEoMTYsIDE2KTtcbiAgICBMb2cuRGVidWcoXCI8PCBEaXNwbGF5LmNvbnN0cnVjdG9yXCIpO1xufTtcblxudmFyIFNVUFBPUlRTX0lNQUdFREFUQV9DT05TVFJVQ1RPUiA9IGZhbHNlO1xudHJ5IHtcbiAgICBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheSg0KSwgMSwgMSk7XG4gICAgU1VQUE9SVFNfSU1BR0VEQVRBX0NPTlNUUlVDVE9SID0gdHJ1ZTtcbn0gY2F0Y2ggKGV4KSB7XG4gICAgLy8gaWdub3JlIGZhaWx1cmVcbn1cblxuRGlzcGxheS5wcm90b3R5cGUgPSB7XG4gICAgLy8gPT09PT0gUFJPUEVSVElFUyA9PT09PVxuXG4gICAgX3NjYWxlOiAxLjAsXG4gICAgZ2V0IHNjYWxlKCkgeyByZXR1cm4gdGhpcy5fc2NhbGU7IH0sXG4gICAgc2V0IHNjYWxlKHNjYWxlKSB7XG4gICAgICAgIHRoaXMuX3Jlc2NhbGUoc2NhbGUpO1xuICAgIH0sXG5cbiAgICBfY2xpcFZpZXdwb3J0OiBmYWxzZSxcbiAgICBnZXQgY2xpcFZpZXdwb3J0KCkgeyByZXR1cm4gdGhpcy5fY2xpcFZpZXdwb3J0OyB9LFxuICAgIHNldCBjbGlwVmlld3BvcnQodmlld3BvcnQpIHtcbiAgICAgICAgdGhpcy5fY2xpcFZpZXdwb3J0ID0gdmlld3BvcnQ7XG4gICAgICAgIC8vIE1heSBuZWVkIHRvIHJlYWRqdXN0IHRoZSB2aWV3cG9ydCBkaW1lbnNpb25zXG4gICAgICAgIHZhciB2cCA9IHRoaXMuX3ZpZXdwb3J0TG9jO1xuICAgICAgICB0aGlzLnZpZXdwb3J0Q2hhbmdlU2l6ZSh2cC53LCB2cC5oKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydENoYW5nZVBvcygwLCAwKTtcbiAgICB9LFxuXG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmJfd2lkdGg7XG4gICAgfSxcbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmJfaGVpZ2h0O1xuICAgIH0sXG5cbiAgICBsb2dvOiBudWxsLFxuXG4gICAgLy8gPT09PT0gRVZFTlQgSEFORExFUlMgPT09PT1cblxuICAgIG9uZmx1c2g6IGZ1bmN0aW9uICgpIHt9LCAgICAgICAgLy8gQSBmbHVzaCByZXF1ZXN0IGhhcyBmaW5pc2hlZFxuXG4gICAgLy8gPT09PT0gUFVCTElDIE1FVEhPRFMgPT09PT1cblxuICAgIHZpZXdwb3J0Q2hhbmdlUG9zOiBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgdmFyIHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG4gICAgICAgIGRlbHRhWCA9IE1hdGguZmxvb3IoZGVsdGFYKTtcbiAgICAgICAgZGVsdGFZID0gTWF0aC5mbG9vcihkZWx0YVkpO1xuXG4gICAgICAgIGlmICghdGhpcy5fY2xpcFZpZXdwb3J0KSB7XG4gICAgICAgICAgICBkZWx0YVggPSAtdnAudzsgIC8vIGNsYW1wZWQgbGF0ZXIgb2Ygb3V0IG9mIGJvdW5kc1xuICAgICAgICAgICAgZGVsdGFZID0gLXZwLmg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdngyID0gdnAueCArIHZwLncgLSAxO1xuICAgICAgICB2YXIgdnkyID0gdnAueSArIHZwLmggLSAxO1xuXG4gICAgICAgIC8vIFBvc2l0aW9uIGNoYW5nZVxuXG4gICAgICAgIGlmIChkZWx0YVggPCAwICYmIHZwLnggKyBkZWx0YVggPCAwKSB7XG4gICAgICAgICAgICBkZWx0YVggPSAtdnAueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodngyICsgZGVsdGFYID49IHRoaXMuX2ZiX3dpZHRoKSB7XG4gICAgICAgICAgICBkZWx0YVggLT0gdngyICsgZGVsdGFYIC0gdGhpcy5fZmJfd2lkdGggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZwLnkgKyBkZWx0YVkgPCAwKSB7XG4gICAgICAgICAgICBkZWx0YVkgPSAtdnAueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodnkyICsgZGVsdGFZID49IHRoaXMuX2ZiX2hlaWdodCkge1xuICAgICAgICAgICAgZGVsdGFZIC09ICh2eTIgKyBkZWx0YVkgLSB0aGlzLl9mYl9oZWlnaHQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWx0YVggPT09IDAgJiYgZGVsdGFZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTG9nLkRlYnVnKFwidmlld3BvcnRDaGFuZ2UgZGVsdGFYOiBcIiArIGRlbHRhWCArIFwiLCBkZWx0YVk6IFwiICsgZGVsdGFZKTtcblxuICAgICAgICB2cC54ICs9IGRlbHRhWDtcbiAgICAgICAgdnAueSArPSBkZWx0YVk7XG5cbiAgICAgICAgdGhpcy5fZGFtYWdlKHZwLngsIHZwLnksIHZwLncsIHZwLmgpO1xuXG4gICAgICAgIHRoaXMuZmxpcCgpO1xuICAgIH0sXG5cbiAgICB2aWV3cG9ydENoYW5nZVNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblxuICAgICAgICBpZiAoIXRoaXMuX2NsaXBWaWV3cG9ydCB8fFxuICAgICAgICAgICAgdHlwZW9mKHdpZHRoKSA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICAgICAgdHlwZW9mKGhlaWdodCkgPT09IFwidW5kZWZpbmVkXCIpIHtcblxuICAgICAgICAgICAgTG9nLkRlYnVnKFwiU2V0dGluZyB2aWV3cG9ydCB0byBmdWxsIGRpc3BsYXkgcmVnaW9uXCIpO1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9mYl93aWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2ZiX2hlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA+IHRoaXMuX2ZiX3dpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuX2ZiX3dpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWlnaHQgPiB0aGlzLl9mYl9oZWlnaHQpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2ZiX2hlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2cCA9IHRoaXMuX3ZpZXdwb3J0TG9jO1xuICAgICAgICBpZiAodnAudyAhPT0gd2lkdGggfHwgdnAuaCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICB2cC53ID0gd2lkdGg7XG4gICAgICAgICAgICB2cC5oID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBUaGUgcG9zaXRpb24gbWlnaHQgbmVlZCB0byBiZSB1cGRhdGVkIGlmIHdlJ3ZlIGdyb3duXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Q2hhbmdlUG9zKDAsIDApO1xuXG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2UodnAueCwgdnAueSwgdnAudywgdnAuaCk7XG4gICAgICAgICAgICB0aGlzLmZsaXAoKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB2aXNpYmxlIHNpemUgb2YgdGhlIHRhcmdldCBjYW52YXNcbiAgICAgICAgICAgIHRoaXMuX3Jlc2NhbGUodGhpcy5fc2NhbGUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGFic1g6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4IC8gdGhpcy5fc2NhbGUgKyB0aGlzLl92aWV3cG9ydExvYy54O1xuICAgIH0sXG5cbiAgICBhYnNZOiBmdW5jdGlvbiAoeSkge1xuICAgICAgICByZXR1cm4geSAvIHRoaXMuX3NjYWxlICsgdGhpcy5fdmlld3BvcnRMb2MueTtcbiAgICB9LFxuXG4gICAgcmVzaXplOiBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLl9wcmV2RHJhd1N0eWxlID0gXCJcIjtcblxuICAgICAgICB0aGlzLl9mYl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mYl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuX2JhY2tidWZmZXI7XG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IGhlaWdodCkge1xuXG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHNhdmUgdGhlIGNhbnZhcyBkYXRhIHNpbmNlIGNoYW5naW5nIHRoZSBzaXplIHdpbGwgY2xlYXIgaXRcbiAgICAgICAgICAgIHZhciBzYXZlSW1nID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggPiAwICYmIGNhbnZhcy5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2F2ZUltZyA9IHRoaXMuX2RyYXdDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNhdmVJbWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LnB1dEltYWdlRGF0YShzYXZlSW1nLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlYWRqdXN0IHRoZSB2aWV3cG9ydCBhcyBpdCBtYXkgYmUgaW5jb3JyZWN0bHkgc2l6ZWRcbiAgICAgICAgLy8gYW5kIHBvc2l0aW9uZWRcbiAgICAgICAgdmFyIHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG4gICAgICAgIHRoaXMudmlld3BvcnRDaGFuZ2VTaXplKHZwLncsIHZwLmgpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0Q2hhbmdlUG9zKDAsIDApO1xuICAgIH0sXG5cbiAgICAvLyBUcmFjayB3aGF0IHBhcnRzIG9mIHRoZSB2aXNpYmxlIGNhbnZhcyB0aGF0IG5lZWQgdXBkYXRpbmdcbiAgICBfZGFtYWdlOiBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG4gICAgICAgIGlmICh4IDwgdGhpcy5fZGFtYWdlQm91bmRzLmxlZnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5sZWZ0ID0geDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IHRoaXMuX2RhbWFnZUJvdW5kcy50b3ApIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy50b3AgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoeCArIHcpID4gdGhpcy5fZGFtYWdlQm91bmRzLnJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMucmlnaHQgPSB4ICsgdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHkgKyBoKSA+IHRoaXMuX2RhbWFnZUJvdW5kcy5ib3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5ib3R0b20gPSB5ICsgaDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgdGhlIHZpc2libGUgY2FudmFzIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZVxuICAgIC8vIHJlbmRlcmluZyBjYW52YXNcbiAgICBmbGlwOiBmdW5jdGlvbihmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyUV9wdXNoKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdmbGlwJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgeCwgeSwgdngsIHZ5LCB3LCBoO1xuXG4gICAgICAgICAgICB4ID0gdGhpcy5fZGFtYWdlQm91bmRzLmxlZnQ7XG4gICAgICAgICAgICB5ID0gdGhpcy5fZGFtYWdlQm91bmRzLnRvcDtcbiAgICAgICAgICAgIHcgPSB0aGlzLl9kYW1hZ2VCb3VuZHMucmlnaHQgLSB4O1xuICAgICAgICAgICAgaCA9IHRoaXMuX2RhbWFnZUJvdW5kcy5ib3R0b20gLSB5O1xuXG4gICAgICAgICAgICB2eCA9IHggLSB0aGlzLl92aWV3cG9ydExvYy54O1xuICAgICAgICAgICAgdnkgPSB5IC0gdGhpcy5fdmlld3BvcnRMb2MueTtcblxuICAgICAgICAgICAgaWYgKHZ4IDwgMCkge1xuICAgICAgICAgICAgICAgIHcgKz0gdng7XG4gICAgICAgICAgICAgICAgeCAtPSB2eDtcbiAgICAgICAgICAgICAgICB2eCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodnkgPCAwKSB7XG4gICAgICAgICAgICAgICAgaCArPSB2eTtcbiAgICAgICAgICAgICAgICB5IC09IHZ5O1xuICAgICAgICAgICAgICAgIHZ5ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCh2eCArIHcpID4gdGhpcy5fdmlld3BvcnRMb2Mudykge1xuICAgICAgICAgICAgICAgIHcgPSB0aGlzLl92aWV3cG9ydExvYy53IC0gdng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHZ5ICsgaCkgPiB0aGlzLl92aWV3cG9ydExvYy5oKSB7XG4gICAgICAgICAgICAgICAgaCA9IHRoaXMuX3ZpZXdwb3J0TG9jLmggLSB2eTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCh3ID4gMCkgJiYgKGggPiAwKSkge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBXZSBtYXkgbmVlZCB0byBkaXNhYmxlIGltYWdlIHNtb290aGluZyBoZXJlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGFzIHdlbGwgKHNlZSBjb3B5SW1hZ2UoKSksIGJ1dCB3ZSBoYXZlbid0XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIG5vdGljZWQgYW55IHByb2JsZW0geWV0LlxuICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldEN0eC5kcmF3SW1hZ2UodGhpcy5fYmFja2J1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgsIHksIHcsIGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2eCwgdnksIHcsIGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kYW1hZ2VCb3VuZHMubGVmdCA9IHRoaXMuX2RhbWFnZUJvdW5kcy50b3AgPSA2NTUzNTtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZUJvdW5kcy5yaWdodCA9IHRoaXMuX2RhbWFnZUJvdW5kcy5ib3R0b20gPSAwO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2dvKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLl9sb2dvLndpZHRoLCB0aGlzLl9sb2dvLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmltYWdlUmVjdCgwLCAwLCB0aGlzLl9sb2dvLnR5cGUsIHRoaXMuX2xvZ28uZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSgyNDAsIDIwKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxpcCgpO1xuICAgIH0sXG5cbiAgICBwZW5kaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclEubGVuZ3RoID4gMDtcbiAgICB9LFxuXG4gICAgZmx1c2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMub25mbHVzaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGZpbGxSZWN0OiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgY29sb3IsIGZyb21fcXVldWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlclEubGVuZ3RoICE9PSAwICYmICFmcm9tX3F1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2ZpbGwnLFxuICAgICAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICAgICAneSc6IHksXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAnY29sb3InOiBjb2xvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRGaWxsQ29sb3IoY29sb3IpO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjb3B5SW1hZ2U6IGZ1bmN0aW9uIChvbGRfeCwgb2xkX3ksIG5ld194LCBuZXdfeSwgdywgaCwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnY29weScsXG4gICAgICAgICAgICAgICAgJ29sZF94Jzogb2xkX3gsXG4gICAgICAgICAgICAgICAgJ29sZF95Jzogb2xkX3ksXG4gICAgICAgICAgICAgICAgJ3gnOiBuZXdfeCxcbiAgICAgICAgICAgICAgICAneSc6IG5ld195LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHcsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIER1ZSB0byB0aGlzIGJ1ZyBhbW9uZyBvdGhlcnMgWzFdIHdlIG5lZWQgdG8gZGlzYWJsZSB0aGUgaW1hZ2Utc21vb3RoaW5nIHRvXG4gICAgICAgICAgICAvLyBhdm9pZCBnZXR0aW5nIGEgYmx1ciBlZmZlY3Qgd2hlbiBjb3B5aW5nIGRhdGEuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gMS4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE5NDcxOVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZXNlIGV2ZXJ5IHRpbWUgc2luY2UgYWxsIHByb3BlcnRpZXMgYXJlIHJlc2V0XG4gICAgICAgICAgICAvLyB3aGVuIHRoZSB0aGUgc2l6ZSBpcyBjaGFuZ2VkXG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0N0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYXdDdHguZHJhd0ltYWdlKHRoaXMuX2JhY2tidWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRfeCwgb2xkX3ksIHcsIGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdfeCwgbmV3X3ksIHcsIGgpO1xuICAgICAgICAgICAgdGhpcy5fZGFtYWdlKG5ld194LCBuZXdfeSwgdywgaCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW1hZ2VSZWN0OiBmdW5jdGlvbih4LCB5LCBtaW1lLCBhcnIpIHtcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcuc3JjID0gXCJkYXRhOiBcIiArIG1pbWUgKyBcIjtiYXNlNjQsXCIgKyBCYXNlNjQuZW5jb2RlKGFycik7XG4gICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAndHlwZSc6ICdpbWcnLFxuICAgICAgICAgICAgJ2ltZyc6IGltZyxcbiAgICAgICAgICAgICd4JzogeCxcbiAgICAgICAgICAgICd5JzogeVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gc3RhcnQgdXBkYXRpbmcgYSB0aWxlXG4gICAgc3RhcnRUaWxlOiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgY29sb3IpIHtcbiAgICAgICAgdGhpcy5fdGlsZV94ID0geDtcbiAgICAgICAgdGhpcy5fdGlsZV95ID0geTtcbiAgICAgICAgaWYgKHdpZHRoID09PSAxNiAmJiBoZWlnaHQgPT09IDE2KSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlID0gdGhpcy5fdGlsZTE2eDE2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdGlsZSA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZCA9IGNvbG9yWzJdO1xuICAgICAgICB2YXIgZ3JlZW4gPSBjb2xvclsxXTtcbiAgICAgICAgdmFyIGJsdWUgPSBjb2xvclswXTtcblxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX3RpbGUuZGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aCAqIGhlaWdodCAqIDQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgZGF0YVtpXSA9IHJlZDtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gZ3JlZW47XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGJsdWU7XG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IDI1NTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyB1cGRhdGUgc3ViLXJlY3RhbmdsZSBvZiB0aGUgY3VycmVudCB0aWxlXG4gICAgc3ViVGlsZTogZnVuY3Rpb24gKHgsIHksIHcsIGgsIGNvbG9yKSB7XG4gICAgICAgIHZhciByZWQgPSBjb2xvclsyXTtcbiAgICAgICAgdmFyIGdyZWVuID0gY29sb3JbMV07XG4gICAgICAgIHZhciBibHVlID0gY29sb3JbMF07XG4gICAgICAgIHZhciB4ZW5kID0geCArIHc7XG4gICAgICAgIHZhciB5ZW5kID0geSArIGg7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl90aWxlLmRhdGE7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RpbGUud2lkdGg7XG4gICAgICAgIGZvciAodmFyIGogPSB5OyBqIDwgeWVuZDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0geDsgaSA8IHhlbmQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gKGkgKyAoaiAqIHdpZHRoKSkgKiA0O1xuICAgICAgICAgICAgICAgIGRhdGFbcF0gPSByZWQ7XG4gICAgICAgICAgICAgICAgZGF0YVtwICsgMV0gPSBncmVlbjtcbiAgICAgICAgICAgICAgICBkYXRhW3AgKyAyXSA9IGJsdWU7XG4gICAgICAgICAgICAgICAgZGF0YVtwICsgM10gPSAyNTU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gZHJhdyB0aGUgY3VycmVudCB0aWxlIHRvIHRoZSBzY3JlZW5cbiAgICBmaW5pc2hUaWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2RyYXdDdHgucHV0SW1hZ2VEYXRhKHRoaXMuX3RpbGUsIHRoaXMuX3RpbGVfeCwgdGhpcy5fdGlsZV95KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHRoaXMuX3RpbGVfeCwgdGhpcy5fdGlsZV95LFxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlsZS53aWR0aCwgdGhpcy5fdGlsZS5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBibGl0SW1hZ2U6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IGl0J3MgdGVjaG5pY2FsbHkgbW9yZSBwZXJmb3JtYW50IGhlcmUgdG8gdXNlIHByZWFsbG9jYXRlZCBhcnJheXMsXG4gICAgICAgICAgICAvLyBidXQgaXQncyBhIGxvdCBvZiBleHRyYSB3b3JrIGZvciBub3QgYSBsb3Qgb2YgcGF5b2ZmIC0tIGlmIHdlJ3JlIHVzaW5nIHRoZSByZW5kZXIgcXVldWUsXG4gICAgICAgICAgICAvLyB0aGlzIHByb2JhYmx5IGlzbid0IGdldHRpbmcgY2FsbGVkICpuZWFybHkqIGFzIG11Y2hcbiAgICAgICAgICAgIHZhciBuZXdfYXJyID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgICAgIG5ld19hcnIuc2V0KG5ldyBVaW50OEFycmF5KGFyci5idWZmZXIsIDAsIG5ld19hcnIubGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2JsaXQnLFxuICAgICAgICAgICAgICAgICdkYXRhJzogbmV3X2FycixcbiAgICAgICAgICAgICAgICAneCc6IHgsXG4gICAgICAgICAgICAgICAgJ3knOiB5LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHdpZHRoLFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2JncnhJbWFnZURhdGEoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGJsaXRSZ2JJbWFnZTogZnVuY3Rpb24gKHgsIHkgLCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCwgZnJvbV9xdWV1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggIT09IDAgJiYgIWZyb21fcXVldWUpIHtcbiAgICAgICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IGl0J3MgdGVjaG5pY2FsbHkgbW9yZSBwZXJmb3JtYW50IGhlcmUgdG8gdXNlIHByZWFsbG9jYXRlZCBhcnJheXMsXG4gICAgICAgICAgICAvLyBidXQgaXQncyBhIGxvdCBvZiBleHRyYSB3b3JrIGZvciBub3QgYSBsb3Qgb2YgcGF5b2ZmIC0tIGlmIHdlJ3JlIHVzaW5nIHRoZSByZW5kZXIgcXVldWUsXG4gICAgICAgICAgICAvLyB0aGlzIHByb2JhYmx5IGlzbid0IGdldHRpbmcgY2FsbGVkICpuZWFybHkqIGFzIG11Y2hcbiAgICAgICAgICAgIHZhciBuZXdfYXJyID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiAzKTtcbiAgICAgICAgICAgIG5ld19hcnIuc2V0KG5ldyBVaW50OEFycmF5KGFyci5idWZmZXIsIDAsIG5ld19hcnIubGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJRX3B1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2JsaXRSZ2InLFxuICAgICAgICAgICAgICAgICdkYXRhJzogbmV3X2FycixcbiAgICAgICAgICAgICAgICAneCc6IHgsXG4gICAgICAgICAgICAgICAgJ3knOiB5LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHdpZHRoLFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JnYkltYWdlRGF0YSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYmxpdFJnYnhJbWFnZTogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0LCBmcm9tX3F1ZXVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJRLmxlbmd0aCAhPT0gMCAmJiAhZnJvbV9xdWV1ZSkge1xuICAgICAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogaXQncyB0ZWNobmljYWxseSBtb3JlIHBlcmZvcm1hbnQgaGVyZSB0byB1c2UgcHJlYWxsb2NhdGVkIGFycmF5cyxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCdzIGEgbG90IG9mIGV4dHJhIHdvcmsgZm9yIG5vdCBhIGxvdCBvZiBwYXlvZmYgLS0gaWYgd2UncmUgdXNpbmcgdGhlIHJlbmRlciBxdWV1ZSxcbiAgICAgICAgICAgIC8vIHRoaXMgcHJvYmFibHkgaXNuJ3QgZ2V0dGluZyBjYWxsZWQgKm5lYXJseSogYXMgbXVjaFxuICAgICAgICAgICAgdmFyIG5ld19hcnIgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICAgICAgbmV3X2Fyci5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgMCwgbmV3X2Fyci5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclFfcHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnYmxpdFJnYngnLFxuICAgICAgICAgICAgICAgICdkYXRhJzogbmV3X2FycixcbiAgICAgICAgICAgICAgICAneCc6IHgsXG4gICAgICAgICAgICAgICAgJ3knOiB5LFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IHdpZHRoLFxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBoZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JnYnhJbWFnZURhdGEoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRyYXdJbWFnZTogZnVuY3Rpb24gKGltZywgeCwgeSkge1xuICAgICAgICB0aGlzLl9kcmF3Q3R4LmRyYXdJbWFnZShpbWcsIHgsIHkpO1xuICAgICAgICB0aGlzLl9kYW1hZ2UoeCwgeSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgY2hhbmdlQ3Vyc29yOiBmdW5jdGlvbiAocGl4ZWxzLCBtYXNrLCBob3R4LCBob3R5LCB3LCBoKSB7XG4gICAgICAgIERpc3BsYXkuY2hhbmdlQ3Vyc29yKHRoaXMuX3RhcmdldCwgcGl4ZWxzLCBtYXNrLCBob3R4LCBob3R5LCB3LCBoKTtcbiAgICB9LFxuXG4gICAgZGVmYXVsdEN1cnNvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90YXJnZXQuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgfSxcblxuICAgIGRpc2FibGVMb2NhbEN1cnNvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90YXJnZXQuc3R5bGUuY3Vyc29yID0gXCJub25lXCI7XG4gICAgfSxcblxuICAgIGF1dG9zY2FsZTogZnVuY3Rpb24gKGNvbnRhaW5lcldpZHRoLCBjb250YWluZXJIZWlnaHQpIHtcbiAgICAgICAgdmFyIHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG4gICAgICAgIHZhciB0YXJnZXRBc3BlY3RSYXRpbyA9IGNvbnRhaW5lcldpZHRoIC8gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICB2YXIgZmJBc3BlY3RSYXRpbyA9IHZwLncgLyB2cC5oO1xuXG4gICAgICAgIHZhciBzY2FsZVJhdGlvO1xuICAgICAgICBpZiAoZmJBc3BlY3RSYXRpbyA+PSB0YXJnZXRBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgc2NhbGVSYXRpbyA9IGNvbnRhaW5lcldpZHRoIC8gdnAudztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjYWxlUmF0aW8gPSBjb250YWluZXJIZWlnaHQgLyB2cC5oO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzY2FsZShzY2FsZVJhdGlvKTtcbiAgICB9LFxuXG4gICAgLy8gPT09PT0gUFJJVkFURSBNRVRIT0RTID09PT09XG5cbiAgICBfcmVzY2FsZTogZnVuY3Rpb24gKGZhY3Rvcikge1xuICAgICAgICB0aGlzLl9zY2FsZSA9IGZhY3RvcjtcbiAgICAgICAgdmFyIHZwID0gdGhpcy5fdmlld3BvcnRMb2M7XG5cbiAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogSWYgeW91IHNldCB0aGUgd2lkdGggZGlyZWN0bHksIG9yIHNldCB0aGVcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgc3R5bGUgd2lkdGggdG8gYSBudW1iZXIsIHRoZSBjYW52YXMgaXMgY2xlYXJlZC5cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgSG93ZXZlciwgaWYgeW91IHNldCB0aGUgc3R5bGUgd2lkdGggdG8gYSBzdHJpbmdcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgKCdOTk5weCcpLCB0aGUgY2FudmFzIGlzIHNjYWxlZCB3aXRob3V0IGNsZWFyaW5nLlxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKGZhY3RvciAqIHZwLncpICsgJ3B4JztcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoZmFjdG9yICogdnAuaCkgKyAncHgnO1xuXG4gICAgICAgIGlmICgodGhpcy5fdGFyZ2V0LnN0eWxlLndpZHRoICE9PSB3aWR0aCkgfHxcbiAgICAgICAgICAgICh0aGlzLl90YXJnZXQuc3R5bGUuaGVpZ2h0ICE9PSBoZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldEZpbGxDb2xvcjogZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHZhciBuZXdTdHlsZSA9ICdyZ2IoJyArIGNvbG9yWzJdICsgJywnICsgY29sb3JbMV0gKyAnLCcgKyBjb2xvclswXSArICcpJztcbiAgICAgICAgaWYgKG5ld1N0eWxlICE9PSB0aGlzLl9wcmV2RHJhd1N0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9kcmF3Q3R4LmZpbGxTdHlsZSA9IG5ld1N0eWxlO1xuICAgICAgICAgICAgdGhpcy5fcHJldkRyYXdTdHlsZSA9IG5ld1N0eWxlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9yZ2JJbWFnZURhdGE6IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhcnIsIG9mZnNldCkge1xuICAgICAgICB2YXIgaW1nID0gdGhpcy5fZHJhd0N0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHZhciBkYXRhID0gaW1nLmRhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gb2Zmc2V0OyBpIDwgd2lkdGggKiBoZWlnaHQgKiA0OyBpICs9IDQsIGogKz0gMykge1xuICAgICAgICAgICAgZGF0YVtpXSAgICAgPSBhcnJbal07XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGFycltqICsgMV07XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGFycltqICsgMl07XG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IDI1NTsgIC8vIEFscGhhXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhd0N0eC5wdXRJbWFnZURhdGEoaW1nLCB4LCB5KTtcbiAgICAgICAgdGhpcy5fZGFtYWdlKHgsIHksIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgfSxcblxuICAgIF9iZ3J4SW1hZ2VEYXRhOiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXJyLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGltZyA9IHRoaXMuX2RyYXdDdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB2YXIgZGF0YSA9IGltZy5kYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IG9mZnNldDsgaSA8IHdpZHRoICogaGVpZ2h0ICogNDsgaSArPSA0LCBqICs9IDQpIHtcbiAgICAgICAgICAgIGRhdGFbaV0gICAgID0gYXJyW2ogKyAyXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gYXJyW2ogKyAxXTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYXJyW2pdO1xuICAgICAgICAgICAgZGF0YVtpICsgM10gPSAyNTU7ICAvLyBBbHBoYVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYXdDdHgucHV0SW1hZ2VEYXRhKGltZywgeCwgeSk7XG4gICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBfcmdieEltYWdlRGF0YTogZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGFyciwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IGFyciBtdXN0IGJlIGFuIFR5cGUgQXJyYXkgdmlld1xuICAgICAgICB2YXIgaW1nO1xuICAgICAgICBpZiAoU1VQUE9SVFNfSU1BR0VEQVRBX0NPTlNUUlVDVE9SKSB7XG4gICAgICAgICAgICBpbWcgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShhcnIuYnVmZmVyLCBhcnIuYnl0ZU9mZnNldCwgd2lkdGggKiBoZWlnaHQgKiA0KSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWcgPSB0aGlzLl9kcmF3Q3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGltZy5kYXRhLnNldChuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJyLmJ1ZmZlciwgYXJyLmJ5dGVPZmZzZXQsIHdpZHRoICogaGVpZ2h0ICogNCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYXdDdHgucHV0SW1hZ2VEYXRhKGltZywgeCwgeSk7XG4gICAgICAgIHRoaXMuX2RhbWFnZSh4LCB5LCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyUV9wdXNoOiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclEucHVzaChhY3Rpb24pO1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgY2FuIGJlIHJlbmRlcmVkIGltbWVkaWF0ZWx5IGl0IHdpbGwgYmUsIG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gdGhlIHNjYW5uZXIgd2lsbCB3YWl0IGZvciB0aGUgcmVsZXZhbnQgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuX3NjYW5fcmVuZGVyUSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9yZXN1bWVfcmVuZGVyUTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFwidGhpc1wiIGlzIHRoZSBvYmplY3QgdGhhdCBpcyByZWFkeSwgbm90IHRoZVxuICAgICAgICAvLyBkaXNwbGF5IG9iamVjdFxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ub1ZOQ19kaXNwbGF5Ll9yZXN1bWVfcmVuZGVyUSk7XG4gICAgICAgIHRoaXMuX25vVk5DX2Rpc3BsYXkuX3NjYW5fcmVuZGVyUSgpO1xuICAgIH0sXG5cbiAgICBfc2Nhbl9yZW5kZXJROiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWFkeSA9IHRydWU7XG4gICAgICAgIHdoaWxlIChyZWFkeSAmJiB0aGlzLl9yZW5kZXJRLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhID0gdGhpcy5fcmVuZGVyUVswXTtcbiAgICAgICAgICAgIHN3aXRjaCAoYS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxpcCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY29weSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29weUltYWdlKGEub2xkX3gsIGEub2xkX3ksIGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGwnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGxSZWN0KGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCwgYS5jb2xvciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JsaXQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsaXRJbWFnZShhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEuZGF0YSwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JsaXRSZ2InOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsaXRSZ2JJbWFnZShhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEuZGF0YSwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JsaXRSZ2J4JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibGl0UmdieEltYWdlKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCwgYS5kYXRhLCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEuaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdJbWFnZShhLmltZywgYS54LCBhLnkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5pbWcuX25vVk5DX2Rpc3BsYXkgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5pbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX3Jlc3VtZV9yZW5kZXJRKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCBmb3IgdGhpcyBpbWFnZSB0byAnbG9hZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGtlZXAgdGhpbmdzIGluLW9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVhZHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJRLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyUS5sZW5ndGggPT09IDAgJiYgdGhpcy5fZmx1c2hpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBDbGFzcyBNZXRob2RzXG5EaXNwbGF5LmNoYW5nZUN1cnNvciA9IGZ1bmN0aW9uICh0YXJnZXQsIHBpeGVscywgbWFzaywgaG90eCwgaG90eSwgdywgaCkge1xuICAgIGlmICgodyA9PT0gMCkgfHwgKGggPT09IDApKSB7XG4gICAgICAgIHRhcmdldC5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY3VyID0gW11cbiAgICB2YXIgeSwgeDtcbiAgICBmb3IgKHkgPSAwOyB5IDwgaDsgeSsrKSB7XG4gICAgICAgIGZvciAoeCA9IDA7IHggPCB3OyB4KyspIHtcbiAgICAgICAgICAgIHZhciBpZHggPSB5ICogTWF0aC5jZWlsKHcgLyA4KSArIE1hdGguZmxvb3IoeCAvIDgpO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gKG1hc2tbaWR4XSA8PCAoeCAlIDgpKSAmIDB4ODAgPyAyNTUgOiAwO1xuICAgICAgICAgICAgaWR4ID0gKCh3ICogeSkgKyB4KSAqIDQ7XG4gICAgICAgICAgICBjdXIucHVzaChwaXhlbHNbaWR4ICsgMl0pOyAvLyByZWRcbiAgICAgICAgICAgIGN1ci5wdXNoKHBpeGVsc1tpZHggKyAxXSk7IC8vIGdyZWVuXG4gICAgICAgICAgICBjdXIucHVzaChwaXhlbHNbaWR4XSk7ICAgICAvLyBibHVlXG4gICAgICAgICAgICBjdXIucHVzaChhbHBoYSk7ICAgICAgICAgICAvLyBhbHBoYVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgY2FudmFzLmhlaWdodCA9IGg7XG5cbiAgICB2YXIgaW1nO1xuICAgIGlmIChTVVBQT1JUU19JTUFHRURBVEFfQ09OU1RSVUNUT1IpIHtcbiAgICAgICAgaW1nID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoY3VyKSwgdywgaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW1nID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh3LCBoKTtcbiAgICAgICAgaW1nLmRhdGEuc2V0KG5ldyBVaW50OENsYW1wZWRBcnJheShjdXIpKTtcbiAgICB9XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTtcbiAgICBjdHgucHV0SW1hZ2VEYXRhKGltZywgMCwgMCk7XG5cbiAgICB2YXIgdXJsID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIHRhcmdldC5zdHlsZS5jdXJzb3IgPSAndXJsKCcgKyB1cmwgKyAnKScgKyBob3R4ICsgJyAnICsgaG90eSArICcsIGRlZmF1bHQnO1xufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDE3IFBpZXJyZSBPc3NtYW4gZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuZXhwb3J0IHZhciBlbmNvZGluZ3MgPSB7XG4gICAgZW5jb2RpbmdSYXc6IDAsXG4gICAgZW5jb2RpbmdDb3B5UmVjdDogMSxcbiAgICBlbmNvZGluZ1JSRTogMixcbiAgICBlbmNvZGluZ0hleHRpbGU6IDUsXG4gICAgZW5jb2RpbmdUaWdodDogNyxcblxuICAgIHBzZXVkb0VuY29kaW5nUXVhbGl0eUxldmVsOTogLTIzLFxuICAgIHBzZXVkb0VuY29kaW5nUXVhbGl0eUxldmVsMDogLTMyLFxuICAgIHBzZXVkb0VuY29kaW5nRGVza3RvcFNpemU6IC0yMjMsXG4gICAgcHNldWRvRW5jb2RpbmdMYXN0UmVjdDogLTIyNCxcbiAgICBwc2V1ZG9FbmNvZGluZ0N1cnNvcjogLTIzOSxcbiAgICBwc2V1ZG9FbmNvZGluZ1FFTVVFeHRlbmRlZEtleUV2ZW50OiAtMjU4LFxuICAgIHBzZXVkb0VuY29kaW5nVGlnaHRQTkc6IC0yNjAsXG4gICAgcHNldWRvRW5jb2RpbmdFeHRlbmRlZERlc2t0b3BTaXplOiAtMzA4LFxuICAgIHBzZXVkb0VuY29kaW5nWHZwOiAtMzA5LFxuICAgIHBzZXVkb0VuY29kaW5nRmVuY2U6IC0zMTIsXG4gICAgcHNldWRvRW5jb2RpbmdDb250aW51b3VzVXBkYXRlczogLTMxMyxcbiAgICBwc2V1ZG9FbmNvZGluZ0NvbXByZXNzTGV2ZWw5OiAtMjQ3LFxuICAgIHBzZXVkb0VuY29kaW5nQ29tcHJlc3NMZXZlbDA6IC0yNTYsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RpbmdOYW1lKG51bSkge1xuICAgIHN3aXRjaCAobnVtKSB7XG4gICAgICAgIGNhc2UgZW5jb2RpbmdzLmVuY29kaW5nUmF3OiAgICAgIHJldHVybiBcIlJhd1wiO1xuICAgICAgICBjYXNlIGVuY29kaW5ncy5lbmNvZGluZ0NvcHlSZWN0OiByZXR1cm4gXCJDb3B5UmVjdFwiO1xuICAgICAgICBjYXNlIGVuY29kaW5ncy5lbmNvZGluZ1JSRTogICAgICByZXR1cm4gXCJSUkVcIjtcbiAgICAgICAgY2FzZSBlbmNvZGluZ3MuZW5jb2RpbmdIZXh0aWxlOiAgcmV0dXJuIFwiSGV4dGlsZVwiO1xuICAgICAgICBjYXNlIGVuY29kaW5ncy5lbmNvZGluZ1RpZ2h0OiAgICByZXR1cm4gXCJUaWdodFwiO1xuICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbdW5rbm93biBlbmNvZGluZyBcIiArIG51bSArIFwiXVwiO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGluZmxhdGVJbml0LCBpbmZsYXRlLCBpbmZsYXRlUmVzZXQgfSBmcm9tIFwiLi4vdmVuZG9yL3Bha28vbGliL3psaWIvaW5mbGF0ZS5qc1wiO1xuaW1wb3J0IFpTdHJlYW0gZnJvbSBcIi4uL3ZlbmRvci9wYWtvL2xpYi96bGliL3pzdHJlYW0uanNcIjtcblxuSW5mbGF0ZS5wcm90b3R5cGUgPSB7XG4gICAgaW5mbGF0ZTogZnVuY3Rpb24gKGRhdGEsIGZsdXNoLCBleHBlY3RlZCkge1xuICAgICAgICB0aGlzLnN0cm0uaW5wdXQgPSBkYXRhO1xuICAgICAgICB0aGlzLnN0cm0uYXZhaWxfaW4gPSB0aGlzLnN0cm0uaW5wdXQubGVuZ3RoO1xuICAgICAgICB0aGlzLnN0cm0ubmV4dF9pbiA9IDA7XG4gICAgICAgIHRoaXMuc3RybS5uZXh0X291dCA9IDA7XG5cbiAgICAgICAgLy8gcmVzaXplIG91ciBvdXRwdXQgYnVmZmVyIGlmIGl0J3MgdG9vIHNtYWxsXG4gICAgICAgIC8vICh3ZSBjb3VsZCBqdXN0IHVzZSBtdWx0aXBsZSBjaHVua3MsIGJ1dCB0aGF0IHdvdWxkIGNhdXNlIGFuIGV4dHJhXG4gICAgICAgIC8vIGFsbG9jYXRpb24gZWFjaCB0aW1lIHRvIGZsYXR0ZW4gdGhlIGNodW5rcylcbiAgICAgICAgaWYgKGV4cGVjdGVkID4gdGhpcy5jaHVua1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtTaXplID0gZXhwZWN0ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0cm0ub3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5jaHVua1NpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHJtLmF2YWlsX291dCA9IHRoaXMuY2h1bmtTaXplO1xuXG4gICAgICAgIGluZmxhdGUodGhpcy5zdHJtLCBmbHVzaCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuc3RybS5vdXRwdXQuYnVmZmVyLCAwLCB0aGlzLnN0cm0ubmV4dF9vdXQpO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmZsYXRlUmVzZXQodGhpcy5zdHJtKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmZsYXRlKCkge1xuICAgIHRoaXMuc3RybSA9IG5ldyBaU3RyZWFtKCk7XG4gICAgdGhpcy5jaHVua1NpemUgPSAxMDI0ICogMTAgKiAxMDtcbiAgICB0aGlzLnN0cm0ub3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5jaHVua1NpemUpO1xuICAgIHRoaXMud2luZG93Qml0cyA9IDU7XG5cbiAgICBpbmZsYXRlSW5pdCh0aGlzLnN0cm0sIHRoaXMud2luZG93Qml0cyk7XG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgUGllcnJlIE9zc21hbiBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIG9yIGFueSBsYXRlciB2ZXJzaW9uIChzZWUgTElDRU5TRS50eHQpXG4gKi9cblxuaW1wb3J0IEtleVRhYmxlIGZyb20gXCIuL2tleXN5bS5qc1wiO1xuXG4vKlxuICogTWFwcGluZyBiZXR3ZWVuIEhUTUwga2V5IHZhbHVlcyBhbmQgVk5DL1gxMSBrZXlzeW1zIGZvciBcInNwZWNpYWxcIlxuICoga2V5cyB0aGF0IGNhbm5vdCBiZSBoYW5kbGVkIHZpYSB0aGVpciBVbmljb2RlIGNvZGVwb2ludC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3VpZXZlbnRzLWtleS8gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAqL1xuXG52YXIgRE9NS2V5VGFibGUgPSB7fTtcblxuZnVuY3Rpb24gYWRkU3RhbmRhcmQoa2V5LCBzdGFuZGFyZClcbntcbiAgICBpZiAoc3RhbmRhcmQgPT09IHVuZGVmaW5lZCkgdGhyb3cgXCJVbmRlZmluZWQga2V5c3ltIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgaWYgKGtleSBpbiBET01LZXlUYWJsZSkgdGhyb3cgXCJEdXBsaWNhdGUgZW50cnkgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBET01LZXlUYWJsZVtrZXldID0gW3N0YW5kYXJkLCBzdGFuZGFyZCwgc3RhbmRhcmQsIHN0YW5kYXJkXTtcbn1cblxuZnVuY3Rpb24gYWRkTGVmdFJpZ2h0KGtleSwgbGVmdCwgcmlnaHQpXG57XG4gICAgaWYgKGxlZnQgPT09IHVuZGVmaW5lZCkgdGhyb3cgXCJVbmRlZmluZWQga2V5c3ltIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgaWYgKHJpZ2h0ID09PSB1bmRlZmluZWQpIHRocm93IFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIGlmIChrZXkgaW4gRE9NS2V5VGFibGUpIHRocm93IFwiRHVwbGljYXRlIGVudHJ5IGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgRE9NS2V5VGFibGVba2V5XSA9IFtsZWZ0LCBsZWZ0LCByaWdodCwgbGVmdF07XG59XG5cbmZ1bmN0aW9uIGFkZE51bXBhZChrZXksIHN0YW5kYXJkLCBudW1wYWQpXG57XG4gICAgaWYgKHN0YW5kYXJkID09PSB1bmRlZmluZWQpIHRocm93IFwiVW5kZWZpbmVkIGtleXN5bSBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICAgIGlmIChudW1wYWQgPT09IHVuZGVmaW5lZCkgdGhyb3cgXCJVbmRlZmluZWQga2V5c3ltIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCI7XG4gICAgaWYgKGtleSBpbiBET01LZXlUYWJsZSkgdGhyb3cgXCJEdXBsaWNhdGUgZW50cnkgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIjtcbiAgICBET01LZXlUYWJsZVtrZXldID0gW3N0YW5kYXJkLCBzdGFuZGFyZCwgc3RhbmRhcmQsIG51bXBhZF07XG59XG5cbi8vIDIuMi4gTW9kaWZpZXIgS2V5c1xuXG5hZGRMZWZ0UmlnaHQoXCJBbHRcIiwgS2V5VGFibGUuWEtfQWx0X0wsIEtleVRhYmxlLlhLX0FsdF9SKTtcbmFkZFN0YW5kYXJkKFwiQWx0R3JhcGhcIiwgS2V5VGFibGUuWEtfSVNPX0xldmVsM19TaGlmdCk7XG5hZGRTdGFuZGFyZChcIkNhcHNMb2NrXCIsIEtleVRhYmxlLlhLX0NhcHNfTG9jayk7XG5hZGRMZWZ0UmlnaHQoXCJDb250cm9sXCIsIEtleVRhYmxlLlhLX0NvbnRyb2xfTCwgS2V5VGFibGUuWEtfQ29udHJvbF9SKTtcbi8vIC0gRm5cbi8vIC0gRm5Mb2NrXG5hZGRMZWZ0UmlnaHQoXCJIeXBlclwiLCBLZXlUYWJsZS5YS19TdXBlcl9MLCBLZXlUYWJsZS5YS19TdXBlcl9SKTtcbmFkZExlZnRSaWdodChcIk1ldGFcIiwgS2V5VGFibGUuWEtfU3VwZXJfTCwgS2V5VGFibGUuWEtfU3VwZXJfUik7XG5hZGRTdGFuZGFyZChcIk51bUxvY2tcIiwgS2V5VGFibGUuWEtfTnVtX0xvY2spO1xuYWRkU3RhbmRhcmQoXCJTY3JvbGxMb2NrXCIsIEtleVRhYmxlLlhLX1Njcm9sbF9Mb2NrKTtcbmFkZExlZnRSaWdodChcIlNoaWZ0XCIsIEtleVRhYmxlLlhLX1NoaWZ0X0wsIEtleVRhYmxlLlhLX1NoaWZ0X1IpO1xuYWRkTGVmdFJpZ2h0KFwiU3VwZXJcIiwgS2V5VGFibGUuWEtfU3VwZXJfTCwgS2V5VGFibGUuWEtfU3VwZXJfUik7XG4vLyAtIFN5bWJvbFxuLy8gLSBTeW1ib2xMb2NrXG5cbi8vIDIuMy4gV2hpdGVzcGFjZSBLZXlzXG5cbmFkZE51bXBhZChcIkVudGVyXCIsIEtleVRhYmxlLlhLX1JldHVybiwgS2V5VGFibGUuWEtfS1BfRW50ZXIpO1xuYWRkU3RhbmRhcmQoXCJUYWJcIiwgS2V5VGFibGUuWEtfVGFiKTtcbmFkZE51bXBhZChcIiBcIiwgS2V5VGFibGUuWEtfc3BhY2UsIEtleVRhYmxlLlhLX0tQX1NwYWNlKTtcblxuLy8gMi40LiBOYXZpZ2F0aW9uIEtleXNcblxuYWRkTnVtcGFkKFwiQXJyb3dEb3duXCIsIEtleVRhYmxlLlhLX0Rvd24sIEtleVRhYmxlLlhLX0tQX0Rvd24pO1xuYWRkTnVtcGFkKFwiQXJyb3dVcFwiLCBLZXlUYWJsZS5YS19VcCwgS2V5VGFibGUuWEtfS1BfVXApO1xuYWRkTnVtcGFkKFwiQXJyb3dMZWZ0XCIsIEtleVRhYmxlLlhLX0xlZnQsIEtleVRhYmxlLlhLX0tQX0xlZnQpO1xuYWRkTnVtcGFkKFwiQXJyb3dSaWdodFwiLCBLZXlUYWJsZS5YS19SaWdodCwgS2V5VGFibGUuWEtfS1BfUmlnaHQpO1xuYWRkTnVtcGFkKFwiRW5kXCIsIEtleVRhYmxlLlhLX0VuZCwgS2V5VGFibGUuWEtfS1BfRW5kKTtcbmFkZE51bXBhZChcIkhvbWVcIiwgS2V5VGFibGUuWEtfSG9tZSwgS2V5VGFibGUuWEtfS1BfSG9tZSk7XG5hZGROdW1wYWQoXCJQYWdlRG93blwiLCBLZXlUYWJsZS5YS19OZXh0LCBLZXlUYWJsZS5YS19LUF9OZXh0KTtcbmFkZE51bXBhZChcIlBhZ2VVcFwiLCBLZXlUYWJsZS5YS19QcmlvciwgS2V5VGFibGUuWEtfS1BfUHJpb3IpO1xuXG4vLyAyLjUuIEVkaXRpbmcgS2V5c1xuXG5hZGRTdGFuZGFyZChcIkJhY2tzcGFjZVwiLCBLZXlUYWJsZS5YS19CYWNrU3BhY2UpO1xuYWRkU3RhbmRhcmQoXCJDbGVhclwiLCBLZXlUYWJsZS5YS19DbGVhcik7XG5hZGRTdGFuZGFyZChcIkNvcHlcIiwgS2V5VGFibGUuWEY4NlhLX0NvcHkpO1xuLy8gLSBDclNlbFxuYWRkU3RhbmRhcmQoXCJDdXRcIiwgS2V5VGFibGUuWEY4NlhLX0N1dCk7XG5hZGROdW1wYWQoXCJEZWxldGVcIiwgS2V5VGFibGUuWEtfRGVsZXRlLCBLZXlUYWJsZS5YS19LUF9EZWxldGUpO1xuLy8gLSBFcmFzZUVvZlxuLy8gLSBFeFNlbFxuYWRkTnVtcGFkKFwiSW5zZXJ0XCIsIEtleVRhYmxlLlhLX0luc2VydCwgS2V5VGFibGUuWEtfS1BfSW5zZXJ0KTtcbmFkZFN0YW5kYXJkKFwiUGFzdGVcIiwgS2V5VGFibGUuWEY4NlhLX1Bhc3RlKTtcbmFkZFN0YW5kYXJkKFwiUmVkb1wiLCBLZXlUYWJsZS5YS19SZWRvKTtcbmFkZFN0YW5kYXJkKFwiVW5kb1wiLCBLZXlUYWJsZS5YS19VbmRvKTtcblxuLy8gMi42LiBVSSBLZXlzXG5cbi8vIC0gQWNjZXB0XG4vLyAtIEFnYWluIChjb3VsZCBqdXN0IGJlIFhLX1JlZG8pXG4vLyAtIEF0dG5cbmFkZFN0YW5kYXJkKFwiQ2FuY2VsXCIsIEtleVRhYmxlLlhLX0NhbmNlbCk7XG5hZGRTdGFuZGFyZChcIkNvbnRleHRNZW51XCIsIEtleVRhYmxlLlhLX01lbnUpO1xuYWRkU3RhbmRhcmQoXCJFc2NhcGVcIiwgS2V5VGFibGUuWEtfRXNjYXBlKTtcbmFkZFN0YW5kYXJkKFwiRXhlY3V0ZVwiLCBLZXlUYWJsZS5YS19FeGVjdXRlKTtcbmFkZFN0YW5kYXJkKFwiRmluZFwiLCBLZXlUYWJsZS5YS19GaW5kKTtcbmFkZFN0YW5kYXJkKFwiSGVscFwiLCBLZXlUYWJsZS5YS19IZWxwKTtcbmFkZFN0YW5kYXJkKFwiUGF1c2VcIiwgS2V5VGFibGUuWEtfUGF1c2UpO1xuLy8gLSBQbGF5XG4vLyAtIFByb3BzXG5hZGRTdGFuZGFyZChcIlNlbGVjdFwiLCBLZXlUYWJsZS5YS19TZWxlY3QpO1xuYWRkU3RhbmRhcmQoXCJab29tSW5cIiwgS2V5VGFibGUuWEY4NlhLX1pvb21Jbik7XG5hZGRTdGFuZGFyZChcIlpvb21PdXRcIiwgS2V5VGFibGUuWEY4NlhLX1pvb21PdXQpO1xuXG4vLyAyLjcuIERldmljZSBLZXlzXG5cbmFkZFN0YW5kYXJkKFwiQnJpZ2h0bmVzc0Rvd25cIiwgS2V5VGFibGUuWEY4NlhLX01vbkJyaWdodG5lc3NEb3duKTtcbmFkZFN0YW5kYXJkKFwiQnJpZ2h0bmVzc1VwXCIsIEtleVRhYmxlLlhGODZYS19Nb25CcmlnaHRuZXNzVXApO1xuYWRkU3RhbmRhcmQoXCJFamVjdFwiLCBLZXlUYWJsZS5YRjg2WEtfRWplY3QpO1xuYWRkU3RhbmRhcmQoXCJMb2dPZmZcIiwgS2V5VGFibGUuWEY4NlhLX0xvZ09mZik7XG5hZGRTdGFuZGFyZChcIlBvd2VyXCIsIEtleVRhYmxlLlhGODZYS19Qb3dlck9mZik7XG5hZGRTdGFuZGFyZChcIlBvd2VyT2ZmXCIsIEtleVRhYmxlLlhGODZYS19Qb3dlckRvd24pO1xuYWRkU3RhbmRhcmQoXCJQcmludFNjcmVlblwiLCBLZXlUYWJsZS5YS19QcmludCk7XG5hZGRTdGFuZGFyZChcIkhpYmVybmF0ZVwiLCBLZXlUYWJsZS5YRjg2WEtfSGliZXJuYXRlKTtcbmFkZFN0YW5kYXJkKFwiU3RhbmRieVwiLCBLZXlUYWJsZS5YRjg2WEtfU3RhbmRieSk7XG5hZGRTdGFuZGFyZChcIldha2VVcFwiLCBLZXlUYWJsZS5YRjg2WEtfV2FrZVVwKTtcblxuLy8gMi44LiBJTUUgYW5kIENvbXBvc2l0aW9uIEtleXNcblxuYWRkU3RhbmRhcmQoXCJBbGxDYW5kaWRhdGVzXCIsIEtleVRhYmxlLlhLX011bHRpcGxlQ2FuZGlkYXRlKTtcbmFkZFN0YW5kYXJkKFwiQWxwaGFudW1lcmljXCIsIEtleVRhYmxlLlhLX0Vpc3VfU2hpZnQpOyAvLyBjb3VsZCBhbHNvIGJlIF9FaXN1X1RvZ2dsZVxuYWRkU3RhbmRhcmQoXCJDb2RlSW5wdXRcIiwgS2V5VGFibGUuWEtfQ29kZWlucHV0KTtcbmFkZFN0YW5kYXJkKFwiQ29tcG9zZVwiLCBLZXlUYWJsZS5YS19NdWx0aV9rZXkpO1xuYWRkU3RhbmRhcmQoXCJDb252ZXJ0XCIsIEtleVRhYmxlLlhLX0hlbmthbik7XG4vLyAtIERlYWRcbi8vIC0gRmluYWxNb2RlXG5hZGRTdGFuZGFyZChcIkdyb3VwRmlyc3RcIiwgS2V5VGFibGUuWEtfSVNPX0ZpcnN0X0dyb3VwKTtcbmFkZFN0YW5kYXJkKFwiR3JvdXBMYXN0XCIsIEtleVRhYmxlLlhLX0lTT19MYXN0X0dyb3VwKTtcbmFkZFN0YW5kYXJkKFwiR3JvdXBOZXh0XCIsIEtleVRhYmxlLlhLX0lTT19OZXh0X0dyb3VwKTtcbmFkZFN0YW5kYXJkKFwiR3JvdXBQcmV2aW91c1wiLCBLZXlUYWJsZS5YS19JU09fUHJldl9Hcm91cCk7XG4vLyAtIE1vZGVDaGFuZ2UgKFhLX01vZGVfc3dpdGNoIGlzIG9mdGVuIHVzZWQgZm9yIEFsdEdyKVxuLy8gLSBOZXh0Q2FuZGlkYXRlXG5hZGRTdGFuZGFyZChcIk5vbkNvbnZlcnRcIiwgS2V5VGFibGUuWEtfTXVoZW5rYW4pO1xuYWRkU3RhbmRhcmQoXCJQcmV2aW91c0NhbmRpZGF0ZVwiLCBLZXlUYWJsZS5YS19QcmV2aW91c0NhbmRpZGF0ZSk7XG4vLyAtIFByb2Nlc3NcbmFkZFN0YW5kYXJkKFwiU2luZ2xlQ2FuZGlkYXRlXCIsIEtleVRhYmxlLlhLX1NpbmdsZUNhbmRpZGF0ZSk7XG5hZGRTdGFuZGFyZChcIkhhbmd1bE1vZGVcIiwgS2V5VGFibGUuWEtfSGFuZ3VsKTtcbmFkZFN0YW5kYXJkKFwiSGFuamFNb2RlXCIsIEtleVRhYmxlLlhLX0hhbmd1bF9IYW5qYSk7XG5hZGRTdGFuZGFyZChcIkp1bmp1YU1vZGVcIiwgS2V5VGFibGUuWEtfSGFuZ3VsX0plb25qYSk7XG5hZGRTdGFuZGFyZChcIkVpc3VcIiwgS2V5VGFibGUuWEtfRWlzdV90b2dnbGUpO1xuYWRkU3RhbmRhcmQoXCJIYW5rYWt1XCIsIEtleVRhYmxlLlhLX0hhbmtha3UpO1xuYWRkU3RhbmRhcmQoXCJIaXJhZ2FuYVwiLCBLZXlUYWJsZS5YS19IaXJhZ2FuYSk7XG5hZGRTdGFuZGFyZChcIkhpcmFnYW5hS2F0YWthbmFcIiwgS2V5VGFibGUuWEtfSGlyYWdhbmFfS2F0YWthbmEpO1xuYWRkU3RhbmRhcmQoXCJLYW5hTW9kZVwiLCBLZXlUYWJsZS5YS19LYW5hX1NoaWZ0KTsgLy8gY291bGQgYWxzbyBiZSBfS2FuYV9Mb2NrXG5hZGRTdGFuZGFyZChcIkthbmppTW9kZVwiLCBLZXlUYWJsZS5YS19LYW5qaSk7XG5hZGRTdGFuZGFyZChcIkthdGFrYW5hXCIsIEtleVRhYmxlLlhLX0thdGFrYW5hKTtcbmFkZFN0YW5kYXJkKFwiUm9tYWppXCIsIEtleVRhYmxlLlhLX1JvbWFqaSk7XG5hZGRTdGFuZGFyZChcIlplbmtha3VcIiwgS2V5VGFibGUuWEtfWmVua2FrdSk7XG5hZGRTdGFuZGFyZChcIlplbmtha3VIYW5ha3VcIiwgS2V5VGFibGUuWEtfWmVua2FrdV9IYW5rYWt1KTtcblxuLy8gMi45LiBHZW5lcmFsLVB1cnBvc2UgRnVuY3Rpb24gS2V5c1xuXG5hZGRTdGFuZGFyZChcIkYxXCIsIEtleVRhYmxlLlhLX0YxKTtcbmFkZFN0YW5kYXJkKFwiRjJcIiwgS2V5VGFibGUuWEtfRjIpO1xuYWRkU3RhbmRhcmQoXCJGM1wiLCBLZXlUYWJsZS5YS19GMyk7XG5hZGRTdGFuZGFyZChcIkY0XCIsIEtleVRhYmxlLlhLX0Y0KTtcbmFkZFN0YW5kYXJkKFwiRjVcIiwgS2V5VGFibGUuWEtfRjUpO1xuYWRkU3RhbmRhcmQoXCJGNlwiLCBLZXlUYWJsZS5YS19GNik7XG5hZGRTdGFuZGFyZChcIkY3XCIsIEtleVRhYmxlLlhLX0Y3KTtcbmFkZFN0YW5kYXJkKFwiRjhcIiwgS2V5VGFibGUuWEtfRjgpO1xuYWRkU3RhbmRhcmQoXCJGOVwiLCBLZXlUYWJsZS5YS19GOSk7XG5hZGRTdGFuZGFyZChcIkYxMFwiLCBLZXlUYWJsZS5YS19GMTApO1xuYWRkU3RhbmRhcmQoXCJGMTFcIiwgS2V5VGFibGUuWEtfRjExKTtcbmFkZFN0YW5kYXJkKFwiRjEyXCIsIEtleVRhYmxlLlhLX0YxMik7XG5hZGRTdGFuZGFyZChcIkYxM1wiLCBLZXlUYWJsZS5YS19GMTMpO1xuYWRkU3RhbmRhcmQoXCJGMTRcIiwgS2V5VGFibGUuWEtfRjE0KTtcbmFkZFN0YW5kYXJkKFwiRjE1XCIsIEtleVRhYmxlLlhLX0YxNSk7XG5hZGRTdGFuZGFyZChcIkYxNlwiLCBLZXlUYWJsZS5YS19GMTYpO1xuYWRkU3RhbmRhcmQoXCJGMTdcIiwgS2V5VGFibGUuWEtfRjE3KTtcbmFkZFN0YW5kYXJkKFwiRjE4XCIsIEtleVRhYmxlLlhLX0YxOCk7XG5hZGRTdGFuZGFyZChcIkYxOVwiLCBLZXlUYWJsZS5YS19GMTkpO1xuYWRkU3RhbmRhcmQoXCJGMjBcIiwgS2V5VGFibGUuWEtfRjIwKTtcbmFkZFN0YW5kYXJkKFwiRjIxXCIsIEtleVRhYmxlLlhLX0YyMSk7XG5hZGRTdGFuZGFyZChcIkYyMlwiLCBLZXlUYWJsZS5YS19GMjIpO1xuYWRkU3RhbmRhcmQoXCJGMjNcIiwgS2V5VGFibGUuWEtfRjIzKTtcbmFkZFN0YW5kYXJkKFwiRjI0XCIsIEtleVRhYmxlLlhLX0YyNCk7XG5hZGRTdGFuZGFyZChcIkYyNVwiLCBLZXlUYWJsZS5YS19GMjUpO1xuYWRkU3RhbmRhcmQoXCJGMjZcIiwgS2V5VGFibGUuWEtfRjI2KTtcbmFkZFN0YW5kYXJkKFwiRjI3XCIsIEtleVRhYmxlLlhLX0YyNyk7XG5hZGRTdGFuZGFyZChcIkYyOFwiLCBLZXlUYWJsZS5YS19GMjgpO1xuYWRkU3RhbmRhcmQoXCJGMjlcIiwgS2V5VGFibGUuWEtfRjI5KTtcbmFkZFN0YW5kYXJkKFwiRjMwXCIsIEtleVRhYmxlLlhLX0YzMCk7XG5hZGRTdGFuZGFyZChcIkYzMVwiLCBLZXlUYWJsZS5YS19GMzEpO1xuYWRkU3RhbmRhcmQoXCJGMzJcIiwgS2V5VGFibGUuWEtfRjMyKTtcbmFkZFN0YW5kYXJkKFwiRjMzXCIsIEtleVRhYmxlLlhLX0YzMyk7XG5hZGRTdGFuZGFyZChcIkYzNFwiLCBLZXlUYWJsZS5YS19GMzQpO1xuYWRkU3RhbmRhcmQoXCJGMzVcIiwgS2V5VGFibGUuWEtfRjM1KTtcbi8vIC0gU29mdDEuLi5cblxuLy8gMi4xMC4gTXVsdGltZWRpYSBLZXlzXG5cbi8vIC0gQ2hhbm5lbERvd25cbi8vIC0gQ2hhbm5lbFVwXG5hZGRTdGFuZGFyZChcIkNsb3NlXCIsIEtleVRhYmxlLlhGODZYS19DbG9zZSk7XG5hZGRTdGFuZGFyZChcIk1haWxGb3J3YXJkXCIsIEtleVRhYmxlLlhGODZYS19NYWlsRm9yd2FyZCk7XG5hZGRTdGFuZGFyZChcIk1haWxSZXBseVwiLCBLZXlUYWJsZS5YRjg2WEtfUmVwbHkpO1xuYWRkU3RhbmRhcmQoXCJNYWluU2VuZFwiLCBLZXlUYWJsZS5YRjg2WEtfU2VuZCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhRmFzdEZvcndhcmRcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvRm9yd2FyZCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhUGF1c2VcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUGF1c2UpO1xuYWRkU3RhbmRhcmQoXCJNZWRpYVBsYXlcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUGxheSk7XG5hZGRTdGFuZGFyZChcIk1lZGlhUmVjb3JkXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1JlY29yZCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhUmV3aW5kXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb1Jld2luZCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhU3RvcFwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9TdG9wKTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFUcmFja05leHRcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvTmV4dCk7XG5hZGRTdGFuZGFyZChcIk1lZGlhVHJhY2tQcmV2aW91c1wiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9QcmV2KTtcbmFkZFN0YW5kYXJkKFwiTmV3XCIsIEtleVRhYmxlLlhGODZYS19OZXcpO1xuYWRkU3RhbmRhcmQoXCJPcGVuXCIsIEtleVRhYmxlLlhGODZYS19PcGVuKTtcbmFkZFN0YW5kYXJkKFwiUHJpbnRcIiwgS2V5VGFibGUuWEtfUHJpbnQpO1xuYWRkU3RhbmRhcmQoXCJTYXZlXCIsIEtleVRhYmxlLlhGODZYS19TYXZlKTtcbmFkZFN0YW5kYXJkKFwiU3BlbGxDaGVja1wiLCBLZXlUYWJsZS5YRjg2WEtfU3BlbGwpO1xuXG4vLyAyLjExLiBNdWx0aW1lZGlhIE51bXBhZCBLZXlzXG5cbi8vIC0gS2V5MTFcbi8vIC0gS2V5MTJcblxuLy8gMi4xMi4gQXVkaW8gS2V5c1xuXG4vLyAtIEF1ZGlvQmFsYW5jZUxlZnRcbi8vIC0gQXVkaW9CYWxhbmNlUmlnaHRcbi8vIC0gQXVkaW9CYXNzRG93blxuLy8gLSBBdWRpb0Jhc3NCb29zdERvd25cbi8vIC0gQXVkaW9CYXNzQm9vc3RUb2dnbGVcbi8vIC0gQXVkaW9CYXNzQm9vc3RVcFxuLy8gLSBBdWRpb0Jhc3NVcFxuLy8gLSBBdWRpb0ZhZGVyRnJvbnRcbi8vIC0gQXVkaW9GYWRlclJlYXJcbi8vIC0gQXVkaW9TdXJyb3VuZE1vZGVOZXh0XG4vLyAtIEF1ZGlvVHJlYmxlRG93blxuLy8gLSBBdWRpb1RyZWJsZVVwXG5hZGRTdGFuZGFyZChcIkF1ZGlvVm9sdW1lRG93blwiLCBLZXlUYWJsZS5YRjg2WEtfQXVkaW9Mb3dlclZvbHVtZSk7XG5hZGRTdGFuZGFyZChcIkF1ZGlvVm9sdW1lVXBcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUmFpc2VWb2x1bWUpO1xuYWRkU3RhbmRhcmQoXCJBdWRpb1ZvbHVtZU11dGVcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvTXV0ZSk7XG4vLyAtIE1pY3JvcGhvbmVUb2dnbGVcbi8vIC0gTWljcm9waG9uZVZvbHVtZURvd25cbi8vIC0gTWljcm9waG9uZVZvbHVtZVVwXG5hZGRTdGFuZGFyZChcIk1pY3JvcGhvbmVWb2x1bWVNdXRlXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb01pY011dGUpO1xuXG4vLyAyLjEzLiBTcGVlY2ggS2V5c1xuXG4vLyAtIFNwZWVjaENvcnJlY3Rpb25MaXN0XG4vLyAtIFNwZWVjaElucHV0VG9nZ2xlXG5cbi8vIDIuMTQuIEFwcGxpY2F0aW9uIEtleXNcblxuYWRkU3RhbmRhcmQoXCJMYXVuY2hDYWxjdWxhdG9yXCIsIEtleVRhYmxlLlhGODZYS19DYWxjdWxhdG9yKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoQ2FsZW5kYXJcIiwgS2V5VGFibGUuWEY4NlhLX0NhbGVuZGFyKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoTWFpbFwiLCBLZXlUYWJsZS5YRjg2WEtfTWFpbCk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaE1lZGlhUGxheWVyXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb01lZGlhKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoTXVzaWNQbGF5ZXJcIiwgS2V5VGFibGUuWEY4NlhLX011c2ljKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoTXlDb21wdXRlclwiLCBLZXlUYWJsZS5YRjg2WEtfTXlDb21wdXRlcik7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFBob25lXCIsIEtleVRhYmxlLlhGODZYS19QaG9uZSk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFNjcmVlblNhdmVyXCIsIEtleVRhYmxlLlhGODZYS19TY3JlZW5TYXZlcik7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFNwcmVhZHNoZWV0XCIsIEtleVRhYmxlLlhGODZYS19FeGNlbCk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFdlYkJyb3dzZXJcIiwgS2V5VGFibGUuWEY4NlhLX1dXVyk7XG5hZGRTdGFuZGFyZChcIkxhdW5jaFdlYkNhbVwiLCBLZXlUYWJsZS5YRjg2WEtfV2ViQ2FtKTtcbmFkZFN0YW5kYXJkKFwiTGF1bmNoV29yZFByb2Nlc3NvclwiLCBLZXlUYWJsZS5YRjg2WEtfV29yZCk7XG5cbi8vIDIuMTUuIEJyb3dzZXIgS2V5c1xuXG5hZGRTdGFuZGFyZChcIkJyb3dzZXJCYWNrXCIsIEtleVRhYmxlLlhGODZYS19CYWNrKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlckZhdm9yaXRlc1wiLCBLZXlUYWJsZS5YRjg2WEtfRmF2b3JpdGVzKTtcbmFkZFN0YW5kYXJkKFwiQnJvd3NlckZvcndhcmRcIiwgS2V5VGFibGUuWEY4NlhLX0ZvcndhcmQpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VySG9tZVwiLCBLZXlUYWJsZS5YRjg2WEtfSG9tZVBhZ2UpO1xuYWRkU3RhbmRhcmQoXCJCcm93c2VyUmVmcmVzaFwiLCBLZXlUYWJsZS5YRjg2WEtfUmVmcmVzaCk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJTZWFyY2hcIiwgS2V5VGFibGUuWEY4NlhLX1NlYXJjaCk7XG5hZGRTdGFuZGFyZChcIkJyb3dzZXJTdG9wXCIsIEtleVRhYmxlLlhGODZYS19TdG9wKTtcblxuLy8gMi4xNi4gTW9iaWxlIFBob25lIEtleXNcblxuLy8gLSBBIHdob2xlIGJ1bmNoLi4uXG5cbi8vIDIuMTcuIFRWIEtleXNcblxuLy8gLSBBIHdob2xlIGJ1bmNoLi4uXG5cbi8vIDIuMTguIE1lZGlhIENvbnRyb2xsZXIgS2V5c1xuXG4vLyAtIEEgd2hvbGUgYnVuY2guLi5cbmFkZFN0YW5kYXJkKFwiRGltbWVyXCIsIEtleVRhYmxlLlhGODZYS19CcmlnaHRuZXNzQWRqdXN0KTtcbmFkZFN0YW5kYXJkKFwiTWVkaWFBdWRpb1RyYWNrXCIsIEtleVRhYmxlLlhGODZYS19BdWRpb0N5Y2xlVHJhY2spO1xuYWRkU3RhbmRhcmQoXCJSYW5kb21Ub2dnbGVcIiwgS2V5VGFibGUuWEY4NlhLX0F1ZGlvUmFuZG9tUGxheSk7XG5hZGRTdGFuZGFyZChcIlNwbGl0U2NyZWVuVG9nZ2xlXCIsIEtleVRhYmxlLlhGODZYS19TcGxpdFNjcmVlbik7XG5hZGRTdGFuZGFyZChcIlN1YnRpdGxlXCIsIEtleVRhYmxlLlhGODZYS19TdWJ0aXRsZSk7XG5hZGRTdGFuZGFyZChcIlZpZGVvTW9kZU5leHRcIiwgS2V5VGFibGUuWEY4NlhLX05leHRfVk1vZGUpO1xuXG4vLyBFeHRyYTogTnVtcGFkXG5cbmFkZE51bXBhZChcIj1cIiwgS2V5VGFibGUuWEtfZXF1YWwsIEtleVRhYmxlLlhLX0tQX0VxdWFsKTtcbmFkZE51bXBhZChcIitcIiwgS2V5VGFibGUuWEtfcGx1cywgS2V5VGFibGUuWEtfS1BfQWRkKTtcbmFkZE51bXBhZChcIi1cIiwgS2V5VGFibGUuWEtfbWludXMsIEtleVRhYmxlLlhLX0tQX1N1YnRyYWN0KTtcbmFkZE51bXBhZChcIipcIiwgS2V5VGFibGUuWEtfYXN0ZXJpc2ssIEtleVRhYmxlLlhLX0tQX011bHRpcGx5KTtcbmFkZE51bXBhZChcIi9cIiwgS2V5VGFibGUuWEtfc2xhc2gsIEtleVRhYmxlLlhLX0tQX0RpdmlkZSk7XG5hZGROdW1wYWQoXCIuXCIsIEtleVRhYmxlLlhLX3BlcmlvZCwgS2V5VGFibGUuWEtfS1BfRGVjaW1hbCk7XG5hZGROdW1wYWQoXCIsXCIsIEtleVRhYmxlLlhLX2NvbW1hLCBLZXlUYWJsZS5YS19LUF9TZXBhcmF0b3IpO1xuYWRkTnVtcGFkKFwiMFwiLCBLZXlUYWJsZS5YS18wLCBLZXlUYWJsZS5YS19LUF8wKTtcbmFkZE51bXBhZChcIjFcIiwgS2V5VGFibGUuWEtfMSwgS2V5VGFibGUuWEtfS1BfMSk7XG5hZGROdW1wYWQoXCIyXCIsIEtleVRhYmxlLlhLXzIsIEtleVRhYmxlLlhLX0tQXzIpO1xuYWRkTnVtcGFkKFwiM1wiLCBLZXlUYWJsZS5YS18zLCBLZXlUYWJsZS5YS19LUF8zKTtcbmFkZE51bXBhZChcIjRcIiwgS2V5VGFibGUuWEtfNCwgS2V5VGFibGUuWEtfS1BfNCk7XG5hZGROdW1wYWQoXCI1XCIsIEtleVRhYmxlLlhLXzUsIEtleVRhYmxlLlhLX0tQXzUpO1xuYWRkTnVtcGFkKFwiNlwiLCBLZXlUYWJsZS5YS182LCBLZXlUYWJsZS5YS19LUF82KTtcbmFkZE51bXBhZChcIjdcIiwgS2V5VGFibGUuWEtfNywgS2V5VGFibGUuWEtfS1BfNyk7XG5hZGROdW1wYWQoXCI4XCIsIEtleVRhYmxlLlhLXzgsIEtleVRhYmxlLlhLX0tQXzgpO1xuYWRkTnVtcGFkKFwiOVwiLCBLZXlUYWJsZS5YS185LCBLZXlUYWJsZS5YS19LUF85KTtcblxuZXhwb3J0IGRlZmF1bHQgRE9NS2V5VGFibGU7XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxNyBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG4vKlxuICogRmFsbGJhY2sgbWFwcGluZyBiZXR3ZWVuIEhUTUwga2V5IGNvZGVzIChwaHlzaWNhbCBrZXlzKSBhbmRcbiAqIEhUTUwga2V5IHZhbHVlcy4gVGhpcyBvbmx5IHdvcmtzIGZvciBrZXlzIHRoYXQgZG9uJ3QgdmFyeVxuICogYmV0d2VlbiBsYXlvdXRzLiBXZSBhbHNvIG9taXQgdGhvc2Ugd2hvIG1hbmFnZSBmaW5lIGJ5IG1hcHBpbmcgdGhlXG4gKiBVbmljb2RlIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMtY29kZS8gZm9yIHBvc3NpYmxlIGNvZGVzLlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi91aWV2ZW50cy1rZXkvIGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4vLyAzLjEuMS4xLiBXcml0aW5nIFN5c3RlbSBLZXlzXG5cbiAgICAnQmFja3NwYWNlJzogICAgICAgICdCYWNrc3BhY2UnLFxuXG4vLyAzLjEuMS4yLiBGdW5jdGlvbmFsIEtleXNcblxuICAgICdBbHRMZWZ0JzogICAgICAgICAgJ0FsdCcsXG4gICAgJ0FsdFJpZ2h0JzogICAgICAgICAnQWx0JywgLy8gVGhpcyBjb3VsZCBhbHNvIGJlICdBbHRHcmFwaCdcbiAgICAnQ2Fwc0xvY2snOiAgICAgICAgICdDYXBzTG9jaycsXG4gICAgJ0NvbnRleHRNZW51JzogICAgICAnQ29udGV4dE1lbnUnLFxuICAgICdDb250cm9sTGVmdCc6ICAgICAgJ0NvbnRyb2wnLFxuICAgICdDb250cm9sUmlnaHQnOiAgICAgJ0NvbnRyb2wnLFxuICAgICdFbnRlcic6ICAgICAgICAgICAgJ0VudGVyJyxcbiAgICAnTWV0YUxlZnQnOiAgICAgICAgICdNZXRhJyxcbiAgICAnTWV0YVJpZ2h0JzogICAgICAgICdNZXRhJyxcbiAgICAnU2hpZnRMZWZ0JzogICAgICAgICdTaGlmdCcsXG4gICAgJ1NoaWZ0UmlnaHQnOiAgICAgICAnU2hpZnQnLFxuICAgICdUYWInOiAgICAgICAgICAgICAgJ1RhYicsXG4gICAgLy8gRklYTUU6IEphcGFuZXNlL0tvcmVhbiBrZXlzXG5cbi8vIDMuMS4yLiBDb250cm9sIFBhZCBTZWN0aW9uXG5cbiAgICAnRGVsZXRlJzogICAgICAgICAgICdEZWxldGUnLFxuICAgICdFbmQnOiAgICAgICAgICAgICAgJ0VuZCcsXG4gICAgJ0hlbHAnOiAgICAgICAgICAgICAnSGVscCcsXG4gICAgJ0hvbWUnOiAgICAgICAgICAgICAnSG9tZScsXG4gICAgJ0luc2VydCc6ICAgICAgICAgICAnSW5zZXJ0JyxcbiAgICAnUGFnZURvd24nOiAgICAgICAgICdQYWdlRG93bicsXG4gICAgJ1BhZ2VVcCc6ICAgICAgICAgICAnUGFnZVVwJyxcblxuLy8gMy4xLjMuIEFycm93IFBhZCBTZWN0aW9uXG5cbiAgICAnQXJyb3dEb3duJzogICAgICAgICdBcnJvd0Rvd24nLFxuICAgICdBcnJvd0xlZnQnOiAgICAgICAgJ0Fycm93TGVmdCcsXG4gICAgJ0Fycm93UmlnaHQnOiAgICAgICAnQXJyb3dSaWdodCcsXG4gICAgJ0Fycm93VXAnOiAgICAgICAgICAnQXJyb3dVcCcsXG5cbi8vIDMuMS40LiBOdW1wYWQgU2VjdGlvblxuXG4gICAgJ051bUxvY2snOiAgICAgICAgICAnTnVtTG9jaycsXG4gICAgJ051bXBhZEJhY2tzcGFjZSc6ICAnQmFja3NwYWNlJyxcbiAgICAnTnVtcGFkQ2xlYXInOiAgICAgICdDbGVhcicsXG5cbi8vIDMuMS41LiBGdW5jdGlvbiBTZWN0aW9uXG5cbiAgICAnRXNjYXBlJzogICAgICAgICAgICdFc2NhcGUnLFxuICAgICdGMSc6ICAgICAgICAgICAgICAgJ0YxJyxcbiAgICAnRjInOiAgICAgICAgICAgICAgICdGMicsXG4gICAgJ0YzJzogICAgICAgICAgICAgICAnRjMnLFxuICAgICdGNCc6ICAgICAgICAgICAgICAgJ0Y0JyxcbiAgICAnRjUnOiAgICAgICAgICAgICAgICdGNScsXG4gICAgJ0Y2JzogICAgICAgICAgICAgICAnRjYnLFxuICAgICdGNyc6ICAgICAgICAgICAgICAgJ0Y3JyxcbiAgICAnRjgnOiAgICAgICAgICAgICAgICdGOCcsXG4gICAgJ0Y5JzogICAgICAgICAgICAgICAnRjknLFxuICAgICdGMTAnOiAgICAgICAgICAgICAgJ0YxMCcsXG4gICAgJ0YxMSc6ICAgICAgICAgICAgICAnRjExJyxcbiAgICAnRjEyJzogICAgICAgICAgICAgICdGMTInLFxuICAgICdGMTMnOiAgICAgICAgICAgICAgJ0YxMycsXG4gICAgJ0YxNCc6ICAgICAgICAgICAgICAnRjE0JyxcbiAgICAnRjE1JzogICAgICAgICAgICAgICdGMTUnLFxuICAgICdGMTYnOiAgICAgICAgICAgICAgJ0YxNicsXG4gICAgJ0YxNyc6ICAgICAgICAgICAgICAnRjE3JyxcbiAgICAnRjE4JzogICAgICAgICAgICAgICdGMTgnLFxuICAgICdGMTknOiAgICAgICAgICAgICAgJ0YxOScsXG4gICAgJ0YyMCc6ICAgICAgICAgICAgICAnRjIwJyxcbiAgICAnRjIxJzogICAgICAgICAgICAgICdGMjEnLFxuICAgICdGMjInOiAgICAgICAgICAgICAgJ0YyMicsXG4gICAgJ0YyMyc6ICAgICAgICAgICAgICAnRjIzJyxcbiAgICAnRjI0JzogICAgICAgICAgICAgICdGMjQnLFxuICAgICdGMjUnOiAgICAgICAgICAgICAgJ0YyNScsXG4gICAgJ0YyNic6ICAgICAgICAgICAgICAnRjI2JyxcbiAgICAnRjI3JzogICAgICAgICAgICAgICdGMjcnLFxuICAgICdGMjgnOiAgICAgICAgICAgICAgJ0YyOCcsXG4gICAgJ0YyOSc6ICAgICAgICAgICAgICAnRjI5JyxcbiAgICAnRjMwJzogICAgICAgICAgICAgICdGMzAnLFxuICAgICdGMzEnOiAgICAgICAgICAgICAgJ0YzMScsXG4gICAgJ0YzMic6ICAgICAgICAgICAgICAnRjMyJyxcbiAgICAnRjMzJzogICAgICAgICAgICAgICdGMzMnLFxuICAgICdGMzQnOiAgICAgICAgICAgICAgJ0YzNCcsXG4gICAgJ0YzNSc6ICAgICAgICAgICAgICAnRjM1JyxcbiAgICAnUHJpbnRTY3JlZW4nOiAgICAgICdQcmludFNjcmVlbicsXG4gICAgJ1Njcm9sbExvY2snOiAgICAgICAnU2Nyb2xsTG9jaycsXG4gICAgJ1BhdXNlJzogICAgICAgICAgICAnUGF1c2UnLFxuXG4vLyAzLjEuNi4gTWVkaWEgS2V5c1xuXG4gICAgJ0Jyb3dzZXJCYWNrJzogICAgICAnQnJvd3NlckJhY2snLFxuICAgICdCcm93c2VyRmF2b3JpdGVzJzogJ0Jyb3dzZXJGYXZvcml0ZXMnLFxuICAgICdCcm93c2VyRm9yd2FyZCc6ICAgJ0Jyb3dzZXJGb3J3YXJkJyxcbiAgICAnQnJvd3NlckhvbWUnOiAgICAgICdCcm93c2VySG9tZScsXG4gICAgJ0Jyb3dzZXJSZWZyZXNoJzogICAnQnJvd3NlclJlZnJlc2gnLFxuICAgICdCcm93c2VyU2VhcmNoJzogICAgJ0Jyb3dzZXJTZWFyY2gnLFxuICAgICdCcm93c2VyU3RvcCc6ICAgICAgJ0Jyb3dzZXJTdG9wJyxcbiAgICAnRWplY3QnOiAgICAgICAgICAgICdFamVjdCcsXG4gICAgJ0xhdW5jaEFwcDEnOiAgICAgICAnTGF1bmNoTXlDb21wdXRlcicsXG4gICAgJ0xhdW5jaEFwcDInOiAgICAgICAnTGF1bmNoQ2FsZW5kYXInLFxuICAgICdMYXVuY2hNYWlsJzogICAgICAgJ0xhdW5jaE1haWwnLFxuICAgICdNZWRpYVBsYXlQYXVzZSc6ICAgJ01lZGlhUGxheScsXG4gICAgJ01lZGlhU3RvcCc6ICAgICAgICAnTWVkaWFTdG9wJyxcbiAgICAnTWVkaWFUcmFja05leHQnOiAgICdNZWRpYVRyYWNrTmV4dCcsXG4gICAgJ01lZGlhVHJhY2tQcmV2aW91cyc6ICdNZWRpYVRyYWNrUHJldmlvdXMnLFxuICAgICdQb3dlcic6ICAgICAgICAgICAgJ1Bvd2VyJyxcbiAgICAnU2xlZXAnOiAgICAgICAgICAgICdTbGVlcCcsXG4gICAgJ0F1ZGlvVm9sdW1lRG93bic6ICAnQXVkaW9Wb2x1bWVEb3duJyxcbiAgICAnQXVkaW9Wb2x1bWVNdXRlJzogICdBdWRpb1ZvbHVtZU11dGUnLFxuICAgICdBdWRpb1ZvbHVtZVVwJzogICAgJ0F1ZGlvVm9sdW1lVXAnLFxuICAgICdXYWtlVXAnOiAgICAgICAgICAgJ1dha2VVcCcsXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIENvcHlyaWdodCAoQykgMjAxMyBTYW11ZWwgTWFubmVoZWQgZm9yIENlbmRpbyBBQlxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCBvciBhbnkgbGF0ZXIgdmVyc2lvbiAoc2VlIExJQ0VOU0UudHh0KVxuICovXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuLi91dGlsL2xvZ2dpbmcuanMnO1xuaW1wb3J0IHsgc3RvcEV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudHMuanMnO1xuaW1wb3J0ICogYXMgS2V5Ym9hcmRVdGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCBLZXlUYWJsZSBmcm9tIFwiLi9rZXlzeW0uanNcIjtcbmltcG9ydCAqIGFzIGJyb3dzZXIgZnJvbSBcIi4uL3V0aWwvYnJvd3Nlci5qc1wiO1xuXG4vL1xuLy8gS2V5Ym9hcmQgZXZlbnQgaGFuZGxlclxuLy9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gS2V5Ym9hcmQodGFyZ2V0KSB7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0IHx8IG51bGw7XG5cbiAgICB0aGlzLl9rZXlEb3duTGlzdCA9IHt9OyAgICAgICAgIC8vIExpc3Qgb2YgZGVwcmVzc2VkIGtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChldmVuIGlmIHRoZXkgYXJlIGhhcHB5KVxuICAgIHRoaXMuX3BlbmRpbmdLZXkgPSBudWxsOyAgICAgICAgLy8gS2V5IHdhaXRpbmcgZm9yIGtleXByZXNzXG5cbiAgICAvLyBrZWVwIHRoZXNlIGhlcmUgc28gd2UgY2FuIHJlZmVyIHRvIHRoZW0gbGF0ZXJcbiAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0ge1xuICAgICAgICAna2V5dXAnOiB0aGlzLl9oYW5kbGVLZXlVcC5iaW5kKHRoaXMpLFxuICAgICAgICAna2V5ZG93bic6IHRoaXMuX2hhbmRsZUtleURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgJ2tleXByZXNzJzogdGhpcy5faGFuZGxlS2V5UHJlc3MuYmluZCh0aGlzKSxcbiAgICAgICAgJ2JsdXInOiB0aGlzLl9hbGxLZXlzVXAuYmluZCh0aGlzKVxuICAgIH07XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUgPSB7XG4gICAgLy8gPT09PT0gRVZFTlQgSEFORExFUlMgPT09PT1cblxuICAgIG9ua2V5ZXZlbnQ6IGZ1bmN0aW9uICgpIHt9LCAgICAgLy8gSGFuZGxlciBmb3Iga2V5IHByZXNzL3JlbGVhc2VcblxuICAgIC8vID09PT09IFBSSVZBVEUgTUVUSE9EUyA9PT09PVxuXG4gICAgX3NlbmRLZXlFdmVudDogZnVuY3Rpb24gKGtleXN5bSwgY29kZSwgZG93bikge1xuICAgICAgICBMb2cuRGVidWcoXCJvbmtleWV2ZW50IFwiICsgKGRvd24gPyBcImRvd25cIiA6IFwidXBcIikgK1xuICAgICAgICAgICAgICAgICAgXCIsIGtleXN5bTogXCIgKyBrZXlzeW0sIFwiLCBjb2RlOiBcIiArIGNvZGUpO1xuXG4gICAgICAgIC8vIFdpbmRvd3Mgc2VuZHMgQ3RybExlZnQrQWx0UmlnaHQgd2hlbiB5b3UgcHJlc3NcbiAgICAgICAgLy8gQWx0R3JhcGgsIHdoaWNoIHRlbmRzIHRvIGNvbmZ1c2UgdGhlIGhlbGwgb3V0IG9mXG4gICAgICAgIC8vIHJlbW90ZSBzeXN0ZW1zLiBGYWtlIGEgcmVsZWFzZSBvZiB0aGVzZSBrZXlzIHVudGlsXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIGRldGVjdCBBbHRHcmFwaCBwcm9wZXJseS5cbiAgICAgICAgdmFyIGZha2VBbHRHcmFwaCA9IGZhbHNlO1xuICAgICAgICBpZiAoZG93biAmJiBicm93c2VyLmlzV2luZG93cygpKSB7XG4gICAgICAgICAgICBpZiAoKGNvZGUgIT09ICdDb250cm9sTGVmdCcpICYmXG4gICAgICAgICAgICAgICAgKGNvZGUgIT09ICdBbHRSaWdodCcpICYmXG4gICAgICAgICAgICAgICAgKCdDb250cm9sTGVmdCcgaW4gdGhpcy5fa2V5RG93bkxpc3QpICYmXG4gICAgICAgICAgICAgICAgKCdBbHRSaWdodCcgaW4gdGhpcy5fa2V5RG93bkxpc3QpKSB7XG4gICAgICAgICAgICAgICAgZmFrZUFsdEdyYXBoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9ua2V5ZXZlbnQodGhpcy5fa2V5RG93bkxpc3RbJ0FsdFJpZ2h0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWx0UmlnaHQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmtleWV2ZW50KHRoaXMuX2tleURvd25MaXN0WydDb250cm9sTGVmdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRyb2xMZWZ0JywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbmtleWV2ZW50KGtleXN5bSwgY29kZSwgZG93bik7XG5cbiAgICAgICAgaWYgKGZha2VBbHRHcmFwaCkge1xuICAgICAgICAgICAgdGhpcy5vbmtleWV2ZW50KHRoaXMuX2tleURvd25MaXN0WydDb250cm9sTGVmdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udHJvbExlZnQnLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMub25rZXlldmVudCh0aGlzLl9rZXlEb3duTGlzdFsnQWx0UmlnaHQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FsdFJpZ2h0JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2dldEtleUNvZGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb2RlID0gS2V5Ym9hcmRVdGlsLmdldEtleWNvZGUoZSk7XG4gICAgICAgIGlmIChjb2RlICE9PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbnN0YWJsZSwgYnV0IHdlIGRvbid0IGhhdmUgYW55dGhpbmcgZWxzZSB0byBnbyBvblxuICAgICAgICAvLyAoZG9uJ3QgdXNlIGl0IGZvciAna2V5cHJlc3MnIGV2ZW50cyB0aG91Z2h0IHNpbmNlXG4gICAgICAgIC8vIFdlYktpdCBzZXRzIGl0IHRvIHRoZSBzYW1lIGFzIGNoYXJDb2RlKVxuICAgICAgICBpZiAoZS5rZXlDb2RlICYmIChlLnR5cGUgIT09ICdrZXlwcmVzcycpKSB7XG4gICAgICAgICAgICAvLyAyMjkgaXMgdXNlZCBmb3IgY29tcG9zaXRpb24gZXZlbnRzXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSAyMjkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1BsYXRmb3JtJyArIGUua2V5Q29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEEgcHJlY3Vyc29yIHRvIHRoZSBmaW5hbCBET00zIHN0YW5kYXJkLiBVbmZvcnR1bmF0ZWx5IGl0XG4gICAgICAgIC8vIGlzIG5vdCBsYXlvdXQgaW5kZXBlbmRlbnQsIHNvIGl0IGlzIGFzIGJhZCBhcyB1c2luZyBrZXlDb2RlXG4gICAgICAgIGlmIChlLmtleUlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIC8vIE5vbi1jaGFyYWN0ZXIga2V5P1xuICAgICAgICAgICAgaWYgKGUua2V5SWRlbnRpZmllci5zdWJzdHIoMCwgMikgIT09ICdVKycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5rZXlJZGVudGlmaWVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29kZXBvaW50ID0gcGFyc2VJbnQoZS5rZXlJZGVudGlmaWVyLnN1YnN0cigyKSwgMTYpO1xuICAgICAgICAgICAgdmFyIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVwb2ludCk7XG4gICAgICAgICAgICAvLyBTb21lIGltcGxlbWVudGF0aW9ucyBmYWlsIHRvIHVwcGVyY2FzZSB0aGUgc3ltYm9sc1xuICAgICAgICAgICAgY2hhciA9IGNoYXIudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgICAgcmV0dXJuICdQbGF0Zm9ybScgKyBjaGFyLmNoYXJDb2RlQXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnVW5pZGVudGlmaWVkJztcbiAgICB9LFxuXG4gICAgX2hhbmRsZUtleURvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb2RlID0gdGhpcy5fZ2V0S2V5Q29kZShlKTtcbiAgICAgICAgdmFyIGtleXN5bSA9IEtleWJvYXJkVXRpbC5nZXRLZXlzeW0oZSk7XG5cbiAgICAgICAgLy8gV2UgY2Fubm90IGhhbmRsZSBrZXlzIHdlIGNhbm5vdCB0cmFjaywgYnV0IHdlIGFsc28gbmVlZFxuICAgICAgICAvLyB0byBkZWFsIHdpdGggdmlydHVhbCBrZXlib2FyZHMgd2hpY2ggb21pdCBrZXkgaW5mb1xuICAgICAgICAvLyAoaU9TIG9taXRzIHRyYWNraW5nIGluZm8gb24ga2V5dXAgZXZlbnRzLCB3aGljaCBmb3JjZXMgdXMgdG9cbiAgICAgICAgLy8gc3BlY2lhbCB0cmVhdCB0aGF0IHBsYXRmb3JtIGhlcmUpXG4gICAgICAgIGlmICgoY29kZSA9PT0gJ1VuaWRlbnRpZmllZCcpIHx8IGJyb3dzZXIuaXNJT1MoKSkge1xuICAgICAgICAgICAgaWYgKGtleXN5bSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSB2aXJ0dWFsIGtleWJvYXJkIHRoZW4gaXQgc2hvdWxkIGJlXG4gICAgICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBqdXN0IHNlbmQgcHJlc3MgYW5kIHJlbGVhc2UgcmlnaHRcbiAgICAgICAgICAgICAgICAvLyBhZnRlciBlYWNoIG90aGVyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KGtleXN5bSwgY29kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KGtleXN5bSwgY29kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHQgYmVoYXZlcyBtb3JlIGxpa2UgQWx0R3JhcGggb24gbWFjT1MsIHNvIHNodWZmbGUgdGhlXG4gICAgICAgIC8vIGtleXMgYXJvdW5kIGEgYml0IHRvIG1ha2UgdGhpbmdzIG1vcmUgc2FuZSBmb3IgdGhlIHJlbW90ZVxuICAgICAgICAvLyBzZXJ2ZXIuIFRoaXMgbWV0aG9kIGlzIHVzZWQgYnkgUmVhbFZOQyBhbmQgVGlnZXJWTkMgKGFuZFxuICAgICAgICAvLyBwb3NzaWJseSBvdGhlcnMpLlxuICAgICAgICBpZiAoYnJvd3Nlci5pc01hYygpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleXN5bSkge1xuICAgICAgICAgICAgY2FzZSBLZXlUYWJsZS5YS19TdXBlcl9MOlxuICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX0FsdF9MO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlUYWJsZS5YS19TdXBlcl9SOlxuICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX1N1cGVyX0w7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleVRhYmxlLlhLX0FsdF9MOlxuICAgICAgICAgICAgICAgIGtleXN5bSA9IEtleVRhYmxlLlhLX01vZGVfc3dpdGNoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLZXlUYWJsZS5YS19BbHRfUjpcbiAgICAgICAgICAgICAgICBrZXlzeW0gPSBLZXlUYWJsZS5YS19JU09fTGV2ZWwzX1NoaWZ0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSXMgdGhpcyBrZXkgYWxyZWFkeSBwcmVzc2VkPyBJZiBzbywgdGhlbiB3ZSBtdXN0IHVzZSB0aGVcbiAgICAgICAgLy8gc2FtZSBrZXlzeW0gb3Igd2UnbGwgY29uZnVzZSB0aGUgc2VydmVyXG4gICAgICAgIGlmIChjb2RlIGluIHRoaXMuX2tleURvd25MaXN0KSB7XG4gICAgICAgICAgICBrZXlzeW0gPSB0aGlzLl9rZXlEb3duTGlzdFtjb2RlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hY09TIGRvZXNuJ3Qgc2VuZCBwcm9wZXIga2V5IGV2ZW50cyBmb3IgbW9kaWZpZXJzLCBvbmx5XG4gICAgICAgIC8vIHN0YXRlIGNoYW5nZSBldmVudHMuIFRoYXQgZ2V0cyBleHRyYSBjb25mdXNpbmcgZm9yIENhcHNMb2NrXG4gICAgICAgIC8vIHdoaWNoIHRvZ2dsZXMgb24gZWFjaCBwcmVzcywgYnV0IG5vdCBvbiByZWxlYXNlLiBTbyBwcmV0ZW5kXG4gICAgICAgIC8vIGl0IHdhcyBhIHF1aWNrIHByZXNzIGFuZCByZWxlYXNlIG9mIHRoZSBidXR0b24uXG4gICAgICAgIGlmIChicm93c2VyLmlzTWFjKCkgJiYgKGNvZGUgPT09ICdDYXBzTG9jaycpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoS2V5VGFibGUuWEtfQ2Fwc19Mb2NrLCAnQ2Fwc0xvY2snLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChLZXlUYWJsZS5YS19DYXBzX0xvY2ssICdDYXBzTG9jaycsIGZhbHNlKTtcbiAgICAgICAgICAgIHN0b3BFdmVudChlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBsZWdhY3kgYnJvd3NlciB0aGVuIHdlJ2xsIG5lZWQgdG8gd2FpdCBmb3JcbiAgICAgICAgLy8gYSBrZXlwcmVzcyBldmVudCBhcyB3ZWxsXG4gICAgICAgIC8vIChJRSBhbmQgRWRnZSBoYXMgYSBicm9rZW4gS2V5Ym9hcmRFdmVudC5rZXksIHNvIHdlIGNhbid0XG4gICAgICAgIC8vIGp1c3QgY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiB0aGF0IGZpZWxkKVxuICAgICAgICBpZiAoIWtleXN5bSAmJiAoIWUua2V5IHx8IGJyb3dzZXIuaXNJRSgpIHx8IGJyb3dzZXIuaXNFZGdlKCkpKSB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gY29kZTtcbiAgICAgICAgICAgIC8vIEhvd2V2ZXIgd2UgbWlnaHQgbm90IGdldCBhIGtleXByZXNzIGV2ZW50IGlmIHRoZSBrZXlcbiAgICAgICAgICAgIC8vIGlzIG5vbi1wcmludGFibGUsIHdoaWNoIG5lZWRzIHNvbWUgc3BlY2lhbCBmYWxsYmFja1xuICAgICAgICAgICAgLy8gaGFuZGxpbmdcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5faGFuZGxlS2V5UHJlc3NUaW1lb3V0LmJpbmQodGhpcyksIDEwLCBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BlbmRpbmdLZXkgPSBudWxsO1xuICAgICAgICBzdG9wRXZlbnQoZSk7XG5cbiAgICAgICAgdGhpcy5fa2V5RG93bkxpc3RbY29kZV0gPSBrZXlzeW07XG5cbiAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KGtleXN5bSwgY29kZSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIC8vIExlZ2FjeSBldmVudCBmb3IgYnJvd3NlcnMgd2l0aG91dCBjb2RlL2tleVxuICAgIF9oYW5kbGVLZXlQcmVzczogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuXG4gICAgICAgIC8vIEFyZSB3ZSBleHBlY3RpbmcgYSBrZXlwcmVzcz9cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdLZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb2RlID0gdGhpcy5fZ2V0S2V5Q29kZShlKTtcbiAgICAgICAgdmFyIGtleXN5bSA9IEtleWJvYXJkVXRpbC5nZXRLZXlzeW0oZSk7XG5cbiAgICAgICAgLy8gVGhlIGtleSB3ZSB3ZXJlIHdhaXRpbmcgZm9yP1xuICAgICAgICBpZiAoKGNvZGUgIT09ICdVbmlkZW50aWZpZWQnKSAmJiAoY29kZSAhPSB0aGlzLl9wZW5kaW5nS2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29kZSA9IHRoaXMuX3BlbmRpbmdLZXk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdLZXkgPSBudWxsO1xuXG4gICAgICAgIGlmICgha2V5c3ltKSB7XG4gICAgICAgICAgICBMb2cuSW5mbygna2V5cHJlc3Mgd2l0aCBubyBrZXlzeW06JywgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9rZXlEb3duTGlzdFtjb2RlXSA9IGtleXN5bTtcblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICB9LFxuICAgIF9oYW5kbGVLZXlQcmVzc1RpbWVvdXQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIERpZCBzb21lb25lIG1hbmFnZSB0byBzb3J0IG91dCB0aGUga2V5IGFscmVhZHk/XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29kZSwga2V5c3ltO1xuXG4gICAgICAgIGNvZGUgPSB0aGlzLl9wZW5kaW5nS2V5O1xuICAgICAgICB0aGlzLl9wZW5kaW5nS2V5ID0gbnVsbDtcblxuICAgICAgICAvLyBXZSBoYXZlIG5vIHdheSBvZiBrbm93aW5nIHRoZSBwcm9wZXIga2V5c3ltIHdpdGggdGhlXG4gICAgICAgIC8vIGluZm9ybWF0aW9uIGdpdmVuLCBidXQgdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZSBmb3IgbW9zdFxuICAgICAgICAvLyBsYXlvdXRzXG4gICAgICAgIGlmICgoZS5rZXlDb2RlID49IDB4MzApICYmIChlLmtleUNvZGUgPD0gMHgzOSkpIHtcbiAgICAgICAgICAgIC8vIERpZ2l0XG4gICAgICAgICAgICBrZXlzeW0gPSBlLmtleUNvZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoKGUua2V5Q29kZSA+PSAweDQxKSAmJiAoZS5rZXlDb2RlIDw9IDB4NWEpKSB7XG4gICAgICAgICAgICAvLyBDaGFyYWN0ZXIgKEEtWilcbiAgICAgICAgICAgIHZhciBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1xuICAgICAgICAgICAgLy8gQSBmZWVibGUgYXR0ZW1wdCBhdCB0aGUgY29ycmVjdCBjYXNlXG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSlcbiAgICAgICAgICAgICAgICBjaGFyID0gY2hhci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNoYXIgPSBjaGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBrZXlzeW0gPSBjaGFyLmNoYXJDb2RlQXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVua25vd24sIGdpdmUgdXBcbiAgICAgICAgICAgIGtleXN5bSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9rZXlEb3duTGlzdFtjb2RlXSA9IGtleXN5bTtcblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQoa2V5c3ltLCBjb2RlLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZUtleVVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzdG9wRXZlbnQoZSk7XG5cbiAgICAgICAgdmFyIGNvZGUgPSB0aGlzLl9nZXRLZXlDb2RlKGUpO1xuXG4gICAgICAgIC8vIFNlZSBjb21tZW50IGluIF9oYW5kbGVLZXlEb3duKClcbiAgICAgICAgaWYgKGJyb3dzZXIuaXNNYWMoKSAmJiAoY29kZSA9PT0gJ0NhcHNMb2NrJykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRLZXlFdmVudChLZXlUYWJsZS5YS19DYXBzX0xvY2ssICdDYXBzTG9jaycsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fc2VuZEtleUV2ZW50KEtleVRhYmxlLlhLX0NhcHNfTG9jaywgJ0NhcHNMb2NrJywgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gd2UgcmVhbGx5IHRoaW5rIHRoaXMga2V5IGlzIGRvd24/XG4gICAgICAgIGlmICghKGNvZGUgaW4gdGhpcy5fa2V5RG93bkxpc3QpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQodGhpcy5fa2V5RG93bkxpc3RbY29kZV0sIGNvZGUsIGZhbHNlKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5fa2V5RG93bkxpc3RbY29kZV07XG4gICAgfSxcblxuICAgIF9hbGxLZXlzVXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9nLkRlYnVnKFwiPj4gS2V5Ym9hcmQuYWxsS2V5c1VwXCIpO1xuICAgICAgICBmb3IgKHZhciBjb2RlIGluIHRoaXMuX2tleURvd25MaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kS2V5RXZlbnQodGhpcy5fa2V5RG93bkxpc3RbY29kZV0sIGNvZGUsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fa2V5RG93bkxpc3QgPSB7fTtcbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgS2V5Ym9hcmQuYWxsS2V5c1VwXCIpO1xuICAgIH0sXG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgZ3JhYjogZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0xvZy5EZWJ1ZyhcIj4+IEtleWJvYXJkLmdyYWJcIik7XG4gICAgICAgIHZhciBjID0gdGhpcy5fdGFyZ2V0O1xuXG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5ZG93bik7XG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9ldmVudEhhbmRsZXJzLmtleXVwKTtcbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5cHJlc3MpO1xuXG4gICAgICAgIC8vIFJlbGVhc2UgKGtleSB1cCkgaWYgd2luZG93IGxvc2VzIGZvY3VzXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fZXZlbnRIYW5kbGVycy5ibHVyKTtcblxuICAgICAgICAvL0xvZy5EZWJ1ZyhcIjw8IEtleWJvYXJkLmdyYWJcIik7XG4gICAgfSxcblxuICAgIHVuZ3JhYjogZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0xvZy5EZWJ1ZyhcIj4+IEtleWJvYXJkLnVuZ3JhYlwiKTtcbiAgICAgICAgdmFyIGMgPSB0aGlzLl90YXJnZXQ7XG5cbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fZXZlbnRIYW5kbGVycy5rZXlkb3duKTtcbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMua2V5dXApO1xuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5fZXZlbnRIYW5kbGVycy5rZXlwcmVzcyk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fZXZlbnRIYW5kbGVycy5ibHVyKTtcblxuICAgICAgICAvLyBSZWxlYXNlIChrZXkgdXApIGFsbCBrZXlzIHRoYXQgYXJlIGluIGEgZG93biBzdGF0ZVxuICAgICAgICB0aGlzLl9hbGxLZXlzVXAoKTtcblxuICAgICAgICAvL0xvZy5EZWJ1ZyhcIj4+IEtleWJvYXJkLnVuZ3JhYlwiKTtcbiAgICB9LFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBYS19Wb2lkU3ltYm9sOiAgICAgICAgICAgICAgICAgIDB4ZmZmZmZmLCAvKiBWb2lkIHN5bWJvbCAqL1xuXG4gICAgWEtfQmFja1NwYWNlOiAgICAgICAgICAgICAgICAgICAweGZmMDgsIC8qIEJhY2sgc3BhY2UsIGJhY2sgY2hhciAqL1xuICAgIFhLX1RhYjogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjA5LFxuICAgIFhLX0xpbmVmZWVkOiAgICAgICAgICAgICAgICAgICAgMHhmZjBhLCAvKiBMaW5lZmVlZCwgTEYgKi9cbiAgICBYS19DbGVhcjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmYwYixcbiAgICBYS19SZXR1cm46ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYwZCwgLyogUmV0dXJuLCBlbnRlciAqL1xuICAgIFhLX1BhdXNlOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjEzLCAvKiBQYXVzZSwgaG9sZCAqL1xuICAgIFhLX1Njcm9sbF9Mb2NrOiAgICAgICAgICAgICAgICAgMHhmZjE0LFxuICAgIFhLX1N5c19SZXE6ICAgICAgICAgICAgICAgICAgICAgMHhmZjE1LFxuICAgIFhLX0VzY2FwZTogICAgICAgICAgICAgICAgICAgICAgMHhmZjFiLFxuICAgIFhLX0RlbGV0ZTogICAgICAgICAgICAgICAgICAgICAgMHhmZmZmLCAvKiBEZWxldGUsIHJ1Ym91dCAqL1xuXG4gICAgLyogSW50ZXJuYXRpb25hbCAmIG11bHRpLWtleSBjaGFyYWN0ZXIgY29tcG9zaXRpb24gKi9cblxuICAgIFhLX011bHRpX2tleTogICAgICAgICAgICAgICAgICAgMHhmZjIwLCAvKiBNdWx0aS1rZXkgY2hhcmFjdGVyIGNvbXBvc2UgKi9cbiAgICBYS19Db2RlaW5wdXQ6ICAgICAgICAgICAgICAgICAgIDB4ZmYzNyxcbiAgICBYS19TaW5nbGVDYW5kaWRhdGU6ICAgICAgICAgICAgIDB4ZmYzYyxcbiAgICBYS19NdWx0aXBsZUNhbmRpZGF0ZTogICAgICAgICAgIDB4ZmYzZCxcbiAgICBYS19QcmV2aW91c0NhbmRpZGF0ZTogICAgICAgICAgIDB4ZmYzZSxcblxuICAgIC8qIEphcGFuZXNlIGtleWJvYXJkIHN1cHBvcnQgKi9cblxuICAgIFhLX0thbmppOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjIxLCAvKiBLYW5qaSwgS2FuamkgY29udmVydCAqL1xuICAgIFhLX011aGVua2FuOiAgICAgICAgICAgICAgICAgICAgMHhmZjIyLCAvKiBDYW5jZWwgQ29udmVyc2lvbiAqL1xuICAgIFhLX0hlbmthbl9Nb2RlOiAgICAgICAgICAgICAgICAgMHhmZjIzLCAvKiBTdGFydC9TdG9wIENvbnZlcnNpb24gKi9cbiAgICBYS19IZW5rYW46ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYyMywgLyogQWxpYXMgZm9yIEhlbmthbl9Nb2RlICovXG4gICAgWEtfUm9tYWppOiAgICAgICAgICAgICAgICAgICAgICAweGZmMjQsIC8qIHRvIFJvbWFqaSAqL1xuICAgIFhLX0hpcmFnYW5hOiAgICAgICAgICAgICAgICAgICAgMHhmZjI1LCAvKiB0byBIaXJhZ2FuYSAqL1xuICAgIFhLX0thdGFrYW5hOiAgICAgICAgICAgICAgICAgICAgMHhmZjI2LCAvKiB0byBLYXRha2FuYSAqL1xuICAgIFhLX0hpcmFnYW5hX0thdGFrYW5hOiAgICAgICAgICAgMHhmZjI3LCAvKiBIaXJhZ2FuYS9LYXRha2FuYSB0b2dnbGUgKi9cbiAgICBYS19aZW5rYWt1OiAgICAgICAgICAgICAgICAgICAgIDB4ZmYyOCwgLyogdG8gWmVua2FrdSAqL1xuICAgIFhLX0hhbmtha3U6ICAgICAgICAgICAgICAgICAgICAgMHhmZjI5LCAvKiB0byBIYW5rYWt1ICovXG4gICAgWEtfWmVua2FrdV9IYW5rYWt1OiAgICAgICAgICAgICAweGZmMmEsIC8qIFplbmtha3UvSGFua2FrdSB0b2dnbGUgKi9cbiAgICBYS19Ub3Vyb2t1OiAgICAgICAgICAgICAgICAgICAgIDB4ZmYyYiwgLyogQWRkIHRvIERpY3Rpb25hcnkgKi9cbiAgICBYS19NYXNzeW86ICAgICAgICAgICAgICAgICAgICAgIDB4ZmYyYywgLyogRGVsZXRlIGZyb20gRGljdGlvbmFyeSAqL1xuICAgIFhLX0thbmFfTG9jazogICAgICAgICAgICAgICAgICAgMHhmZjJkLCAvKiBLYW5hIExvY2sgKi9cbiAgICBYS19LYW5hX1NoaWZ0OiAgICAgICAgICAgICAgICAgIDB4ZmYyZSwgLyogS2FuYSBTaGlmdCAqL1xuICAgIFhLX0Vpc3VfU2hpZnQ6ICAgICAgICAgICAgICAgICAgMHhmZjJmLCAvKiBBbHBoYW51bWVyaWMgU2hpZnQgKi9cbiAgICBYS19FaXN1X3RvZ2dsZTogICAgICAgICAgICAgICAgIDB4ZmYzMCwgLyogQWxwaGFudW1lcmljIHRvZ2dsZSAqL1xuICAgIFhLX0thbmppX0JhbmdvdTogICAgICAgICAgICAgICAgMHhmZjM3LCAvKiBDb2RlaW5wdXQgKi9cbiAgICBYS19aZW5fS29obzogICAgICAgICAgICAgICAgICAgIDB4ZmYzZCwgLyogTXVsdGlwbGUvQWxsIENhbmRpZGF0ZShzKSAqL1xuICAgIFhLX01hZV9Lb2hvOiAgICAgICAgICAgICAgICAgICAgMHhmZjNlLCAvKiBQcmV2aW91cyBDYW5kaWRhdGUgKi9cblxuICAgIC8qIEN1cnNvciBjb250cm9sICYgbW90aW9uICovXG5cbiAgICBYS19Ib21lOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1MCxcbiAgICBYS19MZWZ0OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1MSwgLyogTW92ZSBsZWZ0LCBsZWZ0IGFycm93ICovXG4gICAgWEtfVXA6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmNTIsIC8qIE1vdmUgdXAsIHVwIGFycm93ICovXG4gICAgWEtfUmlnaHQ6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNTMsIC8qIE1vdmUgcmlnaHQsIHJpZ2h0IGFycm93ICovXG4gICAgWEtfRG93bjogICAgICAgICAgICAgICAgICAgICAgICAweGZmNTQsIC8qIE1vdmUgZG93biwgZG93biBhcnJvdyAqL1xuICAgIFhLX1ByaW9yOiAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU1LCAvKiBQcmlvciwgcHJldmlvdXMgKi9cbiAgICBYS19QYWdlX1VwOiAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NSxcbiAgICBYS19OZXh0OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1NiwgLyogTmV4dCAqL1xuICAgIFhLX1BhZ2VfRG93bjogICAgICAgICAgICAgICAgICAgMHhmZjU2LFxuICAgIFhLX0VuZDogICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjU3LCAvKiBFT0wgKi9cbiAgICBYS19CZWdpbjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmY1OCwgLyogQk9MICovXG5cblxuICAgIC8qIE1pc2MgZnVuY3Rpb25zICovXG5cbiAgICBYS19TZWxlY3Q6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2MCwgLyogU2VsZWN0LCBtYXJrICovXG4gICAgWEtfUHJpbnQ6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNjEsXG4gICAgWEtfRXhlY3V0ZTogICAgICAgICAgICAgICAgICAgICAweGZmNjIsIC8qIEV4ZWN1dGUsIHJ1biwgZG8gKi9cbiAgICBYS19JbnNlcnQ6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2MywgLyogSW5zZXJ0LCBpbnNlcnQgaGVyZSAqL1xuICAgIFhLX1VuZG86ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY1LFxuICAgIFhLX1JlZG86ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY2LCAvKiBSZWRvLCBhZ2FpbiAqL1xuICAgIFhLX01lbnU6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY3LFxuICAgIFhLX0ZpbmQ6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjY4LCAvKiBGaW5kLCBzZWFyY2ggKi9cbiAgICBYS19DYW5jZWw6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmY2OSwgLyogQ2FuY2VsLCBzdG9wLCBhYm9ydCwgZXhpdCAqL1xuICAgIFhLX0hlbHA6ICAgICAgICAgICAgICAgICAgICAgICAgMHhmZjZhLCAvKiBIZWxwICovXG4gICAgWEtfQnJlYWs6ICAgICAgICAgICAgICAgICAgICAgICAweGZmNmIsXG4gICAgWEtfTW9kZV9zd2l0Y2g6ICAgICAgICAgICAgICAgICAweGZmN2UsIC8qIENoYXJhY3RlciBzZXQgc3dpdGNoICovXG4gICAgWEtfc2NyaXB0X3N3aXRjaDogICAgICAgICAgICAgICAweGZmN2UsIC8qIEFsaWFzIGZvciBtb2RlX3N3aXRjaCAqL1xuICAgIFhLX051bV9Mb2NrOiAgICAgICAgICAgICAgICAgICAgMHhmZjdmLFxuXG4gICAgLyogS2V5cGFkIGZ1bmN0aW9ucywga2V5cGFkIG51bWJlcnMgY2xldmVybHkgY2hvc2VuIHRvIG1hcCB0byBBU0NJSSAqL1xuXG4gICAgWEtfS1BfU3BhY2U6ICAgICAgICAgICAgICAgICAgICAweGZmODAsIC8qIFNwYWNlICovXG4gICAgWEtfS1BfVGFiOiAgICAgICAgICAgICAgICAgICAgICAweGZmODksXG4gICAgWEtfS1BfRW50ZXI6ICAgICAgICAgICAgICAgICAgICAweGZmOGQsIC8qIEVudGVyICovXG4gICAgWEtfS1BfRjE6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTEsIC8qIFBGMSwgS1BfQSwgLi4uICovXG4gICAgWEtfS1BfRjI6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTIsXG4gICAgWEtfS1BfRjM6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTMsXG4gICAgWEtfS1BfRjQ6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTQsXG4gICAgWEtfS1BfSG9tZTogICAgICAgICAgICAgICAgICAgICAweGZmOTUsXG4gICAgWEtfS1BfTGVmdDogICAgICAgICAgICAgICAgICAgICAweGZmOTYsXG4gICAgWEtfS1BfVXA6ICAgICAgICAgICAgICAgICAgICAgICAweGZmOTcsXG4gICAgWEtfS1BfUmlnaHQ6ICAgICAgICAgICAgICAgICAgICAweGZmOTgsXG4gICAgWEtfS1BfRG93bjogICAgICAgICAgICAgICAgICAgICAweGZmOTksXG4gICAgWEtfS1BfUHJpb3I6ICAgICAgICAgICAgICAgICAgICAweGZmOWEsXG4gICAgWEtfS1BfUGFnZV9VcDogICAgICAgICAgICAgICAgICAweGZmOWEsXG4gICAgWEtfS1BfTmV4dDogICAgICAgICAgICAgICAgICAgICAweGZmOWIsXG4gICAgWEtfS1BfUGFnZV9Eb3duOiAgICAgICAgICAgICAgICAweGZmOWIsXG4gICAgWEtfS1BfRW5kOiAgICAgICAgICAgICAgICAgICAgICAweGZmOWMsXG4gICAgWEtfS1BfQmVnaW46ICAgICAgICAgICAgICAgICAgICAweGZmOWQsXG4gICAgWEtfS1BfSW5zZXJ0OiAgICAgICAgICAgICAgICAgICAweGZmOWUsXG4gICAgWEtfS1BfRGVsZXRlOiAgICAgICAgICAgICAgICAgICAweGZmOWYsXG4gICAgWEtfS1BfRXF1YWw6ICAgICAgICAgICAgICAgICAgICAweGZmYmQsIC8qIEVxdWFscyAqL1xuICAgIFhLX0tQX011bHRpcGx5OiAgICAgICAgICAgICAgICAgMHhmZmFhLFxuICAgIFhLX0tQX0FkZDogICAgICAgICAgICAgICAgICAgICAgMHhmZmFiLFxuICAgIFhLX0tQX1NlcGFyYXRvcjogICAgICAgICAgICAgICAgMHhmZmFjLCAvKiBTZXBhcmF0b3IsIG9mdGVuIGNvbW1hICovXG4gICAgWEtfS1BfU3VidHJhY3Q6ICAgICAgICAgICAgICAgICAweGZmYWQsXG4gICAgWEtfS1BfRGVjaW1hbDogICAgICAgICAgICAgICAgICAweGZmYWUsXG4gICAgWEtfS1BfRGl2aWRlOiAgICAgICAgICAgICAgICAgICAweGZmYWYsXG5cbiAgICBYS19LUF8wOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMCxcbiAgICBYS19LUF8xOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMSxcbiAgICBYS19LUF8yOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMixcbiAgICBYS19LUF8zOiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiMyxcbiAgICBYS19LUF80OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNCxcbiAgICBYS19LUF81OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNSxcbiAgICBYS19LUF82OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNixcbiAgICBYS19LUF83OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiNyxcbiAgICBYS19LUF84OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiOCxcbiAgICBYS19LUF85OiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmZiOSxcblxuICAgIC8qXG4gICAgICogQXV4aWxpYXJ5IGZ1bmN0aW9uczsgbm90ZSB0aGUgZHVwbGljYXRlIGRlZmluaXRpb25zIGZvciBsZWZ0IGFuZCByaWdodFxuICAgICAqIGZ1bmN0aW9uIGtleXM7ICBTdW4ga2V5Ym9hcmRzIGFuZCBhIGZldyBvdGhlciBtYW51ZmFjdHVyZXJzIGhhdmUgc3VjaFxuICAgICAqIGZ1bmN0aW9uIGtleSBncm91cHMgb24gdGhlIGxlZnQgYW5kL29yIHJpZ2h0IHNpZGVzIG9mIHRoZSBrZXlib2FyZC5cbiAgICAgKiBXZSd2ZSBub3QgZm91bmQgYSBrZXlib2FyZCB3aXRoIG1vcmUgdGhhbiAzNSBmdW5jdGlvbiBrZXlzIHRvdGFsLlxuICAgICAqL1xuXG4gICAgWEtfRjE6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYmUsXG4gICAgWEtfRjI6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYmYsXG4gICAgWEtfRjM6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzAsXG4gICAgWEtfRjQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzEsXG4gICAgWEtfRjU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzIsXG4gICAgWEtfRjY6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzMsXG4gICAgWEtfRjc6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzQsXG4gICAgWEtfRjg6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzUsXG4gICAgWEtfRjk6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzYsXG4gICAgWEtfRjEwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzcsXG4gICAgWEtfRjExOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzgsXG4gICAgWEtfTDE6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzgsXG4gICAgWEtfRjEyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzksXG4gICAgWEtfTDI6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmYzksXG4gICAgWEtfRjEzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2EsXG4gICAgWEtfTDM6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2EsXG4gICAgWEtfRjE0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2IsXG4gICAgWEtfTDQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2IsXG4gICAgWEtfRjE1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2MsXG4gICAgWEtfTDU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2MsXG4gICAgWEtfRjE2OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2QsXG4gICAgWEtfTDY6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2QsXG4gICAgWEtfRjE3OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2UsXG4gICAgWEtfTDc6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2UsXG4gICAgWEtfRjE4OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2YsXG4gICAgWEtfTDg6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmY2YsXG4gICAgWEtfRjE5OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDAsXG4gICAgWEtfTDk6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDAsXG4gICAgWEtfRjIwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDEsXG4gICAgWEtfTDEwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDEsXG4gICAgWEtfRjIxOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDIsXG4gICAgWEtfUjE6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDIsXG4gICAgWEtfRjIyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDMsXG4gICAgWEtfUjI6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDMsXG4gICAgWEtfRjIzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDQsXG4gICAgWEtfUjM6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDQsXG4gICAgWEtfRjI0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDUsXG4gICAgWEtfUjQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDUsXG4gICAgWEtfRjI1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDYsXG4gICAgWEtfUjU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDYsXG4gICAgWEtfRjI2OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDcsXG4gICAgWEtfUjY6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDcsXG4gICAgWEtfRjI3OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDgsXG4gICAgWEtfUjc6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDgsXG4gICAgWEtfRjI4OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDksXG4gICAgWEtfUjg6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZDksXG4gICAgWEtfRjI5OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGEsXG4gICAgWEtfUjk6ICAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGEsXG4gICAgWEtfRjMwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGIsXG4gICAgWEtfUjEwOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGIsXG4gICAgWEtfRjMxOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGMsXG4gICAgWEtfUjExOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGMsXG4gICAgWEtfRjMyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGQsXG4gICAgWEtfUjEyOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGQsXG4gICAgWEtfRjMzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGUsXG4gICAgWEtfUjEzOiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGUsXG4gICAgWEtfRjM0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGYsXG4gICAgWEtfUjE0OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZGYsXG4gICAgWEtfRjM1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZTAsXG4gICAgWEtfUjE1OiAgICAgICAgICAgICAgICAgICAgICAgICAweGZmZTAsXG5cbiAgICAvKiBNb2RpZmllcnMgKi9cblxuICAgIFhLX1NoaWZ0X0w6ICAgICAgICAgICAgICAgICAgICAgMHhmZmUxLCAvKiBMZWZ0IHNoaWZ0ICovXG4gICAgWEtfU2hpZnRfUjogICAgICAgICAgICAgICAgICAgICAweGZmZTIsIC8qIFJpZ2h0IHNoaWZ0ICovXG4gICAgWEtfQ29udHJvbF9MOiAgICAgICAgICAgICAgICAgICAweGZmZTMsIC8qIExlZnQgY29udHJvbCAqL1xuICAgIFhLX0NvbnRyb2xfUjogICAgICAgICAgICAgICAgICAgMHhmZmU0LCAvKiBSaWdodCBjb250cm9sICovXG4gICAgWEtfQ2Fwc19Mb2NrOiAgICAgICAgICAgICAgICAgICAweGZmZTUsIC8qIENhcHMgbG9jayAqL1xuICAgIFhLX1NoaWZ0X0xvY2s6ICAgICAgICAgICAgICAgICAgMHhmZmU2LCAvKiBTaGlmdCBsb2NrICovXG5cbiAgICBYS19NZXRhX0w6ICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlNywgLyogTGVmdCBtZXRhICovXG4gICAgWEtfTWV0YV9SOiAgICAgICAgICAgICAgICAgICAgICAweGZmZTgsIC8qIFJpZ2h0IG1ldGEgKi9cbiAgICBYS19BbHRfTDogICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlOSwgLyogTGVmdCBhbHQgKi9cbiAgICBYS19BbHRfUjogICAgICAgICAgICAgICAgICAgICAgIDB4ZmZlYSwgLyogUmlnaHQgYWx0ICovXG4gICAgWEtfU3VwZXJfTDogICAgICAgICAgICAgICAgICAgICAweGZmZWIsIC8qIExlZnQgc3VwZXIgKi9cbiAgICBYS19TdXBlcl9SOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlYywgLyogUmlnaHQgc3VwZXIgKi9cbiAgICBYS19IeXBlcl9MOiAgICAgICAgICAgICAgICAgICAgIDB4ZmZlZCwgLyogTGVmdCBoeXBlciAqL1xuICAgIFhLX0h5cGVyX1I6ICAgICAgICAgICAgICAgICAgICAgMHhmZmVlLCAvKiBSaWdodCBoeXBlciAqL1xuXG4gICAgLypcbiAgICAgKiBLZXlib2FyZCAoWEtCKSBFeHRlbnNpb24gZnVuY3Rpb24gYW5kIG1vZGlmaWVyIGtleXNcbiAgICAgKiAoZnJvbSBBcHBlbmRpeCBDIG9mIFwiVGhlIFggS2V5Ym9hcmQgRXh0ZW5zaW9uOiBQcm90b2NvbCBTcGVjaWZpY2F0aW9uXCIpXG4gICAgICogQnl0ZSAzID0gMHhmZVxuICAgICAqL1xuXG4gICAgWEtfSVNPX0xldmVsM19TaGlmdDogICAgICAgICAgICAweGZlMDMsIC8qIEFsdEdyICovXG4gICAgWEtfSVNPX05leHRfR3JvdXA6ICAgICAgICAgICAgICAweGZlMDgsXG4gICAgWEtfSVNPX1ByZXZfR3JvdXA6ICAgICAgICAgICAgICAweGZlMGEsXG4gICAgWEtfSVNPX0ZpcnN0X0dyb3VwOiAgICAgICAgICAgICAweGZlMGMsXG4gICAgWEtfSVNPX0xhc3RfR3JvdXA6ICAgICAgICAgICAgICAweGZlMGUsXG5cbiAgICAvKlxuICAgICAqIExhdGluIDFcbiAgICAgKiAoSVNPL0lFQyA4ODU5LTE6IFVuaWNvZGUgVSswMDIwLi5VKzAwRkYpXG4gICAgICogQnl0ZSAzOiAwXG4gICAgICovXG5cbiAgICBYS19zcGFjZTogICAgICAgICAgICAgICAgICAgICAgIDB4MDAyMCwgLyogVSswMDIwIFNQQUNFICovXG4gICAgWEtfZXhjbGFtOiAgICAgICAgICAgICAgICAgICAgICAweDAwMjEsIC8qIFUrMDAyMSBFWENMQU1BVElPTiBNQVJLICovXG4gICAgWEtfcXVvdGVkYmw6ICAgICAgICAgICAgICAgICAgICAweDAwMjIsIC8qIFUrMDAyMiBRVU9UQVRJT04gTUFSSyAqL1xuICAgIFhLX251bWJlcnNpZ246ICAgICAgICAgICAgICAgICAgMHgwMDIzLCAvKiBVKzAwMjMgTlVNQkVSIFNJR04gKi9cbiAgICBYS19kb2xsYXI6ICAgICAgICAgICAgICAgICAgICAgIDB4MDAyNCwgLyogVSswMDI0IERPTExBUiBTSUdOICovXG4gICAgWEtfcGVyY2VudDogICAgICAgICAgICAgICAgICAgICAweDAwMjUsIC8qIFUrMDAyNSBQRVJDRU5UIFNJR04gKi9cbiAgICBYS19hbXBlcnNhbmQ6ICAgICAgICAgICAgICAgICAgIDB4MDAyNiwgLyogVSswMDI2IEFNUEVSU0FORCAqL1xuICAgIFhLX2Fwb3N0cm9waGU6ICAgICAgICAgICAgICAgICAgMHgwMDI3LCAvKiBVKzAwMjcgQVBPU1RST1BIRSAqL1xuICAgIFhLX3F1b3RlcmlnaHQ6ICAgICAgICAgICAgICAgICAgMHgwMDI3LCAvKiBkZXByZWNhdGVkICovXG4gICAgWEtfcGFyZW5sZWZ0OiAgICAgICAgICAgICAgICAgICAweDAwMjgsIC8qIFUrMDAyOCBMRUZUIFBBUkVOVEhFU0lTICovXG4gICAgWEtfcGFyZW5yaWdodDogICAgICAgICAgICAgICAgICAweDAwMjksIC8qIFUrMDAyOSBSSUdIVCBQQVJFTlRIRVNJUyAqL1xuICAgIFhLX2FzdGVyaXNrOiAgICAgICAgICAgICAgICAgICAgMHgwMDJhLCAvKiBVKzAwMkEgQVNURVJJU0sgKi9cbiAgICBYS19wbHVzOiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAyYiwgLyogVSswMDJCIFBMVVMgU0lHTiAqL1xuICAgIFhLX2NvbW1hOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDJjLCAvKiBVKzAwMkMgQ09NTUEgKi9cbiAgICBYS19taW51czogICAgICAgICAgICAgICAgICAgICAgIDB4MDAyZCwgLyogVSswMDJEIEhZUEhFTi1NSU5VUyAqL1xuICAgIFhLX3BlcmlvZDogICAgICAgICAgICAgICAgICAgICAgMHgwMDJlLCAvKiBVKzAwMkUgRlVMTCBTVE9QICovXG4gICAgWEtfc2xhc2g6ICAgICAgICAgICAgICAgICAgICAgICAweDAwMmYsIC8qIFUrMDAyRiBTT0xJRFVTICovXG4gICAgWEtfMDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzAsIC8qIFUrMDAzMCBESUdJVCBaRVJPICovXG4gICAgWEtfMTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzEsIC8qIFUrMDAzMSBESUdJVCBPTkUgKi9cbiAgICBYS18yOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzMiwgLyogVSswMDMyIERJR0lUIFRXTyAqL1xuICAgIFhLXzM6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDMzLCAvKiBVKzAwMzMgRElHSVQgVEhSRUUgKi9cbiAgICBYS180OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNCwgLyogVSswMDM0IERJR0lUIEZPVVIgKi9cbiAgICBYS181OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNSwgLyogVSswMDM1IERJR0lUIEZJVkUgKi9cbiAgICBYS182OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzNiwgLyogVSswMDM2IERJR0lUIFNJWCAqL1xuICAgIFhLXzc6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDM3LCAvKiBVKzAwMzcgRElHSVQgU0VWRU4gKi9cbiAgICBYS184OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAzOCwgLyogVSswMDM4IERJR0lUIEVJR0hUICovXG4gICAgWEtfOTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwMzksIC8qIFUrMDAzOSBESUdJVCBOSU5FICovXG4gICAgWEtfY29sb246ICAgICAgICAgICAgICAgICAgICAgICAweDAwM2EsIC8qIFUrMDAzQSBDT0xPTiAqL1xuICAgIFhLX3NlbWljb2xvbjogICAgICAgICAgICAgICAgICAgMHgwMDNiLCAvKiBVKzAwM0IgU0VNSUNPTE9OICovXG4gICAgWEtfbGVzczogICAgICAgICAgICAgICAgICAgICAgICAweDAwM2MsIC8qIFUrMDAzQyBMRVNTLVRIQU4gU0lHTiAqL1xuICAgIFhLX2VxdWFsOiAgICAgICAgICAgICAgICAgICAgICAgMHgwMDNkLCAvKiBVKzAwM0QgRVFVQUxTIFNJR04gKi9cbiAgICBYS19ncmVhdGVyOiAgICAgICAgICAgICAgICAgICAgIDB4MDAzZSwgLyogVSswMDNFIEdSRUFURVItVEhBTiBTSUdOICovXG4gICAgWEtfcXVlc3Rpb246ICAgICAgICAgICAgICAgICAgICAweDAwM2YsIC8qIFUrMDAzRiBRVUVTVElPTiBNQVJLICovXG4gICAgWEtfYXQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDAsIC8qIFUrMDA0MCBDT01NRVJDSUFMIEFUICovXG4gICAgWEtfQTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDEsIC8qIFUrMDA0MSBMQVRJTiBDQVBJVEFMIExFVFRFUiBBICovXG4gICAgWEtfQjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDIsIC8qIFUrMDA0MiBMQVRJTiBDQVBJVEFMIExFVFRFUiBCICovXG4gICAgWEtfQzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDMsIC8qIFUrMDA0MyBMQVRJTiBDQVBJVEFMIExFVFRFUiBDICovXG4gICAgWEtfRDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDQsIC8qIFUrMDA0NCBMQVRJTiBDQVBJVEFMIExFVFRFUiBEICovXG4gICAgWEtfRTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDUsIC8qIFUrMDA0NSBMQVRJTiBDQVBJVEFMIExFVFRFUiBFICovXG4gICAgWEtfRjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDYsIC8qIFUrMDA0NiBMQVRJTiBDQVBJVEFMIExFVFRFUiBGICovXG4gICAgWEtfRzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDcsIC8qIFUrMDA0NyBMQVRJTiBDQVBJVEFMIExFVFRFUiBHICovXG4gICAgWEtfSDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDgsIC8qIFUrMDA0OCBMQVRJTiBDQVBJVEFMIExFVFRFUiBIICovXG4gICAgWEtfSTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNDksIC8qIFUrMDA0OSBMQVRJTiBDQVBJVEFMIExFVFRFUiBJICovXG4gICAgWEtfSjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGEsIC8qIFUrMDA0QSBMQVRJTiBDQVBJVEFMIExFVFRFUiBKICovXG4gICAgWEtfSzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGIsIC8qIFUrMDA0QiBMQVRJTiBDQVBJVEFMIExFVFRFUiBLICovXG4gICAgWEtfTDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGMsIC8qIFUrMDA0QyBMQVRJTiBDQVBJVEFMIExFVFRFUiBMICovXG4gICAgWEtfTTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGQsIC8qIFUrMDA0RCBMQVRJTiBDQVBJVEFMIExFVFRFUiBNICovXG4gICAgWEtfTjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGUsIC8qIFUrMDA0RSBMQVRJTiBDQVBJVEFMIExFVFRFUiBOICovXG4gICAgWEtfTzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNGYsIC8qIFUrMDA0RiBMQVRJTiBDQVBJVEFMIExFVFRFUiBPICovXG4gICAgWEtfUDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTAsIC8qIFUrMDA1MCBMQVRJTiBDQVBJVEFMIExFVFRFUiBQICovXG4gICAgWEtfUTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTEsIC8qIFUrMDA1MSBMQVRJTiBDQVBJVEFMIExFVFRFUiBRICovXG4gICAgWEtfUjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTIsIC8qIFUrMDA1MiBMQVRJTiBDQVBJVEFMIExFVFRFUiBSICovXG4gICAgWEtfUzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTMsIC8qIFUrMDA1MyBMQVRJTiBDQVBJVEFMIExFVFRFUiBTICovXG4gICAgWEtfVDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTQsIC8qIFUrMDA1NCBMQVRJTiBDQVBJVEFMIExFVFRFUiBUICovXG4gICAgWEtfVTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTUsIC8qIFUrMDA1NSBMQVRJTiBDQVBJVEFMIExFVFRFUiBVICovXG4gICAgWEtfVjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTYsIC8qIFUrMDA1NiBMQVRJTiBDQVBJVEFMIExFVFRFUiBWICovXG4gICAgWEtfVzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTcsIC8qIFUrMDA1NyBMQVRJTiBDQVBJVEFMIExFVFRFUiBXICovXG4gICAgWEtfWDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTgsIC8qIFUrMDA1OCBMQVRJTiBDQVBJVEFMIExFVFRFUiBYICovXG4gICAgWEtfWTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNTksIC8qIFUrMDA1OSBMQVRJTiBDQVBJVEFMIExFVFRFUiBZICovXG4gICAgWEtfWjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNWEsIC8qIFUrMDA1QSBMQVRJTiBDQVBJVEFMIExFVFRFUiBaICovXG4gICAgWEtfYnJhY2tldGxlZnQ6ICAgICAgICAgICAgICAgICAweDAwNWIsIC8qIFUrMDA1QiBMRUZUIFNRVUFSRSBCUkFDS0VUICovXG4gICAgWEtfYmFja3NsYXNoOiAgICAgICAgICAgICAgICAgICAweDAwNWMsIC8qIFUrMDA1QyBSRVZFUlNFIFNPTElEVVMgKi9cbiAgICBYS19icmFja2V0cmlnaHQ6ICAgICAgICAgICAgICAgIDB4MDA1ZCwgLyogVSswMDVEIFJJR0hUIFNRVUFSRSBCUkFDS0VUICovXG4gICAgWEtfYXNjaWljaXJjdW06ICAgICAgICAgICAgICAgICAweDAwNWUsIC8qIFUrMDA1RSBDSVJDVU1GTEVYIEFDQ0VOVCAqL1xuICAgIFhLX3VuZGVyc2NvcmU6ICAgICAgICAgICAgICAgICAgMHgwMDVmLCAvKiBVKzAwNUYgTE9XIExJTkUgKi9cbiAgICBYS19ncmF2ZTogICAgICAgICAgICAgICAgICAgICAgIDB4MDA2MCwgLyogVSswMDYwIEdSQVZFIEFDQ0VOVCAqL1xuICAgIFhLX3F1b3RlbGVmdDogICAgICAgICAgICAgICAgICAgMHgwMDYwLCAvKiBkZXByZWNhdGVkICovXG4gICAgWEtfYTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjEsIC8qIFUrMDA2MSBMQVRJTiBTTUFMTCBMRVRURVIgQSAqL1xuICAgIFhLX2I6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDYyLCAvKiBVKzAwNjIgTEFUSU4gU01BTEwgTEVUVEVSIEIgKi9cbiAgICBYS19jOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2MywgLyogVSswMDYzIExBVElOIFNNQUxMIExFVFRFUiBDICovXG4gICAgWEtfZDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjQsIC8qIFUrMDA2NCBMQVRJTiBTTUFMTCBMRVRURVIgRCAqL1xuICAgIFhLX2U6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY1LCAvKiBVKzAwNjUgTEFUSU4gU01BTEwgTEVUVEVSIEUgKi9cbiAgICBYS19mOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2NiwgLyogVSswMDY2IExBVElOIFNNQUxMIExFVFRFUiBGICovXG4gICAgWEtfZzogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNjcsIC8qIFUrMDA2NyBMQVRJTiBTTUFMTCBMRVRURVIgRyAqL1xuICAgIFhLX2g6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDY4LCAvKiBVKzAwNjggTEFUSU4gU01BTEwgTEVUVEVSIEggKi9cbiAgICBYS19pOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2OSwgLyogVSswMDY5IExBVElOIFNNQUxMIExFVFRFUiBJICovXG4gICAgWEtfajogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmEsIC8qIFUrMDA2QSBMQVRJTiBTTUFMTCBMRVRURVIgSiAqL1xuICAgIFhLX2s6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZiLCAvKiBVKzAwNkIgTEFUSU4gU01BTEwgTEVUVEVSIEsgKi9cbiAgICBYS19sOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2YywgLyogVSswMDZDIExBVElOIFNNQUxMIExFVFRFUiBMICovXG4gICAgWEtfbTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNmQsIC8qIFUrMDA2RCBMQVRJTiBTTUFMTCBMRVRURVIgTSAqL1xuICAgIFhLX246ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDZlLCAvKiBVKzAwNkUgTEFUSU4gU01BTEwgTEVUVEVSIE4gKi9cbiAgICBYS19vOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA2ZiwgLyogVSswMDZGIExBVElOIFNNQUxMIExFVFRFUiBPICovXG4gICAgWEtfcDogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzAsIC8qIFUrMDA3MCBMQVRJTiBTTUFMTCBMRVRURVIgUCAqL1xuICAgIFhLX3E6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDcxLCAvKiBVKzAwNzEgTEFUSU4gU01BTEwgTEVUVEVSIFEgKi9cbiAgICBYS19yOiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3MiwgLyogVSswMDcyIExBVElOIFNNQUxMIExFVFRFUiBSICovXG4gICAgWEtfczogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzMsIC8qIFUrMDA3MyBMQVRJTiBTTUFMTCBMRVRURVIgUyAqL1xuICAgIFhLX3Q6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc0LCAvKiBVKzAwNzQgTEFUSU4gU01BTEwgTEVUVEVSIFQgKi9cbiAgICBYS191OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3NSwgLyogVSswMDc1IExBVElOIFNNQUxMIExFVFRFUiBVICovXG4gICAgWEtfdjogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzYsIC8qIFUrMDA3NiBMQVRJTiBTTUFMTCBMRVRURVIgViAqL1xuICAgIFhLX3c6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDc3LCAvKiBVKzAwNzcgTEFUSU4gU01BTEwgTEVUVEVSIFcgKi9cbiAgICBYS194OiAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDA3OCwgLyogVSswMDc4IExBVElOIFNNQUxMIExFVFRFUiBYICovXG4gICAgWEtfeTogICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwNzksIC8qIFUrMDA3OSBMQVRJTiBTTUFMTCBMRVRURVIgWSAqL1xuICAgIFhLX3o6ICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDdhLCAvKiBVKzAwN0EgTEFUSU4gU01BTEwgTEVUVEVSIFogKi9cbiAgICBYS19icmFjZWxlZnQ6ICAgICAgICAgICAgICAgICAgIDB4MDA3YiwgLyogVSswMDdCIExFRlQgQ1VSTFkgQlJBQ0tFVCAqL1xuICAgIFhLX2JhcjogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMDdjLCAvKiBVKzAwN0MgVkVSVElDQUwgTElORSAqL1xuICAgIFhLX2JyYWNlcmlnaHQ6ICAgICAgICAgICAgICAgICAgMHgwMDdkLCAvKiBVKzAwN0QgUklHSFQgQ1VSTFkgQlJBQ0tFVCAqL1xuICAgIFhLX2FzY2lpdGlsZGU6ICAgICAgICAgICAgICAgICAgMHgwMDdlLCAvKiBVKzAwN0UgVElMREUgKi9cblxuICAgIFhLX25vYnJlYWtzcGFjZTogICAgICAgICAgICAgICAgMHgwMGEwLCAvKiBVKzAwQTAgTk8tQlJFQUsgU1BBQ0UgKi9cbiAgICBYS19leGNsYW1kb3duOiAgICAgICAgICAgICAgICAgIDB4MDBhMSwgLyogVSswMEExIElOVkVSVEVEIEVYQ0xBTUFUSU9OIE1BUksgKi9cbiAgICBYS19jZW50OiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBhMiwgLyogVSswMEEyIENFTlQgU0lHTiAqL1xuICAgIFhLX3N0ZXJsaW5nOiAgICAgICAgICAgICAgICAgICAgMHgwMGEzLCAvKiBVKzAwQTMgUE9VTkQgU0lHTiAqL1xuICAgIFhLX2N1cnJlbmN5OiAgICAgICAgICAgICAgICAgICAgMHgwMGE0LCAvKiBVKzAwQTQgQ1VSUkVOQ1kgU0lHTiAqL1xuICAgIFhLX3llbjogICAgICAgICAgICAgICAgICAgICAgICAgMHgwMGE1LCAvKiBVKzAwQTUgWUVOIFNJR04gKi9cbiAgICBYS19icm9rZW5iYXI6ICAgICAgICAgICAgICAgICAgIDB4MDBhNiwgLyogVSswMEE2IEJST0tFTiBCQVIgKi9cbiAgICBYS19zZWN0aW9uOiAgICAgICAgICAgICAgICAgICAgIDB4MDBhNywgLyogVSswMEE3IFNFQ1RJT04gU0lHTiAqL1xuICAgIFhLX2RpYWVyZXNpczogICAgICAgICAgICAgICAgICAgMHgwMGE4LCAvKiBVKzAwQTggRElBRVJFU0lTICovXG4gICAgWEtfY29weXJpZ2h0OiAgICAgICAgICAgICAgICAgICAweDAwYTksIC8qIFUrMDBBOSBDT1BZUklHSFQgU0lHTiAqL1xuICAgIFhLX29yZGZlbWluaW5lOiAgICAgICAgICAgICAgICAgMHgwMGFhLCAvKiBVKzAwQUEgRkVNSU5JTkUgT1JESU5BTCBJTkRJQ0FUT1IgKi9cbiAgICBYS19ndWlsbGVtb3RsZWZ0OiAgICAgICAgICAgICAgIDB4MDBhYiwgLyogVSswMEFCIExFRlQtUE9JTlRJTkcgRE9VQkxFIEFOR0xFIFFVT1RBVElPTiBNQVJLICovXG4gICAgWEtfbm90c2lnbjogICAgICAgICAgICAgICAgICAgICAweDAwYWMsIC8qIFUrMDBBQyBOT1QgU0lHTiAqL1xuICAgIFhLX2h5cGhlbjogICAgICAgICAgICAgICAgICAgICAgMHgwMGFkLCAvKiBVKzAwQUQgU09GVCBIWVBIRU4gKi9cbiAgICBYS19yZWdpc3RlcmVkOiAgICAgICAgICAgICAgICAgIDB4MDBhZSwgLyogVSswMEFFIFJFR0lTVEVSRUQgU0lHTiAqL1xuICAgIFhLX21hY3JvbjogICAgICAgICAgICAgICAgICAgICAgMHgwMGFmLCAvKiBVKzAwQUYgTUFDUk9OICovXG4gICAgWEtfZGVncmVlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYjAsIC8qIFUrMDBCMCBERUdSRUUgU0lHTiAqL1xuICAgIFhLX3BsdXNtaW51czogICAgICAgICAgICAgICAgICAgMHgwMGIxLCAvKiBVKzAwQjEgUExVUy1NSU5VUyBTSUdOICovXG4gICAgWEtfdHdvc3VwZXJpb3I6ICAgICAgICAgICAgICAgICAweDAwYjIsIC8qIFUrMDBCMiBTVVBFUlNDUklQVCBUV08gKi9cbiAgICBYS190aHJlZXN1cGVyaW9yOiAgICAgICAgICAgICAgIDB4MDBiMywgLyogVSswMEIzIFNVUEVSU0NSSVBUIFRIUkVFICovXG4gICAgWEtfYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgICAweDAwYjQsIC8qIFUrMDBCNCBBQ1VURSBBQ0NFTlQgKi9cbiAgICBYS19tdTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBiNSwgLyogVSswMEI1IE1JQ1JPIFNJR04gKi9cbiAgICBYS19wYXJhZ3JhcGg6ICAgICAgICAgICAgICAgICAgIDB4MDBiNiwgLyogVSswMEI2IFBJTENST1cgU0lHTiAqL1xuICAgIFhLX3BlcmlvZGNlbnRlcmVkOiAgICAgICAgICAgICAgMHgwMGI3LCAvKiBVKzAwQjcgTUlERExFIERPVCAqL1xuICAgIFhLX2NlZGlsbGE6ICAgICAgICAgICAgICAgICAgICAgMHgwMGI4LCAvKiBVKzAwQjggQ0VESUxMQSAqL1xuICAgIFhLX29uZXN1cGVyaW9yOiAgICAgICAgICAgICAgICAgMHgwMGI5LCAvKiBVKzAwQjkgU1VQRVJTQ1JJUFQgT05FICovXG4gICAgWEtfbWFzY3VsaW5lOiAgICAgICAgICAgICAgICAgICAweDAwYmEsIC8qIFUrMDBCQSBNQVNDVUxJTkUgT1JESU5BTCBJTkRJQ0FUT1IgKi9cbiAgICBYS19ndWlsbGVtb3RyaWdodDogICAgICAgICAgICAgIDB4MDBiYiwgLyogVSswMEJCIFJJR0hULVBPSU5USU5HIERPVUJMRSBBTkdMRSBRVU9UQVRJT04gTUFSSyAqL1xuICAgIFhLX29uZXF1YXJ0ZXI6ICAgICAgICAgICAgICAgICAgMHgwMGJjLCAvKiBVKzAwQkMgVlVMR0FSIEZSQUNUSU9OIE9ORSBRVUFSVEVSICovXG4gICAgWEtfb25laGFsZjogICAgICAgICAgICAgICAgICAgICAweDAwYmQsIC8qIFUrMDBCRCBWVUxHQVIgRlJBQ1RJT04gT05FIEhBTEYgKi9cbiAgICBYS190aHJlZXF1YXJ0ZXJzOiAgICAgICAgICAgICAgIDB4MDBiZSwgLyogVSswMEJFIFZVTEdBUiBGUkFDVElPTiBUSFJFRSBRVUFSVEVSUyAqL1xuICAgIFhLX3F1ZXN0aW9uZG93bjogICAgICAgICAgICAgICAgMHgwMGJmLCAvKiBVKzAwQkYgSU5WRVJURUQgUVVFU1RJT04gTUFSSyAqL1xuICAgIFhLX0FncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGMwLCAvKiBVKzAwQzAgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQSBXSVRIIEdSQVZFICovXG4gICAgWEtfQWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzEsIC8qIFUrMDBDMSBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggQUNVVEUgKi9cbiAgICBYS19BY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBjMiwgLyogVSswMEMyIExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfQXRpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwYzMsIC8qIFUrMDBDMyBMQVRJTiBDQVBJVEFMIExFVFRFUiBBIFdJVEggVElMREUgKi9cbiAgICBYS19BZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBjNCwgLyogVSswMEM0IExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS19BcmluZzogICAgICAgICAgICAgICAgICAgICAgIDB4MDBjNSwgLyogVSswMEM1IExBVElOIENBUElUQUwgTEVUVEVSIEEgV0lUSCBSSU5HIEFCT1ZFICovXG4gICAgWEtfQUU6ICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwYzYsIC8qIFUrMDBDNiBMQVRJTiBDQVBJVEFMIExFVFRFUiBBRSAqL1xuICAgIFhLX0NjZWRpbGxhOiAgICAgICAgICAgICAgICAgICAgMHgwMGM3LCAvKiBVKzAwQzcgTEFUSU4gQ0FQSVRBTCBMRVRURVIgQyBXSVRIIENFRElMTEEgKi9cbiAgICBYS19FZ3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBjOCwgLyogVSswMEM4IExBVElOIENBUElUQUwgTEVUVEVSIEUgV0lUSCBHUkFWRSAqL1xuICAgIFhLX0VhY3V0ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGM5LCAvKiBVKzAwQzkgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSBXSVRIIEFDVVRFICovXG4gICAgWEtfRWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwY2EsIC8qIFUrMDBDQSBMQVRJTiBDQVBJVEFMIExFVFRFUiBFIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX0VkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGNiLCAvKiBVKzAwQ0IgTEFUSU4gQ0FQSVRBTCBMRVRURVIgRSBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX0lncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGNjLCAvKiBVKzAwQ0MgTEFUSU4gQ0FQSVRBTCBMRVRURVIgSSBXSVRIIEdSQVZFICovXG4gICAgWEtfSWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwY2QsIC8qIFUrMDBDRCBMQVRJTiBDQVBJVEFMIExFVFRFUiBJIFdJVEggQUNVVEUgKi9cbiAgICBYS19JY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBjZSwgLyogVSswMENFIExBVElOIENBUElUQUwgTEVUVEVSIEkgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfSWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwY2YsIC8qIFUrMDBDRiBMQVRJTiBDQVBJVEFMIExFVFRFUiBJIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfRVRIOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwZDAsIC8qIFUrMDBEMCBMQVRJTiBDQVBJVEFMIExFVFRFUiBFVEggKi9cbiAgICBYS19FdGg6ICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMCwgLyogZGVwcmVjYXRlZCAqL1xuICAgIFhLX050aWxkZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQxLCAvKiBVKzAwRDEgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTiBXSVRIIFRJTERFICovXG4gICAgWEtfT2dyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZDIsIC8qIFUrMDBEMiBMQVRJTiBDQVBJVEFMIExFVFRFUiBPIFdJVEggR1JBVkUgKi9cbiAgICBYS19PYWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkMywgLyogVSswMEQzIExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBBQ1VURSAqL1xuICAgIFhLX09jaXJjdW1mbGV4OiAgICAgICAgICAgICAgICAgMHgwMGQ0LCAvKiBVKzAwRDQgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19PdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkNSwgLyogVSswMEQ1IExBVElOIENBUElUQUwgTEVUVEVSIE8gV0lUSCBUSUxERSAqL1xuICAgIFhLX09kaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGQ2LCAvKiBVKzAwRDYgTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIERJQUVSRVNJUyAqL1xuICAgIFhLX211bHRpcGx5OiAgICAgICAgICAgICAgICAgICAgMHgwMGQ3LCAvKiBVKzAwRDcgTVVMVElQTElDQVRJT04gU0lHTiAqL1xuICAgIFhLX09zbGFzaDogICAgICAgICAgICAgICAgICAgICAgMHgwMGQ4LCAvKiBVKzAwRDggTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX09vYmxpcXVlOiAgICAgICAgICAgICAgICAgICAgMHgwMGQ4LCAvKiBVKzAwRDggTEFUSU4gQ0FQSVRBTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX1VncmF2ZTogICAgICAgICAgICAgICAgICAgICAgMHgwMGQ5LCAvKiBVKzAwRDkgTEFUSU4gQ0FQSVRBTCBMRVRURVIgVSBXSVRIIEdSQVZFICovXG4gICAgWEtfVWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZGEsIC8qIFUrMDBEQSBMQVRJTiBDQVBJVEFMIExFVFRFUiBVIFdJVEggQUNVVEUgKi9cbiAgICBYS19VY2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBkYiwgLyogVSswMERCIExBVElOIENBUElUQUwgTEVUVEVSIFUgV0lUSCBDSVJDVU1GTEVYICovXG4gICAgWEtfVWRpYWVyZXNpczogICAgICAgICAgICAgICAgICAweDAwZGMsIC8qIFUrMDBEQyBMQVRJTiBDQVBJVEFMIExFVFRFUiBVIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfWWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZGQsIC8qIFUrMDBERCBMQVRJTiBDQVBJVEFMIExFVFRFUiBZIFdJVEggQUNVVEUgKi9cbiAgICBYS19USE9STjogICAgICAgICAgICAgICAgICAgICAgIDB4MDBkZSwgLyogVSswMERFIExBVElOIENBUElUQUwgTEVUVEVSIFRIT1JOICovXG4gICAgWEtfVGhvcm46ICAgICAgICAgICAgICAgICAgICAgICAweDAwZGUsIC8qIGRlcHJlY2F0ZWQgKi9cbiAgICBYS19zc2hhcnA6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBkZiwgLyogVSswMERGIExBVElOIFNNQUxMIExFVFRFUiBTSEFSUCBTICovXG4gICAgWEtfYWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTAsIC8qIFUrMDBFMCBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIEdSQVZFICovXG4gICAgWEtfYWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTEsIC8qIFUrMDBFMSBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIEFDVVRFICovXG4gICAgWEtfYWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZTIsIC8qIFUrMDBFMiBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19hdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBlMywgLyogVSswMEUzIExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggVElMREUgKi9cbiAgICBYS19hZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBlNCwgLyogVSswMEU0IExBVElOIFNNQUxMIExFVFRFUiBBIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfYXJpbmc6ICAgICAgICAgICAgICAgICAgICAgICAweDAwZTUsIC8qIFUrMDBFNSBMQVRJTiBTTUFMTCBMRVRURVIgQSBXSVRIIFJJTkcgQUJPVkUgKi9cbiAgICBYS19hZTogICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDBlNiwgLyogVSswMEU2IExBVElOIFNNQUxMIExFVFRFUiBBRSAqL1xuICAgIFhLX2NjZWRpbGxhOiAgICAgICAgICAgICAgICAgICAgMHgwMGU3LCAvKiBVKzAwRTcgTEFUSU4gU01BTEwgTEVUVEVSIEMgV0lUSCBDRURJTExBICovXG4gICAgWEtfZWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTgsIC8qIFUrMDBFOCBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIEdSQVZFICovXG4gICAgWEtfZWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZTksIC8qIFUrMDBFOSBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIEFDVVRFICovXG4gICAgWEtfZWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZWEsIC8qIFUrMDBFQSBMQVRJTiBTTUFMTCBMRVRURVIgRSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19lZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBlYiwgLyogVSswMEVCIExBVElOIFNNQUxMIExFVFRFUiBFIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfaWdyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZWMsIC8qIFUrMDBFQyBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIEdSQVZFICovXG4gICAgWEtfaWFjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZWQsIC8qIFUrMDBFRCBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIEFDVVRFICovXG4gICAgWEtfaWNpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZWUsIC8qIFUrMDBFRSBMQVRJTiBTTUFMTCBMRVRURVIgSSBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19pZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBlZiwgLyogVSswMEVGIExBVElOIFNNQUxMIExFVFRFUiBJIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfZXRoOiAgICAgICAgICAgICAgICAgICAgICAgICAweDAwZjAsIC8qIFUrMDBGMCBMQVRJTiBTTUFMTCBMRVRURVIgRVRIICovXG4gICAgWEtfbnRpbGRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjEsIC8qIFUrMDBGMSBMQVRJTiBTTUFMTCBMRVRURVIgTiBXSVRIIFRJTERFICovXG4gICAgWEtfb2dyYXZlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjIsIC8qIFUrMDBGMiBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIEdSQVZFICovXG4gICAgWEtfb2FjdXRlOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjMsIC8qIFUrMDBGMyBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIEFDVVRFICovXG4gICAgWEtfb2NpcmN1bWZsZXg6ICAgICAgICAgICAgICAgICAweDAwZjQsIC8qIFUrMDBGNCBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIENJUkNVTUZMRVggKi9cbiAgICBYS19vdGlsZGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmNSwgLyogVSswMEY1IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggVElMREUgKi9cbiAgICBYS19vZGlhZXJlc2lzOiAgICAgICAgICAgICAgICAgIDB4MDBmNiwgLyogVSswMEY2IExBVElOIFNNQUxMIExFVFRFUiBPIFdJVEggRElBRVJFU0lTICovXG4gICAgWEtfZGl2aXNpb246ICAgICAgICAgICAgICAgICAgICAweDAwZjcsIC8qIFUrMDBGNyBESVZJU0lPTiBTSUdOICovXG4gICAgWEtfb3NsYXNoOiAgICAgICAgICAgICAgICAgICAgICAweDAwZjgsIC8qIFUrMDBGOCBMQVRJTiBTTUFMTCBMRVRURVIgTyBXSVRIIFNUUk9LRSAqL1xuICAgIFhLX29vYmxpcXVlOiAgICAgICAgICAgICAgICAgICAgMHgwMGY4LCAvKiBVKzAwRjggTEFUSU4gU01BTEwgTEVUVEVSIE8gV0lUSCBTVFJPS0UgKi9cbiAgICBYS191Z3JhdmU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmOSwgLyogVSswMEY5IExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggR1JBVkUgKi9cbiAgICBYS191YWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmYSwgLyogVSswMEZBIExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggQUNVVEUgKi9cbiAgICBYS191Y2lyY3VtZmxleDogICAgICAgICAgICAgICAgIDB4MDBmYiwgLyogVSswMEZCIExBVElOIFNNQUxMIExFVFRFUiBVIFdJVEggQ0lSQ1VNRkxFWCAqL1xuICAgIFhLX3VkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGZjLCAvKiBVKzAwRkMgTEFUSU4gU01BTEwgTEVUVEVSIFUgV0lUSCBESUFFUkVTSVMgKi9cbiAgICBYS195YWN1dGU6ICAgICAgICAgICAgICAgICAgICAgIDB4MDBmZCwgLyogVSswMEZEIExBVElOIFNNQUxMIExFVFRFUiBZIFdJVEggQUNVVEUgKi9cbiAgICBYS190aG9ybjogICAgICAgICAgICAgICAgICAgICAgIDB4MDBmZSwgLyogVSswMEZFIExBVElOIFNNQUxMIExFVFRFUiBUSE9STiAqL1xuICAgIFhLX3lkaWFlcmVzaXM6ICAgICAgICAgICAgICAgICAgMHgwMGZmLCAvKiBVKzAwRkYgTEFUSU4gU01BTEwgTEVUVEVSIFkgV0lUSCBESUFFUkVTSVMgKi9cblxuICAgIC8qXG4gICAgICogS29yZWFuXG4gICAgICogQnl0ZSAzID0gMHgwZVxuICAgICAqL1xuXG4gICAgWEtfSGFuZ3VsOiAgICAgICAgICAgICAgICAgICAgICAweGZmMzEsIC8qIEhhbmd1bCBzdGFydC9zdG9wKHRvZ2dsZSkgKi9cbiAgICBYS19IYW5ndWxfSGFuamE6ICAgICAgICAgICAgICAgIDB4ZmYzNCwgLyogU3RhcnQgSGFuZ3VsLT5IYW5qYSBDb252ZXJzaW9uICovXG4gICAgWEtfSGFuZ3VsX0plb25qYTogICAgICAgICAgICAgICAweGZmMzgsIC8qIEplb25qYSBtb2RlICovXG5cbiAgICAvKlxuICAgICAqIFhGcmVlODYgdmVuZG9yIHNwZWNpZmljIGtleXN5bXMuXG4gICAgICpcbiAgICAgKiBUaGUgWEZyZWU4NiBrZXlzeW0gcmFuZ2UgaXMgMHgxMDA4MDAwMSAtIDB4MTAwOEZGRkYuXG4gICAgICovXG5cbiAgICBYRjg2WEtfTW9kZUxvY2s6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMDEsXG4gICAgWEY4NlhLX01vbkJyaWdodG5lc3NVcDogICAgICAgICAweDEwMDhGRjAyLFxuICAgIFhGODZYS19Nb25CcmlnaHRuZXNzRG93bjogICAgICAgMHgxMDA4RkYwMyxcbiAgICBYRjg2WEtfS2JkTGlnaHRPbk9mZjogICAgICAgICAgIDB4MTAwOEZGMDQsXG4gICAgWEY4NlhLX0tiZEJyaWdodG5lc3NVcDogICAgICAgICAweDEwMDhGRjA1LFxuICAgIFhGODZYS19LYmRCcmlnaHRuZXNzRG93bjogICAgICAgMHgxMDA4RkYwNixcbiAgICBYRjg2WEtfU3RhbmRieTogICAgICAgICAgICAgICAgIDB4MTAwOEZGMTAsXG4gICAgWEY4NlhLX0F1ZGlvTG93ZXJWb2x1bWU6ICAgICAgICAweDEwMDhGRjExLFxuICAgIFhGODZYS19BdWRpb011dGU6ICAgICAgICAgICAgICAgMHgxMDA4RkYxMixcbiAgICBYRjg2WEtfQXVkaW9SYWlzZVZvbHVtZTogICAgICAgIDB4MTAwOEZGMTMsXG4gICAgWEY4NlhLX0F1ZGlvUGxheTogICAgICAgICAgICAgICAweDEwMDhGRjE0LFxuICAgIFhGODZYS19BdWRpb1N0b3A6ICAgICAgICAgICAgICAgMHgxMDA4RkYxNSxcbiAgICBYRjg2WEtfQXVkaW9QcmV2OiAgICAgICAgICAgICAgIDB4MTAwOEZGMTYsXG4gICAgWEY4NlhLX0F1ZGlvTmV4dDogICAgICAgICAgICAgICAweDEwMDhGRjE3LFxuICAgIFhGODZYS19Ib21lUGFnZTogICAgICAgICAgICAgICAgMHgxMDA4RkYxOCxcbiAgICBYRjg2WEtfTWFpbDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMTksXG4gICAgWEY4NlhLX1N0YXJ0OiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjFBLFxuICAgIFhGODZYS19TZWFyY2g6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkYxQixcbiAgICBYRjg2WEtfQXVkaW9SZWNvcmQ6ICAgICAgICAgICAgIDB4MTAwOEZGMUMsXG4gICAgWEY4NlhLX0NhbGN1bGF0b3I6ICAgICAgICAgICAgICAweDEwMDhGRjFELFxuICAgIFhGODZYS19NZW1vOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYxRSxcbiAgICBYRjg2WEtfVG9Eb0xpc3Q6ICAgICAgICAgICAgICAgIDB4MTAwOEZGMUYsXG4gICAgWEY4NlhLX0NhbGVuZGFyOiAgICAgICAgICAgICAgICAweDEwMDhGRjIwLFxuICAgIFhGODZYS19Qb3dlckRvd246ICAgICAgICAgICAgICAgMHgxMDA4RkYyMSxcbiAgICBYRjg2WEtfQ29udHJhc3RBZGp1c3Q6ICAgICAgICAgIDB4MTAwOEZGMjIsXG4gICAgWEY4NlhLX1JvY2tlclVwOiAgICAgICAgICAgICAgICAweDEwMDhGRjIzLFxuICAgIFhGODZYS19Sb2NrZXJEb3duOiAgICAgICAgICAgICAgMHgxMDA4RkYyNCxcbiAgICBYRjg2WEtfUm9ja2VyRW50ZXI6ICAgICAgICAgICAgIDB4MTAwOEZGMjUsXG4gICAgWEY4NlhLX0JhY2s6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjI2LFxuICAgIFhGODZYS19Gb3J3YXJkOiAgICAgICAgICAgICAgICAgMHgxMDA4RkYyNyxcbiAgICBYRjg2WEtfU3RvcDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMjgsXG4gICAgWEY4NlhLX1JlZnJlc2g6ICAgICAgICAgICAgICAgICAweDEwMDhGRjI5LFxuICAgIFhGODZYS19Qb3dlck9mZjogICAgICAgICAgICAgICAgMHgxMDA4RkYyQSxcbiAgICBYRjg2WEtfV2FrZVVwOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMkIsXG4gICAgWEY4NlhLX0VqZWN0OiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjJDLFxuICAgIFhGODZYS19TY3JlZW5TYXZlcjogICAgICAgICAgICAgMHgxMDA4RkYyRCxcbiAgICBYRjg2WEtfV1dXOiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGMkUsXG4gICAgWEY4NlhLX1NsZWVwOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjJGLFxuICAgIFhGODZYS19GYXZvcml0ZXM6ICAgICAgICAgICAgICAgMHgxMDA4RkYzMCxcbiAgICBYRjg2WEtfQXVkaW9QYXVzZTogICAgICAgICAgICAgIDB4MTAwOEZGMzEsXG4gICAgWEY4NlhLX0F1ZGlvTWVkaWE6ICAgICAgICAgICAgICAweDEwMDhGRjMyLFxuICAgIFhGODZYS19NeUNvbXB1dGVyOiAgICAgICAgICAgICAgMHgxMDA4RkYzMyxcbiAgICBYRjg2WEtfVmVuZG9ySG9tZTogICAgICAgICAgICAgIDB4MTAwOEZGMzQsXG4gICAgWEY4NlhLX0xpZ2h0QnVsYjogICAgICAgICAgICAgICAweDEwMDhGRjM1LFxuICAgIFhGODZYS19TaG9wOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkYzNixcbiAgICBYRjg2WEtfSGlzdG9yeTogICAgICAgICAgICAgICAgIDB4MTAwOEZGMzcsXG4gICAgWEY4NlhLX09wZW5VUkw6ICAgICAgICAgICAgICAgICAweDEwMDhGRjM4LFxuICAgIFhGODZYS19BZGRGYXZvcml0ZTogICAgICAgICAgICAgMHgxMDA4RkYzOSxcbiAgICBYRjg2WEtfSG90TGlua3M6ICAgICAgICAgICAgICAgIDB4MTAwOEZGM0EsXG4gICAgWEY4NlhLX0JyaWdodG5lc3NBZGp1c3Q6ICAgICAgICAweDEwMDhGRjNCLFxuICAgIFhGODZYS19GaW5hbmNlOiAgICAgICAgICAgICAgICAgMHgxMDA4RkYzQyxcbiAgICBYRjg2WEtfQ29tbXVuaXR5OiAgICAgICAgICAgICAgIDB4MTAwOEZGM0QsXG4gICAgWEY4NlhLX0F1ZGlvUmV3aW5kOiAgICAgICAgICAgICAweDEwMDhGRjNFLFxuICAgIFhGODZYS19CYWNrRm9yd2FyZDogICAgICAgICAgICAgMHgxMDA4RkYzRixcbiAgICBYRjg2WEtfTGF1bmNoMDogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDAsXG4gICAgWEY4NlhLX0xhdW5jaDE6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQxLFxuICAgIFhGODZYS19MYXVuY2gyOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0MixcbiAgICBYRjg2WEtfTGF1bmNoMzogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDMsXG4gICAgWEY4NlhLX0xhdW5jaDQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ0LFxuICAgIFhGODZYS19MYXVuY2g1OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0NSxcbiAgICBYRjg2WEtfTGF1bmNoNjogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDYsXG4gICAgWEY4NlhLX0xhdW5jaDc6ICAgICAgICAgICAgICAgICAweDEwMDhGRjQ3LFxuICAgIFhGODZYS19MYXVuY2g4OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0OCxcbiAgICBYRjg2WEtfTGF1bmNoOTogICAgICAgICAgICAgICAgIDB4MTAwOEZGNDksXG4gICAgWEY4NlhLX0xhdW5jaEE6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRBLFxuICAgIFhGODZYS19MYXVuY2hCOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0QixcbiAgICBYRjg2WEtfTGF1bmNoQzogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEMsXG4gICAgWEY4NlhLX0xhdW5jaEQ6ICAgICAgICAgICAgICAgICAweDEwMDhGRjRELFxuICAgIFhGODZYS19MYXVuY2hFOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY0RSxcbiAgICBYRjg2WEtfTGF1bmNoRjogICAgICAgICAgICAgICAgIDB4MTAwOEZGNEYsXG4gICAgWEY4NlhLX0FwcGxpY2F0aW9uTGVmdDogICAgICAgICAweDEwMDhGRjUwLFxuICAgIFhGODZYS19BcHBsaWNhdGlvblJpZ2h0OiAgICAgICAgMHgxMDA4RkY1MSxcbiAgICBYRjg2WEtfQm9vazogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTIsXG4gICAgWEY4NlhLX0NEOiAgICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjUzLFxuICAgIFhGODZYS19DYWxjdWxhdGVyOiAgICAgICAgICAgICAgMHgxMDA4RkY1NCxcbiAgICBYRjg2WEtfQ2xlYXI6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTUsXG4gICAgWEY4NlhLX0Nsb3NlOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjU2LFxuICAgIFhGODZYS19Db3B5OiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1NyxcbiAgICBYRjg2WEtfQ3V0OiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNTgsXG4gICAgWEY4NlhLX0Rpc3BsYXk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjU5LFxuICAgIFhGODZYS19ET1M6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY1QSxcbiAgICBYRjg2WEtfRG9jdW1lbnRzOiAgICAgICAgICAgICAgIDB4MTAwOEZGNUIsXG4gICAgWEY4NlhLX0V4Y2VsOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjVDLFxuICAgIFhGODZYS19FeHBsb3JlcjogICAgICAgICAgICAgICAgMHgxMDA4RkY1RCxcbiAgICBYRjg2WEtfR2FtZTogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNUUsXG4gICAgWEY4NlhLX0dvOiAgICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjVGLFxuICAgIFhGODZYS19pVG91Y2g6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2MCxcbiAgICBYRjg2WEtfTG9nT2ZmOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjEsXG4gICAgWEY4NlhLX01hcmtldDogICAgICAgICAgICAgICAgICAweDEwMDhGRjYyLFxuICAgIFhGODZYS19NZWV0aW5nOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY2MyxcbiAgICBYRjg2WEtfTWVudUtCOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjUsXG4gICAgWEY4NlhLX01lbnVQQjogICAgICAgICAgICAgICAgICAweDEwMDhGRjY2LFxuICAgIFhGODZYS19NeVNpdGVzOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY2NyxcbiAgICBYRjg2WEtfTmV3OiAgICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNjgsXG4gICAgWEY4NlhLX05ld3M6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjY5LFxuICAgIFhGODZYS19PZmZpY2VIb21lOiAgICAgICAgICAgICAgMHgxMDA4RkY2QSxcbiAgICBYRjg2WEtfT3BlbjogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNkIsXG4gICAgWEY4NlhLX09wdGlvbjogICAgICAgICAgICAgICAgICAweDEwMDhGRjZDLFxuICAgIFhGODZYS19QYXN0ZTogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY2RCxcbiAgICBYRjg2WEtfUGhvbmU6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNkUsXG4gICAgWEY4NlhLX1E6ICAgICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjcwLFxuICAgIFhGODZYS19SZXBseTogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3MixcbiAgICBYRjg2WEtfUmVsb2FkOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGNzMsXG4gICAgWEY4NlhLX1JvdGF0ZVdpbmRvd3M6ICAgICAgICAgICAweDEwMDhGRjc0LFxuICAgIFhGODZYS19Sb3RhdGlvblBCOiAgICAgICAgICAgICAgMHgxMDA4RkY3NSxcbiAgICBYRjg2WEtfUm90YXRpb25LQjogICAgICAgICAgICAgIDB4MTAwOEZGNzYsXG4gICAgWEY4NlhLX1NhdmU6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjc3LFxuICAgIFhGODZYS19TY3JvbGxVcDogICAgICAgICAgICAgICAgMHgxMDA4RkY3OCxcbiAgICBYRjg2WEtfU2Nyb2xsRG93bjogICAgICAgICAgICAgIDB4MTAwOEZGNzksXG4gICAgWEY4NlhLX1Njcm9sbENsaWNrOiAgICAgICAgICAgICAweDEwMDhGRjdBLFxuICAgIFhGODZYS19TZW5kOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkY3QixcbiAgICBYRjg2WEtfU3BlbGw6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGN0MsXG4gICAgWEY4NlhLX1NwbGl0U2NyZWVuOiAgICAgICAgICAgICAweDEwMDhGRjdELFxuICAgIFhGODZYS19TdXBwb3J0OiAgICAgICAgICAgICAgICAgMHgxMDA4RkY3RSxcbiAgICBYRjg2WEtfVGFza1BhbmU6ICAgICAgICAgICAgICAgIDB4MTAwOEZGN0YsXG4gICAgWEY4NlhLX1Rlcm1pbmFsOiAgICAgICAgICAgICAgICAweDEwMDhGRjgwLFxuICAgIFhGODZYS19Ub29sczogICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4MSxcbiAgICBYRjg2WEtfVHJhdmVsOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODIsXG4gICAgWEY4NlhLX1VzZXJQQjogICAgICAgICAgICAgICAgICAweDEwMDhGRjg0LFxuICAgIFhGODZYS19Vc2VyMUtCOiAgICAgICAgICAgICAgICAgMHgxMDA4RkY4NSxcbiAgICBYRjg2WEtfVXNlcjJLQjogICAgICAgICAgICAgICAgIDB4MTAwOEZGODYsXG4gICAgWEY4NlhLX1ZpZGVvOiAgICAgICAgICAgICAgICAgICAweDEwMDhGRjg3LFxuICAgIFhGODZYS19XaGVlbEJ1dHRvbjogICAgICAgICAgICAgMHgxMDA4RkY4OCxcbiAgICBYRjg2WEtfV29yZDogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGODksXG4gICAgWEY4NlhLX1hmZXI6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjhBLFxuICAgIFhGODZYS19ab29tSW46ICAgICAgICAgICAgICAgICAgMHgxMDA4RkY4QixcbiAgICBYRjg2WEtfWm9vbU91dDogICAgICAgICAgICAgICAgIDB4MTAwOEZGOEMsXG4gICAgWEY4NlhLX0F3YXk6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjhELFxuICAgIFhGODZYS19NZXNzZW5nZXI6ICAgICAgICAgICAgICAgMHgxMDA4RkY4RSxcbiAgICBYRjg2WEtfV2ViQ2FtOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOEYsXG4gICAgWEY4NlhLX01haWxGb3J3YXJkOiAgICAgICAgICAgICAweDEwMDhGRjkwLFxuICAgIFhGODZYS19QaWN0dXJlczogICAgICAgICAgICAgICAgMHgxMDA4RkY5MSxcbiAgICBYRjg2WEtfTXVzaWM6ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOTIsXG4gICAgWEY4NlhLX0JhdHRlcnk6ICAgICAgICAgICAgICAgICAweDEwMDhGRjkzLFxuICAgIFhGODZYS19CbHVldG9vdGg6ICAgICAgICAgICAgICAgMHgxMDA4RkY5NCxcbiAgICBYRjg2WEtfV0xBTjogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGOTUsXG4gICAgWEY4NlhLX1VXQjogICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjk2LFxuICAgIFhGODZYS19BdWRpb0ZvcndhcmQ6ICAgICAgICAgICAgMHgxMDA4RkY5NyxcbiAgICBYRjg2WEtfQXVkaW9SZXBlYXQ6ICAgICAgICAgICAgIDB4MTAwOEZGOTgsXG4gICAgWEY4NlhLX0F1ZGlvUmFuZG9tUGxheTogICAgICAgICAweDEwMDhGRjk5LFxuICAgIFhGODZYS19TdWJ0aXRsZTogICAgICAgICAgICAgICAgMHgxMDA4RkY5QSxcbiAgICBYRjg2WEtfQXVkaW9DeWNsZVRyYWNrOiAgICAgICAgIDB4MTAwOEZGOUIsXG4gICAgWEY4NlhLX0N5Y2xlQW5nbGU6ICAgICAgICAgICAgICAweDEwMDhGRjlDLFxuICAgIFhGODZYS19GcmFtZUJhY2s6ICAgICAgICAgICAgICAgMHgxMDA4RkY5RCxcbiAgICBYRjg2WEtfRnJhbWVGb3J3YXJkOiAgICAgICAgICAgIDB4MTAwOEZGOUUsXG4gICAgWEY4NlhLX1RpbWU6ICAgICAgICAgICAgICAgICAgICAweDEwMDhGRjlGLFxuICAgIFhGODZYS19TZWxlY3Q6ICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBMCxcbiAgICBYRjg2WEtfVmlldzogICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTEsXG4gICAgWEY4NlhLX1RvcE1lbnU6ICAgICAgICAgICAgICAgICAweDEwMDhGRkEyLFxuICAgIFhGODZYS19SZWQ6ICAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBMyxcbiAgICBYRjg2WEtfR3JlZW46ICAgICAgICAgICAgICAgICAgIDB4MTAwOEZGQTQsXG4gICAgWEY4NlhLX1llbGxvdzogICAgICAgICAgICAgICAgICAweDEwMDhGRkE1LFxuICAgIFhGODZYS19CbHVlOiAgICAgICAgICAgICAgICAgICAgMHgxMDA4RkZBNixcbiAgICBYRjg2WEtfU3VzcGVuZDogICAgICAgICAgICAgICAgIDB4MTAwOEZGQTcsXG4gICAgWEY4NlhLX0hpYmVybmF0ZTogICAgICAgICAgICAgICAweDEwMDhGRkE4LFxuICAgIFhGODZYS19Ub3VjaHBhZFRvZ2dsZTogICAgICAgICAgMHgxMDA4RkZBOSxcbiAgICBYRjg2WEtfVG91Y2hwYWRPbjogICAgICAgICAgICAgIDB4MTAwOEZGQjAsXG4gICAgWEY4NlhLX1RvdWNocGFkT2ZmOiAgICAgICAgICAgICAweDEwMDhGRkIxLFxuICAgIFhGODZYS19BdWRpb01pY011dGU6ICAgICAgICAgICAgMHgxMDA4RkZCMixcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzE6ICAgICAgICAgICAgIDB4MTAwOEZFMDEsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8yOiAgICAgICAgICAgICAweDEwMDhGRTAyLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMzogICAgICAgICAgICAgMHgxMDA4RkUwMyxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzQ6ICAgICAgICAgICAgIDB4MTAwOEZFMDQsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF81OiAgICAgICAgICAgICAweDEwMDhGRTA1LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfNjogICAgICAgICAgICAgMHgxMDA4RkUwNixcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzc6ICAgICAgICAgICAgIDB4MTAwOEZFMDcsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF84OiAgICAgICAgICAgICAweDEwMDhGRTA4LFxuICAgIFhGODZYS19Td2l0Y2hfVlRfOTogICAgICAgICAgICAgMHgxMDA4RkUwOSxcbiAgICBYRjg2WEtfU3dpdGNoX1ZUXzEwOiAgICAgICAgICAgIDB4MTAwOEZFMEEsXG4gICAgWEY4NlhLX1N3aXRjaF9WVF8xMTogICAgICAgICAgICAweDEwMDhGRTBCLFxuICAgIFhGODZYS19Td2l0Y2hfVlRfMTI6ICAgICAgICAgICAgMHgxMDA4RkUwQyxcbiAgICBYRjg2WEtfVW5ncmFiOiAgICAgICAgICAgICAgICAgIDB4MTAwOEZFMjAsXG4gICAgWEY4NlhLX0NsZWFyR3JhYjogICAgICAgICAgICAgICAweDEwMDhGRTIxLFxuICAgIFhGODZYS19OZXh0X1ZNb2RlOiAgICAgICAgICAgICAgMHgxMDA4RkUyMixcbiAgICBYRjg2WEtfUHJldl9WTW9kZTogICAgICAgICAgICAgIDB4MTAwOEZFMjMsXG4gICAgWEY4NlhLX0xvZ1dpbmRvd1RyZWU6ICAgICAgICAgICAweDEwMDhGRTI0LFxuICAgIFhGODZYS19Mb2dHcmFiSW5mbzogICAgICAgICAgICAgMHgxMDA4RkUyNSxcbn07XG4iLCIvKlxuICogTWFwcGluZyBmcm9tIFVuaWNvZGUgY29kZXBvaW50cyB0byBYMTEvUkZCIGtleXN5bXNcbiAqXG4gKiBUaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZyb20ga2V5c3ltZGVmLmhcbiAqIERPIE5PVCBFRElUIVxuICovXG5cbi8qIEZ1bmN0aW9ucyBhdCB0aGUgYm90dG9tICovXG5cbnZhciBjb2RlcG9pbnRzID0ge1xuICAgIDB4MDEwMDogMHgwM2MwLCAvLyBYS19BbWFjcm9uXG4gICAgMHgwMTAxOiAweDAzZTAsIC8vIFhLX2FtYWNyb25cbiAgICAweDAxMDI6IDB4MDFjMywgLy8gWEtfQWJyZXZlXG4gICAgMHgwMTAzOiAweDAxZTMsIC8vIFhLX2FicmV2ZVxuICAgIDB4MDEwNDogMHgwMWExLCAvLyBYS19Bb2dvbmVrXG4gICAgMHgwMTA1OiAweDAxYjEsIC8vIFhLX2FvZ29uZWtcbiAgICAweDAxMDY6IDB4MDFjNiwgLy8gWEtfQ2FjdXRlXG4gICAgMHgwMTA3OiAweDAxZTYsIC8vIFhLX2NhY3V0ZVxuICAgIDB4MDEwODogMHgwMmM2LCAvLyBYS19DY2lyY3VtZmxleFxuICAgIDB4MDEwOTogMHgwMmU2LCAvLyBYS19jY2lyY3VtZmxleFxuICAgIDB4MDEwYTogMHgwMmM1LCAvLyBYS19DYWJvdmVkb3RcbiAgICAweDAxMGI6IDB4MDJlNSwgLy8gWEtfY2Fib3ZlZG90XG4gICAgMHgwMTBjOiAweDAxYzgsIC8vIFhLX0NjYXJvblxuICAgIDB4MDEwZDogMHgwMWU4LCAvLyBYS19jY2Fyb25cbiAgICAweDAxMGU6IDB4MDFjZiwgLy8gWEtfRGNhcm9uXG4gICAgMHgwMTBmOiAweDAxZWYsIC8vIFhLX2RjYXJvblxuICAgIDB4MDExMDogMHgwMWQwLCAvLyBYS19Ec3Ryb2tlXG4gICAgMHgwMTExOiAweDAxZjAsIC8vIFhLX2RzdHJva2VcbiAgICAweDAxMTI6IDB4MDNhYSwgLy8gWEtfRW1hY3JvblxuICAgIDB4MDExMzogMHgwM2JhLCAvLyBYS19lbWFjcm9uXG4gICAgMHgwMTE2OiAweDAzY2MsIC8vIFhLX0VhYm92ZWRvdFxuICAgIDB4MDExNzogMHgwM2VjLCAvLyBYS19lYWJvdmVkb3RcbiAgICAweDAxMTg6IDB4MDFjYSwgLy8gWEtfRW9nb25la1xuICAgIDB4MDExOTogMHgwMWVhLCAvLyBYS19lb2dvbmVrXG4gICAgMHgwMTFhOiAweDAxY2MsIC8vIFhLX0VjYXJvblxuICAgIDB4MDExYjogMHgwMWVjLCAvLyBYS19lY2Fyb25cbiAgICAweDAxMWM6IDB4MDJkOCwgLy8gWEtfR2NpcmN1bWZsZXhcbiAgICAweDAxMWQ6IDB4MDJmOCwgLy8gWEtfZ2NpcmN1bWZsZXhcbiAgICAweDAxMWU6IDB4MDJhYiwgLy8gWEtfR2JyZXZlXG4gICAgMHgwMTFmOiAweDAyYmIsIC8vIFhLX2dicmV2ZVxuICAgIDB4MDEyMDogMHgwMmQ1LCAvLyBYS19HYWJvdmVkb3RcbiAgICAweDAxMjE6IDB4MDJmNSwgLy8gWEtfZ2Fib3ZlZG90XG4gICAgMHgwMTIyOiAweDAzYWIsIC8vIFhLX0djZWRpbGxhXG4gICAgMHgwMTIzOiAweDAzYmIsIC8vIFhLX2djZWRpbGxhXG4gICAgMHgwMTI0OiAweDAyYTYsIC8vIFhLX0hjaXJjdW1mbGV4XG4gICAgMHgwMTI1OiAweDAyYjYsIC8vIFhLX2hjaXJjdW1mbGV4XG4gICAgMHgwMTI2OiAweDAyYTEsIC8vIFhLX0hzdHJva2VcbiAgICAweDAxMjc6IDB4MDJiMSwgLy8gWEtfaHN0cm9rZVxuICAgIDB4MDEyODogMHgwM2E1LCAvLyBYS19JdGlsZGVcbiAgICAweDAxMjk6IDB4MDNiNSwgLy8gWEtfaXRpbGRlXG4gICAgMHgwMTJhOiAweDAzY2YsIC8vIFhLX0ltYWNyb25cbiAgICAweDAxMmI6IDB4MDNlZiwgLy8gWEtfaW1hY3JvblxuICAgIDB4MDEyZTogMHgwM2M3LCAvLyBYS19Jb2dvbmVrXG4gICAgMHgwMTJmOiAweDAzZTcsIC8vIFhLX2lvZ29uZWtcbiAgICAweDAxMzA6IDB4MDJhOSwgLy8gWEtfSWFib3ZlZG90XG4gICAgMHgwMTMxOiAweDAyYjksIC8vIFhLX2lkb3RsZXNzXG4gICAgMHgwMTM0OiAweDAyYWMsIC8vIFhLX0pjaXJjdW1mbGV4XG4gICAgMHgwMTM1OiAweDAyYmMsIC8vIFhLX2pjaXJjdW1mbGV4XG4gICAgMHgwMTM2OiAweDAzZDMsIC8vIFhLX0tjZWRpbGxhXG4gICAgMHgwMTM3OiAweDAzZjMsIC8vIFhLX2tjZWRpbGxhXG4gICAgMHgwMTM4OiAweDAzYTIsIC8vIFhLX2tyYVxuICAgIDB4MDEzOTogMHgwMWM1LCAvLyBYS19MYWN1dGVcbiAgICAweDAxM2E6IDB4MDFlNSwgLy8gWEtfbGFjdXRlXG4gICAgMHgwMTNiOiAweDAzYTYsIC8vIFhLX0xjZWRpbGxhXG4gICAgMHgwMTNjOiAweDAzYjYsIC8vIFhLX2xjZWRpbGxhXG4gICAgMHgwMTNkOiAweDAxYTUsIC8vIFhLX0xjYXJvblxuICAgIDB4MDEzZTogMHgwMWI1LCAvLyBYS19sY2Fyb25cbiAgICAweDAxNDE6IDB4MDFhMywgLy8gWEtfTHN0cm9rZVxuICAgIDB4MDE0MjogMHgwMWIzLCAvLyBYS19sc3Ryb2tlXG4gICAgMHgwMTQzOiAweDAxZDEsIC8vIFhLX05hY3V0ZVxuICAgIDB4MDE0NDogMHgwMWYxLCAvLyBYS19uYWN1dGVcbiAgICAweDAxNDU6IDB4MDNkMSwgLy8gWEtfTmNlZGlsbGFcbiAgICAweDAxNDY6IDB4MDNmMSwgLy8gWEtfbmNlZGlsbGFcbiAgICAweDAxNDc6IDB4MDFkMiwgLy8gWEtfTmNhcm9uXG4gICAgMHgwMTQ4OiAweDAxZjIsIC8vIFhLX25jYXJvblxuICAgIDB4MDE0YTogMHgwM2JkLCAvLyBYS19FTkdcbiAgICAweDAxNGI6IDB4MDNiZiwgLy8gWEtfZW5nXG4gICAgMHgwMTRjOiAweDAzZDIsIC8vIFhLX09tYWNyb25cbiAgICAweDAxNGQ6IDB4MDNmMiwgLy8gWEtfb21hY3JvblxuICAgIDB4MDE1MDogMHgwMWQ1LCAvLyBYS19PZG91YmxlYWN1dGVcbiAgICAweDAxNTE6IDB4MDFmNSwgLy8gWEtfb2RvdWJsZWFjdXRlXG4gICAgMHgwMTUyOiAweDEzYmMsIC8vIFhLX09FXG4gICAgMHgwMTUzOiAweDEzYmQsIC8vIFhLX29lXG4gICAgMHgwMTU0OiAweDAxYzAsIC8vIFhLX1JhY3V0ZVxuICAgIDB4MDE1NTogMHgwMWUwLCAvLyBYS19yYWN1dGVcbiAgICAweDAxNTY6IDB4MDNhMywgLy8gWEtfUmNlZGlsbGFcbiAgICAweDAxNTc6IDB4MDNiMywgLy8gWEtfcmNlZGlsbGFcbiAgICAweDAxNTg6IDB4MDFkOCwgLy8gWEtfUmNhcm9uXG4gICAgMHgwMTU5OiAweDAxZjgsIC8vIFhLX3JjYXJvblxuICAgIDB4MDE1YTogMHgwMWE2LCAvLyBYS19TYWN1dGVcbiAgICAweDAxNWI6IDB4MDFiNiwgLy8gWEtfc2FjdXRlXG4gICAgMHgwMTVjOiAweDAyZGUsIC8vIFhLX1NjaXJjdW1mbGV4XG4gICAgMHgwMTVkOiAweDAyZmUsIC8vIFhLX3NjaXJjdW1mbGV4XG4gICAgMHgwMTVlOiAweDAxYWEsIC8vIFhLX1NjZWRpbGxhXG4gICAgMHgwMTVmOiAweDAxYmEsIC8vIFhLX3NjZWRpbGxhXG4gICAgMHgwMTYwOiAweDAxYTksIC8vIFhLX1NjYXJvblxuICAgIDB4MDE2MTogMHgwMWI5LCAvLyBYS19zY2Fyb25cbiAgICAweDAxNjI6IDB4MDFkZSwgLy8gWEtfVGNlZGlsbGFcbiAgICAweDAxNjM6IDB4MDFmZSwgLy8gWEtfdGNlZGlsbGFcbiAgICAweDAxNjQ6IDB4MDFhYiwgLy8gWEtfVGNhcm9uXG4gICAgMHgwMTY1OiAweDAxYmIsIC8vIFhLX3RjYXJvblxuICAgIDB4MDE2NjogMHgwM2FjLCAvLyBYS19Uc2xhc2hcbiAgICAweDAxNjc6IDB4MDNiYywgLy8gWEtfdHNsYXNoXG4gICAgMHgwMTY4OiAweDAzZGQsIC8vIFhLX1V0aWxkZVxuICAgIDB4MDE2OTogMHgwM2ZkLCAvLyBYS191dGlsZGVcbiAgICAweDAxNmE6IDB4MDNkZSwgLy8gWEtfVW1hY3JvblxuICAgIDB4MDE2YjogMHgwM2ZlLCAvLyBYS191bWFjcm9uXG4gICAgMHgwMTZjOiAweDAyZGQsIC8vIFhLX1VicmV2ZVxuICAgIDB4MDE2ZDogMHgwMmZkLCAvLyBYS191YnJldmVcbiAgICAweDAxNmU6IDB4MDFkOSwgLy8gWEtfVXJpbmdcbiAgICAweDAxNmY6IDB4MDFmOSwgLy8gWEtfdXJpbmdcbiAgICAweDAxNzA6IDB4MDFkYiwgLy8gWEtfVWRvdWJsZWFjdXRlXG4gICAgMHgwMTcxOiAweDAxZmIsIC8vIFhLX3Vkb3VibGVhY3V0ZVxuICAgIDB4MDE3MjogMHgwM2Q5LCAvLyBYS19Vb2dvbmVrXG4gICAgMHgwMTczOiAweDAzZjksIC8vIFhLX3VvZ29uZWtcbiAgICAweDAxNzg6IDB4MTNiZSwgLy8gWEtfWWRpYWVyZXNpc1xuICAgIDB4MDE3OTogMHgwMWFjLCAvLyBYS19aYWN1dGVcbiAgICAweDAxN2E6IDB4MDFiYywgLy8gWEtfemFjdXRlXG4gICAgMHgwMTdiOiAweDAxYWYsIC8vIFhLX1phYm92ZWRvdFxuICAgIDB4MDE3YzogMHgwMWJmLCAvLyBYS196YWJvdmVkb3RcbiAgICAweDAxN2Q6IDB4MDFhZSwgLy8gWEtfWmNhcm9uXG4gICAgMHgwMTdlOiAweDAxYmUsIC8vIFhLX3pjYXJvblxuICAgIDB4MDE5MjogMHgwOGY2LCAvLyBYS19mdW5jdGlvblxuICAgIDB4MDFkMjogMHgxMDAwMWQxLCAvLyBYS19PY2Fyb25cbiAgICAweDAyYzc6IDB4MDFiNywgLy8gWEtfY2Fyb25cbiAgICAweDAyZDg6IDB4MDFhMiwgLy8gWEtfYnJldmVcbiAgICAweDAyZDk6IDB4MDFmZiwgLy8gWEtfYWJvdmVkb3RcbiAgICAweDAyZGI6IDB4MDFiMiwgLy8gWEtfb2dvbmVrXG4gICAgMHgwMmRkOiAweDAxYmQsIC8vIFhLX2RvdWJsZWFjdXRlXG4gICAgMHgwMzg1OiAweDA3YWUsIC8vIFhLX0dyZWVrX2FjY2VudGRpZXJlc2lzXG4gICAgMHgwMzg2OiAweDA3YTEsIC8vIFhLX0dyZWVrX0FMUEhBYWNjZW50XG4gICAgMHgwMzg4OiAweDA3YTIsIC8vIFhLX0dyZWVrX0VQU0lMT05hY2NlbnRcbiAgICAweDAzODk6IDB4MDdhMywgLy8gWEtfR3JlZWtfRVRBYWNjZW50XG4gICAgMHgwMzhhOiAweDA3YTQsIC8vIFhLX0dyZWVrX0lPVEFhY2NlbnRcbiAgICAweDAzOGM6IDB4MDdhNywgLy8gWEtfR3JlZWtfT01JQ1JPTmFjY2VudFxuICAgIDB4MDM4ZTogMHgwN2E4LCAvLyBYS19HcmVla19VUFNJTE9OYWNjZW50XG4gICAgMHgwMzhmOiAweDA3YWIsIC8vIFhLX0dyZWVrX09NRUdBYWNjZW50XG4gICAgMHgwMzkwOiAweDA3YjYsIC8vIFhLX0dyZWVrX2lvdGFhY2NlbnRkaWVyZXNpc1xuICAgIDB4MDM5MTogMHgwN2MxLCAvLyBYS19HcmVla19BTFBIQVxuICAgIDB4MDM5MjogMHgwN2MyLCAvLyBYS19HcmVla19CRVRBXG4gICAgMHgwMzkzOiAweDA3YzMsIC8vIFhLX0dyZWVrX0dBTU1BXG4gICAgMHgwMzk0OiAweDA3YzQsIC8vIFhLX0dyZWVrX0RFTFRBXG4gICAgMHgwMzk1OiAweDA3YzUsIC8vIFhLX0dyZWVrX0VQU0lMT05cbiAgICAweDAzOTY6IDB4MDdjNiwgLy8gWEtfR3JlZWtfWkVUQVxuICAgIDB4MDM5NzogMHgwN2M3LCAvLyBYS19HcmVla19FVEFcbiAgICAweDAzOTg6IDB4MDdjOCwgLy8gWEtfR3JlZWtfVEhFVEFcbiAgICAweDAzOTk6IDB4MDdjOSwgLy8gWEtfR3JlZWtfSU9UQVxuICAgIDB4MDM5YTogMHgwN2NhLCAvLyBYS19HcmVla19LQVBQQVxuICAgIDB4MDM5YjogMHgwN2NiLCAvLyBYS19HcmVla19MQU1EQVxuICAgIDB4MDM5YzogMHgwN2NjLCAvLyBYS19HcmVla19NVVxuICAgIDB4MDM5ZDogMHgwN2NkLCAvLyBYS19HcmVla19OVVxuICAgIDB4MDM5ZTogMHgwN2NlLCAvLyBYS19HcmVla19YSVxuICAgIDB4MDM5ZjogMHgwN2NmLCAvLyBYS19HcmVla19PTUlDUk9OXG4gICAgMHgwM2EwOiAweDA3ZDAsIC8vIFhLX0dyZWVrX1BJXG4gICAgMHgwM2ExOiAweDA3ZDEsIC8vIFhLX0dyZWVrX1JIT1xuICAgIDB4MDNhMzogMHgwN2QyLCAvLyBYS19HcmVla19TSUdNQVxuICAgIDB4MDNhNDogMHgwN2Q0LCAvLyBYS19HcmVla19UQVVcbiAgICAweDAzYTU6IDB4MDdkNSwgLy8gWEtfR3JlZWtfVVBTSUxPTlxuICAgIDB4MDNhNjogMHgwN2Q2LCAvLyBYS19HcmVla19QSElcbiAgICAweDAzYTc6IDB4MDdkNywgLy8gWEtfR3JlZWtfQ0hJXG4gICAgMHgwM2E4OiAweDA3ZDgsIC8vIFhLX0dyZWVrX1BTSVxuICAgIDB4MDNhOTogMHgwN2Q5LCAvLyBYS19HcmVla19PTUVHQVxuICAgIDB4MDNhYTogMHgwN2E1LCAvLyBYS19HcmVla19JT1RBZGllcmVzaXNcbiAgICAweDAzYWI6IDB4MDdhOSwgLy8gWEtfR3JlZWtfVVBTSUxPTmRpZXJlc2lzXG4gICAgMHgwM2FjOiAweDA3YjEsIC8vIFhLX0dyZWVrX2FscGhhYWNjZW50XG4gICAgMHgwM2FkOiAweDA3YjIsIC8vIFhLX0dyZWVrX2Vwc2lsb25hY2NlbnRcbiAgICAweDAzYWU6IDB4MDdiMywgLy8gWEtfR3JlZWtfZXRhYWNjZW50XG4gICAgMHgwM2FmOiAweDA3YjQsIC8vIFhLX0dyZWVrX2lvdGFhY2NlbnRcbiAgICAweDAzYjA6IDB4MDdiYSwgLy8gWEtfR3JlZWtfdXBzaWxvbmFjY2VudGRpZXJlc2lzXG4gICAgMHgwM2IxOiAweDA3ZTEsIC8vIFhLX0dyZWVrX2FscGhhXG4gICAgMHgwM2IyOiAweDA3ZTIsIC8vIFhLX0dyZWVrX2JldGFcbiAgICAweDAzYjM6IDB4MDdlMywgLy8gWEtfR3JlZWtfZ2FtbWFcbiAgICAweDAzYjQ6IDB4MDdlNCwgLy8gWEtfR3JlZWtfZGVsdGFcbiAgICAweDAzYjU6IDB4MDdlNSwgLy8gWEtfR3JlZWtfZXBzaWxvblxuICAgIDB4MDNiNjogMHgwN2U2LCAvLyBYS19HcmVla196ZXRhXG4gICAgMHgwM2I3OiAweDA3ZTcsIC8vIFhLX0dyZWVrX2V0YVxuICAgIDB4MDNiODogMHgwN2U4LCAvLyBYS19HcmVla190aGV0YVxuICAgIDB4MDNiOTogMHgwN2U5LCAvLyBYS19HcmVla19pb3RhXG4gICAgMHgwM2JhOiAweDA3ZWEsIC8vIFhLX0dyZWVrX2thcHBhXG4gICAgMHgwM2JiOiAweDA3ZWIsIC8vIFhLX0dyZWVrX2xhbWRhXG4gICAgMHgwM2JjOiAweDA3ZWMsIC8vIFhLX0dyZWVrX211XG4gICAgMHgwM2JkOiAweDA3ZWQsIC8vIFhLX0dyZWVrX251XG4gICAgMHgwM2JlOiAweDA3ZWUsIC8vIFhLX0dyZWVrX3hpXG4gICAgMHgwM2JmOiAweDA3ZWYsIC8vIFhLX0dyZWVrX29taWNyb25cbiAgICAweDAzYzA6IDB4MDdmMCwgLy8gWEtfR3JlZWtfcGlcbiAgICAweDAzYzE6IDB4MDdmMSwgLy8gWEtfR3JlZWtfcmhvXG4gICAgMHgwM2MyOiAweDA3ZjMsIC8vIFhLX0dyZWVrX2ZpbmFsc21hbGxzaWdtYVxuICAgIDB4MDNjMzogMHgwN2YyLCAvLyBYS19HcmVla19zaWdtYVxuICAgIDB4MDNjNDogMHgwN2Y0LCAvLyBYS19HcmVla190YXVcbiAgICAweDAzYzU6IDB4MDdmNSwgLy8gWEtfR3JlZWtfdXBzaWxvblxuICAgIDB4MDNjNjogMHgwN2Y2LCAvLyBYS19HcmVla19waGlcbiAgICAweDAzYzc6IDB4MDdmNywgLy8gWEtfR3JlZWtfY2hpXG4gICAgMHgwM2M4OiAweDA3ZjgsIC8vIFhLX0dyZWVrX3BzaVxuICAgIDB4MDNjOTogMHgwN2Y5LCAvLyBYS19HcmVla19vbWVnYVxuICAgIDB4MDNjYTogMHgwN2I1LCAvLyBYS19HcmVla19pb3RhZGllcmVzaXNcbiAgICAweDAzY2I6IDB4MDdiOSwgLy8gWEtfR3JlZWtfdXBzaWxvbmRpZXJlc2lzXG4gICAgMHgwM2NjOiAweDA3YjcsIC8vIFhLX0dyZWVrX29taWNyb25hY2NlbnRcbiAgICAweDAzY2Q6IDB4MDdiOCwgLy8gWEtfR3JlZWtfdXBzaWxvbmFjY2VudFxuICAgIDB4MDNjZTogMHgwN2JiLCAvLyBYS19HcmVla19vbWVnYWFjY2VudFxuICAgIDB4MDQwMTogMHgwNmIzLCAvLyBYS19DeXJpbGxpY19JT1xuICAgIDB4MDQwMjogMHgwNmIxLCAvLyBYS19TZXJiaWFuX0RKRVxuICAgIDB4MDQwMzogMHgwNmIyLCAvLyBYS19NYWNlZG9uaWFfR0pFXG4gICAgMHgwNDA0OiAweDA2YjQsIC8vIFhLX1VrcmFpbmlhbl9JRVxuICAgIDB4MDQwNTogMHgwNmI1LCAvLyBYS19NYWNlZG9uaWFfRFNFXG4gICAgMHgwNDA2OiAweDA2YjYsIC8vIFhLX1VrcmFpbmlhbl9JXG4gICAgMHgwNDA3OiAweDA2YjcsIC8vIFhLX1VrcmFpbmlhbl9ZSVxuICAgIDB4MDQwODogMHgwNmI4LCAvLyBYS19DeXJpbGxpY19KRVxuICAgIDB4MDQwOTogMHgwNmI5LCAvLyBYS19DeXJpbGxpY19MSkVcbiAgICAweDA0MGE6IDB4MDZiYSwgLy8gWEtfQ3lyaWxsaWNfTkpFXG4gICAgMHgwNDBiOiAweDA2YmIsIC8vIFhLX1NlcmJpYW5fVFNIRVxuICAgIDB4MDQwYzogMHgwNmJjLCAvLyBYS19NYWNlZG9uaWFfS0pFXG4gICAgMHgwNDBlOiAweDA2YmUsIC8vIFhLX0J5ZWxvcnVzc2lhbl9TSE9SVFVcbiAgICAweDA0MGY6IDB4MDZiZiwgLy8gWEtfQ3lyaWxsaWNfRFpIRVxuICAgIDB4MDQxMDogMHgwNmUxLCAvLyBYS19DeXJpbGxpY19BXG4gICAgMHgwNDExOiAweDA2ZTIsIC8vIFhLX0N5cmlsbGljX0JFXG4gICAgMHgwNDEyOiAweDA2ZjcsIC8vIFhLX0N5cmlsbGljX1ZFXG4gICAgMHgwNDEzOiAweDA2ZTcsIC8vIFhLX0N5cmlsbGljX0dIRVxuICAgIDB4MDQxNDogMHgwNmU0LCAvLyBYS19DeXJpbGxpY19ERVxuICAgIDB4MDQxNTogMHgwNmU1LCAvLyBYS19DeXJpbGxpY19JRVxuICAgIDB4MDQxNjogMHgwNmY2LCAvLyBYS19DeXJpbGxpY19aSEVcbiAgICAweDA0MTc6IDB4MDZmYSwgLy8gWEtfQ3lyaWxsaWNfWkVcbiAgICAweDA0MTg6IDB4MDZlOSwgLy8gWEtfQ3lyaWxsaWNfSVxuICAgIDB4MDQxOTogMHgwNmVhLCAvLyBYS19DeXJpbGxpY19TSE9SVElcbiAgICAweDA0MWE6IDB4MDZlYiwgLy8gWEtfQ3lyaWxsaWNfS0FcbiAgICAweDA0MWI6IDB4MDZlYywgLy8gWEtfQ3lyaWxsaWNfRUxcbiAgICAweDA0MWM6IDB4MDZlZCwgLy8gWEtfQ3lyaWxsaWNfRU1cbiAgICAweDA0MWQ6IDB4MDZlZSwgLy8gWEtfQ3lyaWxsaWNfRU5cbiAgICAweDA0MWU6IDB4MDZlZiwgLy8gWEtfQ3lyaWxsaWNfT1xuICAgIDB4MDQxZjogMHgwNmYwLCAvLyBYS19DeXJpbGxpY19QRVxuICAgIDB4MDQyMDogMHgwNmYyLCAvLyBYS19DeXJpbGxpY19FUlxuICAgIDB4MDQyMTogMHgwNmYzLCAvLyBYS19DeXJpbGxpY19FU1xuICAgIDB4MDQyMjogMHgwNmY0LCAvLyBYS19DeXJpbGxpY19URVxuICAgIDB4MDQyMzogMHgwNmY1LCAvLyBYS19DeXJpbGxpY19VXG4gICAgMHgwNDI0OiAweDA2ZTYsIC8vIFhLX0N5cmlsbGljX0VGXG4gICAgMHgwNDI1OiAweDA2ZTgsIC8vIFhLX0N5cmlsbGljX0hBXG4gICAgMHgwNDI2OiAweDA2ZTMsIC8vIFhLX0N5cmlsbGljX1RTRVxuICAgIDB4MDQyNzogMHgwNmZlLCAvLyBYS19DeXJpbGxpY19DSEVcbiAgICAweDA0Mjg6IDB4MDZmYiwgLy8gWEtfQ3lyaWxsaWNfU0hBXG4gICAgMHgwNDI5OiAweDA2ZmQsIC8vIFhLX0N5cmlsbGljX1NIQ0hBXG4gICAgMHgwNDJhOiAweDA2ZmYsIC8vIFhLX0N5cmlsbGljX0hBUkRTSUdOXG4gICAgMHgwNDJiOiAweDA2ZjksIC8vIFhLX0N5cmlsbGljX1lFUlVcbiAgICAweDA0MmM6IDB4MDZmOCwgLy8gWEtfQ3lyaWxsaWNfU09GVFNJR05cbiAgICAweDA0MmQ6IDB4MDZmYywgLy8gWEtfQ3lyaWxsaWNfRVxuICAgIDB4MDQyZTogMHgwNmUwLCAvLyBYS19DeXJpbGxpY19ZVVxuICAgIDB4MDQyZjogMHgwNmYxLCAvLyBYS19DeXJpbGxpY19ZQVxuICAgIDB4MDQzMDogMHgwNmMxLCAvLyBYS19DeXJpbGxpY19hXG4gICAgMHgwNDMxOiAweDA2YzIsIC8vIFhLX0N5cmlsbGljX2JlXG4gICAgMHgwNDMyOiAweDA2ZDcsIC8vIFhLX0N5cmlsbGljX3ZlXG4gICAgMHgwNDMzOiAweDA2YzcsIC8vIFhLX0N5cmlsbGljX2doZVxuICAgIDB4MDQzNDogMHgwNmM0LCAvLyBYS19DeXJpbGxpY19kZVxuICAgIDB4MDQzNTogMHgwNmM1LCAvLyBYS19DeXJpbGxpY19pZVxuICAgIDB4MDQzNjogMHgwNmQ2LCAvLyBYS19DeXJpbGxpY196aGVcbiAgICAweDA0Mzc6IDB4MDZkYSwgLy8gWEtfQ3lyaWxsaWNfemVcbiAgICAweDA0Mzg6IDB4MDZjOSwgLy8gWEtfQ3lyaWxsaWNfaVxuICAgIDB4MDQzOTogMHgwNmNhLCAvLyBYS19DeXJpbGxpY19zaG9ydGlcbiAgICAweDA0M2E6IDB4MDZjYiwgLy8gWEtfQ3lyaWxsaWNfa2FcbiAgICAweDA0M2I6IDB4MDZjYywgLy8gWEtfQ3lyaWxsaWNfZWxcbiAgICAweDA0M2M6IDB4MDZjZCwgLy8gWEtfQ3lyaWxsaWNfZW1cbiAgICAweDA0M2Q6IDB4MDZjZSwgLy8gWEtfQ3lyaWxsaWNfZW5cbiAgICAweDA0M2U6IDB4MDZjZiwgLy8gWEtfQ3lyaWxsaWNfb1xuICAgIDB4MDQzZjogMHgwNmQwLCAvLyBYS19DeXJpbGxpY19wZVxuICAgIDB4MDQ0MDogMHgwNmQyLCAvLyBYS19DeXJpbGxpY19lclxuICAgIDB4MDQ0MTogMHgwNmQzLCAvLyBYS19DeXJpbGxpY19lc1xuICAgIDB4MDQ0MjogMHgwNmQ0LCAvLyBYS19DeXJpbGxpY190ZVxuICAgIDB4MDQ0MzogMHgwNmQ1LCAvLyBYS19DeXJpbGxpY191XG4gICAgMHgwNDQ0OiAweDA2YzYsIC8vIFhLX0N5cmlsbGljX2VmXG4gICAgMHgwNDQ1OiAweDA2YzgsIC8vIFhLX0N5cmlsbGljX2hhXG4gICAgMHgwNDQ2OiAweDA2YzMsIC8vIFhLX0N5cmlsbGljX3RzZVxuICAgIDB4MDQ0NzogMHgwNmRlLCAvLyBYS19DeXJpbGxpY19jaGVcbiAgICAweDA0NDg6IDB4MDZkYiwgLy8gWEtfQ3lyaWxsaWNfc2hhXG4gICAgMHgwNDQ5OiAweDA2ZGQsIC8vIFhLX0N5cmlsbGljX3NoY2hhXG4gICAgMHgwNDRhOiAweDA2ZGYsIC8vIFhLX0N5cmlsbGljX2hhcmRzaWduXG4gICAgMHgwNDRiOiAweDA2ZDksIC8vIFhLX0N5cmlsbGljX3llcnVcbiAgICAweDA0NGM6IDB4MDZkOCwgLy8gWEtfQ3lyaWxsaWNfc29mdHNpZ25cbiAgICAweDA0NGQ6IDB4MDZkYywgLy8gWEtfQ3lyaWxsaWNfZVxuICAgIDB4MDQ0ZTogMHgwNmMwLCAvLyBYS19DeXJpbGxpY195dVxuICAgIDB4MDQ0ZjogMHgwNmQxLCAvLyBYS19DeXJpbGxpY195YVxuICAgIDB4MDQ1MTogMHgwNmEzLCAvLyBYS19DeXJpbGxpY19pb1xuICAgIDB4MDQ1MjogMHgwNmExLCAvLyBYS19TZXJiaWFuX2RqZVxuICAgIDB4MDQ1MzogMHgwNmEyLCAvLyBYS19NYWNlZG9uaWFfZ2plXG4gICAgMHgwNDU0OiAweDA2YTQsIC8vIFhLX1VrcmFpbmlhbl9pZVxuICAgIDB4MDQ1NTogMHgwNmE1LCAvLyBYS19NYWNlZG9uaWFfZHNlXG4gICAgMHgwNDU2OiAweDA2YTYsIC8vIFhLX1VrcmFpbmlhbl9pXG4gICAgMHgwNDU3OiAweDA2YTcsIC8vIFhLX1VrcmFpbmlhbl95aVxuICAgIDB4MDQ1ODogMHgwNmE4LCAvLyBYS19DeXJpbGxpY19qZVxuICAgIDB4MDQ1OTogMHgwNmE5LCAvLyBYS19DeXJpbGxpY19samVcbiAgICAweDA0NWE6IDB4MDZhYSwgLy8gWEtfQ3lyaWxsaWNfbmplXG4gICAgMHgwNDViOiAweDA2YWIsIC8vIFhLX1NlcmJpYW5fdHNoZVxuICAgIDB4MDQ1YzogMHgwNmFjLCAvLyBYS19NYWNlZG9uaWFfa2plXG4gICAgMHgwNDVlOiAweDA2YWUsIC8vIFhLX0J5ZWxvcnVzc2lhbl9zaG9ydHVcbiAgICAweDA0NWY6IDB4MDZhZiwgLy8gWEtfQ3lyaWxsaWNfZHpoZVxuICAgIDB4MDQ5MDogMHgwNmJkLCAvLyBYS19Va3JhaW5pYW5fR0hFX1dJVEhfVVBUVVJOXG4gICAgMHgwNDkxOiAweDA2YWQsIC8vIFhLX1VrcmFpbmlhbl9naGVfd2l0aF91cHR1cm5cbiAgICAweDA1ZDA6IDB4MGNlMCwgLy8gWEtfaGVicmV3X2FsZXBoXG4gICAgMHgwNWQxOiAweDBjZTEsIC8vIFhLX2hlYnJld19iZXRcbiAgICAweDA1ZDI6IDB4MGNlMiwgLy8gWEtfaGVicmV3X2dpbWVsXG4gICAgMHgwNWQzOiAweDBjZTMsIC8vIFhLX2hlYnJld19kYWxldFxuICAgIDB4MDVkNDogMHgwY2U0LCAvLyBYS19oZWJyZXdfaGVcbiAgICAweDA1ZDU6IDB4MGNlNSwgLy8gWEtfaGVicmV3X3dhd1xuICAgIDB4MDVkNjogMHgwY2U2LCAvLyBYS19oZWJyZXdfemFpblxuICAgIDB4MDVkNzogMHgwY2U3LCAvLyBYS19oZWJyZXdfY2hldFxuICAgIDB4MDVkODogMHgwY2U4LCAvLyBYS19oZWJyZXdfdGV0XG4gICAgMHgwNWQ5OiAweDBjZTksIC8vIFhLX2hlYnJld195b2RcbiAgICAweDA1ZGE6IDB4MGNlYSwgLy8gWEtfaGVicmV3X2ZpbmFsa2FwaFxuICAgIDB4MDVkYjogMHgwY2ViLCAvLyBYS19oZWJyZXdfa2FwaFxuICAgIDB4MDVkYzogMHgwY2VjLCAvLyBYS19oZWJyZXdfbGFtZWRcbiAgICAweDA1ZGQ6IDB4MGNlZCwgLy8gWEtfaGVicmV3X2ZpbmFsbWVtXG4gICAgMHgwNWRlOiAweDBjZWUsIC8vIFhLX2hlYnJld19tZW1cbiAgICAweDA1ZGY6IDB4MGNlZiwgLy8gWEtfaGVicmV3X2ZpbmFsbnVuXG4gICAgMHgwNWUwOiAweDBjZjAsIC8vIFhLX2hlYnJld19udW5cbiAgICAweDA1ZTE6IDB4MGNmMSwgLy8gWEtfaGVicmV3X3NhbWVjaFxuICAgIDB4MDVlMjogMHgwY2YyLCAvLyBYS19oZWJyZXdfYXlpblxuICAgIDB4MDVlMzogMHgwY2YzLCAvLyBYS19oZWJyZXdfZmluYWxwZVxuICAgIDB4MDVlNDogMHgwY2Y0LCAvLyBYS19oZWJyZXdfcGVcbiAgICAweDA1ZTU6IDB4MGNmNSwgLy8gWEtfaGVicmV3X2ZpbmFsemFkZVxuICAgIDB4MDVlNjogMHgwY2Y2LCAvLyBYS19oZWJyZXdfemFkZVxuICAgIDB4MDVlNzogMHgwY2Y3LCAvLyBYS19oZWJyZXdfcW9waFxuICAgIDB4MDVlODogMHgwY2Y4LCAvLyBYS19oZWJyZXdfcmVzaFxuICAgIDB4MDVlOTogMHgwY2Y5LCAvLyBYS19oZWJyZXdfc2hpblxuICAgIDB4MDVlYTogMHgwY2ZhLCAvLyBYS19oZWJyZXdfdGF3XG4gICAgMHgwNjBjOiAweDA1YWMsIC8vIFhLX0FyYWJpY19jb21tYVxuICAgIDB4MDYxYjogMHgwNWJiLCAvLyBYS19BcmFiaWNfc2VtaWNvbG9uXG4gICAgMHgwNjFmOiAweDA1YmYsIC8vIFhLX0FyYWJpY19xdWVzdGlvbl9tYXJrXG4gICAgMHgwNjIxOiAweDA1YzEsIC8vIFhLX0FyYWJpY19oYW16YVxuICAgIDB4MDYyMjogMHgwNWMyLCAvLyBYS19BcmFiaWNfbWFkZGFvbmFsZWZcbiAgICAweDA2MjM6IDB4MDVjMywgLy8gWEtfQXJhYmljX2hhbXphb25hbGVmXG4gICAgMHgwNjI0OiAweDA1YzQsIC8vIFhLX0FyYWJpY19oYW16YW9ud2F3XG4gICAgMHgwNjI1OiAweDA1YzUsIC8vIFhLX0FyYWJpY19oYW16YXVuZGVyYWxlZlxuICAgIDB4MDYyNjogMHgwNWM2LCAvLyBYS19BcmFiaWNfaGFtemFvbnllaFxuICAgIDB4MDYyNzogMHgwNWM3LCAvLyBYS19BcmFiaWNfYWxlZlxuICAgIDB4MDYyODogMHgwNWM4LCAvLyBYS19BcmFiaWNfYmVoXG4gICAgMHgwNjI5OiAweDA1YzksIC8vIFhLX0FyYWJpY190ZWhtYXJidXRhXG4gICAgMHgwNjJhOiAweDA1Y2EsIC8vIFhLX0FyYWJpY190ZWhcbiAgICAweDA2MmI6IDB4MDVjYiwgLy8gWEtfQXJhYmljX3RoZWhcbiAgICAweDA2MmM6IDB4MDVjYywgLy8gWEtfQXJhYmljX2plZW1cbiAgICAweDA2MmQ6IDB4MDVjZCwgLy8gWEtfQXJhYmljX2hhaFxuICAgIDB4MDYyZTogMHgwNWNlLCAvLyBYS19BcmFiaWNfa2hhaFxuICAgIDB4MDYyZjogMHgwNWNmLCAvLyBYS19BcmFiaWNfZGFsXG4gICAgMHgwNjMwOiAweDA1ZDAsIC8vIFhLX0FyYWJpY190aGFsXG4gICAgMHgwNjMxOiAweDA1ZDEsIC8vIFhLX0FyYWJpY19yYVxuICAgIDB4MDYzMjogMHgwNWQyLCAvLyBYS19BcmFiaWNfemFpblxuICAgIDB4MDYzMzogMHgwNWQzLCAvLyBYS19BcmFiaWNfc2VlblxuICAgIDB4MDYzNDogMHgwNWQ0LCAvLyBYS19BcmFiaWNfc2hlZW5cbiAgICAweDA2MzU6IDB4MDVkNSwgLy8gWEtfQXJhYmljX3NhZFxuICAgIDB4MDYzNjogMHgwNWQ2LCAvLyBYS19BcmFiaWNfZGFkXG4gICAgMHgwNjM3OiAweDA1ZDcsIC8vIFhLX0FyYWJpY190YWhcbiAgICAweDA2Mzg6IDB4MDVkOCwgLy8gWEtfQXJhYmljX3phaFxuICAgIDB4MDYzOTogMHgwNWQ5LCAvLyBYS19BcmFiaWNfYWluXG4gICAgMHgwNjNhOiAweDA1ZGEsIC8vIFhLX0FyYWJpY19naGFpblxuICAgIDB4MDY0MDogMHgwNWUwLCAvLyBYS19BcmFiaWNfdGF0d2VlbFxuICAgIDB4MDY0MTogMHgwNWUxLCAvLyBYS19BcmFiaWNfZmVoXG4gICAgMHgwNjQyOiAweDA1ZTIsIC8vIFhLX0FyYWJpY19xYWZcbiAgICAweDA2NDM6IDB4MDVlMywgLy8gWEtfQXJhYmljX2thZlxuICAgIDB4MDY0NDogMHgwNWU0LCAvLyBYS19BcmFiaWNfbGFtXG4gICAgMHgwNjQ1OiAweDA1ZTUsIC8vIFhLX0FyYWJpY19tZWVtXG4gICAgMHgwNjQ2OiAweDA1ZTYsIC8vIFhLX0FyYWJpY19ub29uXG4gICAgMHgwNjQ3OiAweDA1ZTcsIC8vIFhLX0FyYWJpY19oYVxuICAgIDB4MDY0ODogMHgwNWU4LCAvLyBYS19BcmFiaWNfd2F3XG4gICAgMHgwNjQ5OiAweDA1ZTksIC8vIFhLX0FyYWJpY19hbGVmbWFrc3VyYVxuICAgIDB4MDY0YTogMHgwNWVhLCAvLyBYS19BcmFiaWNfeWVoXG4gICAgMHgwNjRiOiAweDA1ZWIsIC8vIFhLX0FyYWJpY19mYXRoYXRhblxuICAgIDB4MDY0YzogMHgwNWVjLCAvLyBYS19BcmFiaWNfZGFtbWF0YW5cbiAgICAweDA2NGQ6IDB4MDVlZCwgLy8gWEtfQXJhYmljX2thc3JhdGFuXG4gICAgMHgwNjRlOiAweDA1ZWUsIC8vIFhLX0FyYWJpY19mYXRoYVxuICAgIDB4MDY0ZjogMHgwNWVmLCAvLyBYS19BcmFiaWNfZGFtbWFcbiAgICAweDA2NTA6IDB4MDVmMCwgLy8gWEtfQXJhYmljX2thc3JhXG4gICAgMHgwNjUxOiAweDA1ZjEsIC8vIFhLX0FyYWJpY19zaGFkZGFcbiAgICAweDA2NTI6IDB4MDVmMiwgLy8gWEtfQXJhYmljX3N1a3VuXG4gICAgMHgwZTAxOiAweDBkYTEsIC8vIFhLX1RoYWlfa29rYWlcbiAgICAweDBlMDI6IDB4MGRhMiwgLy8gWEtfVGhhaV9raG9raGFpXG4gICAgMHgwZTAzOiAweDBkYTMsIC8vIFhLX1RoYWlfa2hva2h1YXRcbiAgICAweDBlMDQ6IDB4MGRhNCwgLy8gWEtfVGhhaV9raG9raHdhaVxuICAgIDB4MGUwNTogMHgwZGE1LCAvLyBYS19UaGFpX2tob2tob25cbiAgICAweDBlMDY6IDB4MGRhNiwgLy8gWEtfVGhhaV9raG9yYWtoYW5nXG4gICAgMHgwZTA3OiAweDBkYTcsIC8vIFhLX1RoYWlfbmdvbmd1XG4gICAgMHgwZTA4OiAweDBkYTgsIC8vIFhLX1RoYWlfY2hvY2hhblxuICAgIDB4MGUwOTogMHgwZGE5LCAvLyBYS19UaGFpX2Nob2NoaW5nXG4gICAgMHgwZTBhOiAweDBkYWEsIC8vIFhLX1RoYWlfY2hvY2hhbmdcbiAgICAweDBlMGI6IDB4MGRhYiwgLy8gWEtfVGhhaV9zb3NvXG4gICAgMHgwZTBjOiAweDBkYWMsIC8vIFhLX1RoYWlfY2hvY2hvZVxuICAgIDB4MGUwZDogMHgwZGFkLCAvLyBYS19UaGFpX3lveWluZ1xuICAgIDB4MGUwZTogMHgwZGFlLCAvLyBYS19UaGFpX2RvY2hhZGFcbiAgICAweDBlMGY6IDB4MGRhZiwgLy8gWEtfVGhhaV90b3BhdGFrXG4gICAgMHgwZTEwOiAweDBkYjAsIC8vIFhLX1RoYWlfdGhvdGhhblxuICAgIDB4MGUxMTogMHgwZGIxLCAvLyBYS19UaGFpX3Rob25hbmdtb250aG9cbiAgICAweDBlMTI6IDB4MGRiMiwgLy8gWEtfVGhhaV90aG9waHV0aGFvXG4gICAgMHgwZTEzOiAweDBkYjMsIC8vIFhLX1RoYWlfbm9uZW5cbiAgICAweDBlMTQ6IDB4MGRiNCwgLy8gWEtfVGhhaV9kb2Rla1xuICAgIDB4MGUxNTogMHgwZGI1LCAvLyBYS19UaGFpX3RvdGFvXG4gICAgMHgwZTE2OiAweDBkYjYsIC8vIFhLX1RoYWlfdGhvdGh1bmdcbiAgICAweDBlMTc6IDB4MGRiNywgLy8gWEtfVGhhaV90aG90aGFoYW5cbiAgICAweDBlMTg6IDB4MGRiOCwgLy8gWEtfVGhhaV90aG90aG9uZ1xuICAgIDB4MGUxOTogMHgwZGI5LCAvLyBYS19UaGFpX25vbnVcbiAgICAweDBlMWE6IDB4MGRiYSwgLy8gWEtfVGhhaV9ib2JhaW1haVxuICAgIDB4MGUxYjogMHgwZGJiLCAvLyBYS19UaGFpX3BvcGxhXG4gICAgMHgwZTFjOiAweDBkYmMsIC8vIFhLX1RoYWlfcGhvcGh1bmdcbiAgICAweDBlMWQ6IDB4MGRiZCwgLy8gWEtfVGhhaV9mb2ZhXG4gICAgMHgwZTFlOiAweDBkYmUsIC8vIFhLX1RoYWlfcGhvcGhhblxuICAgIDB4MGUxZjogMHgwZGJmLCAvLyBYS19UaGFpX2ZvZmFuXG4gICAgMHgwZTIwOiAweDBkYzAsIC8vIFhLX1RoYWlfcGhvc2FtcGhhb1xuICAgIDB4MGUyMTogMHgwZGMxLCAvLyBYS19UaGFpX21vbWFcbiAgICAweDBlMjI6IDB4MGRjMiwgLy8gWEtfVGhhaV95b3lha1xuICAgIDB4MGUyMzogMHgwZGMzLCAvLyBYS19UaGFpX3JvcnVhXG4gICAgMHgwZTI0OiAweDBkYzQsIC8vIFhLX1RoYWlfcnVcbiAgICAweDBlMjU6IDB4MGRjNSwgLy8gWEtfVGhhaV9sb2xpbmdcbiAgICAweDBlMjY6IDB4MGRjNiwgLy8gWEtfVGhhaV9sdVxuICAgIDB4MGUyNzogMHgwZGM3LCAvLyBYS19UaGFpX3dvd2FlblxuICAgIDB4MGUyODogMHgwZGM4LCAvLyBYS19UaGFpX3Nvc2FsYVxuICAgIDB4MGUyOTogMHgwZGM5LCAvLyBYS19UaGFpX3NvcnVzaVxuICAgIDB4MGUyYTogMHgwZGNhLCAvLyBYS19UaGFpX3Nvc3VhXG4gICAgMHgwZTJiOiAweDBkY2IsIC8vIFhLX1RoYWlfaG9oaXBcbiAgICAweDBlMmM6IDB4MGRjYywgLy8gWEtfVGhhaV9sb2NodWxhXG4gICAgMHgwZTJkOiAweDBkY2QsIC8vIFhLX1RoYWlfb2FuZ1xuICAgIDB4MGUyZTogMHgwZGNlLCAvLyBYS19UaGFpX2hvbm9raHVrXG4gICAgMHgwZTJmOiAweDBkY2YsIC8vIFhLX1RoYWlfcGFpeWFubm9pXG4gICAgMHgwZTMwOiAweDBkZDAsIC8vIFhLX1RoYWlfc2FyYWFcbiAgICAweDBlMzE6IDB4MGRkMSwgLy8gWEtfVGhhaV9tYWloYW5ha2F0XG4gICAgMHgwZTMyOiAweDBkZDIsIC8vIFhLX1RoYWlfc2FyYWFhXG4gICAgMHgwZTMzOiAweDBkZDMsIC8vIFhLX1RoYWlfc2FyYWFtXG4gICAgMHgwZTM0OiAweDBkZDQsIC8vIFhLX1RoYWlfc2FyYWlcbiAgICAweDBlMzU6IDB4MGRkNSwgLy8gWEtfVGhhaV9zYXJhaWlcbiAgICAweDBlMzY6IDB4MGRkNiwgLy8gWEtfVGhhaV9zYXJhdWVcbiAgICAweDBlMzc6IDB4MGRkNywgLy8gWEtfVGhhaV9zYXJhdWVlXG4gICAgMHgwZTM4OiAweDBkZDgsIC8vIFhLX1RoYWlfc2FyYXVcbiAgICAweDBlMzk6IDB4MGRkOSwgLy8gWEtfVGhhaV9zYXJhdXVcbiAgICAweDBlM2E6IDB4MGRkYSwgLy8gWEtfVGhhaV9waGludGh1XG4gICAgMHgwZTNmOiAweDBkZGYsIC8vIFhLX1RoYWlfYmFodFxuICAgIDB4MGU0MDogMHgwZGUwLCAvLyBYS19UaGFpX3NhcmFlXG4gICAgMHgwZTQxOiAweDBkZTEsIC8vIFhLX1RoYWlfc2FyYWFlXG4gICAgMHgwZTQyOiAweDBkZTIsIC8vIFhLX1RoYWlfc2FyYW9cbiAgICAweDBlNDM6IDB4MGRlMywgLy8gWEtfVGhhaV9zYXJhYWltYWltdWFuXG4gICAgMHgwZTQ0OiAweDBkZTQsIC8vIFhLX1RoYWlfc2FyYWFpbWFpbWFsYWlcbiAgICAweDBlNDU6IDB4MGRlNSwgLy8gWEtfVGhhaV9sYWtraGFuZ3lhb1xuICAgIDB4MGU0NjogMHgwZGU2LCAvLyBYS19UaGFpX21haXlhbW9rXG4gICAgMHgwZTQ3OiAweDBkZTcsIC8vIFhLX1RoYWlfbWFpdGFpa2h1XG4gICAgMHgwZTQ4OiAweDBkZTgsIC8vIFhLX1RoYWlfbWFpZWtcbiAgICAweDBlNDk6IDB4MGRlOSwgLy8gWEtfVGhhaV9tYWl0aG9cbiAgICAweDBlNGE6IDB4MGRlYSwgLy8gWEtfVGhhaV9tYWl0cmlcbiAgICAweDBlNGI6IDB4MGRlYiwgLy8gWEtfVGhhaV9tYWljaGF0dGF3YVxuICAgIDB4MGU0YzogMHgwZGVjLCAvLyBYS19UaGFpX3RoYW50aGFraGF0XG4gICAgMHgwZTRkOiAweDBkZWQsIC8vIFhLX1RoYWlfbmlraGFoaXRcbiAgICAweDBlNTA6IDB4MGRmMCwgLy8gWEtfVGhhaV9sZWtzdW5cbiAgICAweDBlNTE6IDB4MGRmMSwgLy8gWEtfVGhhaV9sZWtudW5nXG4gICAgMHgwZTUyOiAweDBkZjIsIC8vIFhLX1RoYWlfbGVrc29uZ1xuICAgIDB4MGU1MzogMHgwZGYzLCAvLyBYS19UaGFpX2xla3NhbVxuICAgIDB4MGU1NDogMHgwZGY0LCAvLyBYS19UaGFpX2xla3NpXG4gICAgMHgwZTU1OiAweDBkZjUsIC8vIFhLX1RoYWlfbGVraGFcbiAgICAweDBlNTY6IDB4MGRmNiwgLy8gWEtfVGhhaV9sZWtob2tcbiAgICAweDBlNTc6IDB4MGRmNywgLy8gWEtfVGhhaV9sZWtjaGV0XG4gICAgMHgwZTU4OiAweDBkZjgsIC8vIFhLX1RoYWlfbGVrcGFldFxuICAgIDB4MGU1OTogMHgwZGY5LCAvLyBYS19UaGFpX2xla2thb1xuICAgIDB4MjAwMjogMHgwYWEyLCAvLyBYS19lbnNwYWNlXG4gICAgMHgyMDAzOiAweDBhYTEsIC8vIFhLX2Vtc3BhY2VcbiAgICAweDIwMDQ6IDB4MGFhMywgLy8gWEtfZW0zc3BhY2VcbiAgICAweDIwMDU6IDB4MGFhNCwgLy8gWEtfZW00c3BhY2VcbiAgICAweDIwMDc6IDB4MGFhNSwgLy8gWEtfZGlnaXRzcGFjZVxuICAgIDB4MjAwODogMHgwYWE2LCAvLyBYS19wdW5jdHNwYWNlXG4gICAgMHgyMDA5OiAweDBhYTcsIC8vIFhLX3RoaW5zcGFjZVxuICAgIDB4MjAwYTogMHgwYWE4LCAvLyBYS19oYWlyc3BhY2VcbiAgICAweDIwMTI6IDB4MGFiYiwgLy8gWEtfZmlnZGFzaFxuICAgIDB4MjAxMzogMHgwYWFhLCAvLyBYS19lbmRhc2hcbiAgICAweDIwMTQ6IDB4MGFhOSwgLy8gWEtfZW1kYXNoXG4gICAgMHgyMDE1OiAweDA3YWYsIC8vIFhLX0dyZWVrX2hvcml6YmFyXG4gICAgMHgyMDE3OiAweDBjZGYsIC8vIFhLX2hlYnJld19kb3VibGVsb3dsaW5lXG4gICAgMHgyMDE4OiAweDBhZDAsIC8vIFhLX2xlZnRzaW5nbGVxdW90ZW1hcmtcbiAgICAweDIwMTk6IDB4MGFkMSwgLy8gWEtfcmlnaHRzaW5nbGVxdW90ZW1hcmtcbiAgICAweDIwMWE6IDB4MGFmZCwgLy8gWEtfc2luZ2xlbG93cXVvdGVtYXJrXG4gICAgMHgyMDFjOiAweDBhZDIsIC8vIFhLX2xlZnRkb3VibGVxdW90ZW1hcmtcbiAgICAweDIwMWQ6IDB4MGFkMywgLy8gWEtfcmlnaHRkb3VibGVxdW90ZW1hcmtcbiAgICAweDIwMWU6IDB4MGFmZSwgLy8gWEtfZG91YmxlbG93cXVvdGVtYXJrXG4gICAgMHgyMDIwOiAweDBhZjEsIC8vIFhLX2RhZ2dlclxuICAgIDB4MjAyMTogMHgwYWYyLCAvLyBYS19kb3VibGVkYWdnZXJcbiAgICAweDIwMjI6IDB4MGFlNiwgLy8gWEtfZW5maWxsZWRjaXJjYnVsbGV0XG4gICAgMHgyMDI1OiAweDBhYWYsIC8vIFhLX2RvdWJiYXNlbGluZWRvdFxuICAgIDB4MjAyNjogMHgwYWFlLCAvLyBYS19lbGxpcHNpc1xuICAgIDB4MjAzMDogMHgwYWQ1LCAvLyBYS19wZXJtaWxsZVxuICAgIDB4MjAzMjogMHgwYWQ2LCAvLyBYS19taW51dGVzXG4gICAgMHgyMDMzOiAweDBhZDcsIC8vIFhLX3NlY29uZHNcbiAgICAweDIwMzg6IDB4MGFmYywgLy8gWEtfY2FyZXRcbiAgICAweDIwM2U6IDB4MDQ3ZSwgLy8gWEtfb3ZlcmxpbmVcbiAgICAweDIwYTk6IDB4MGVmZiwgLy8gWEtfS29yZWFuX1dvblxuICAgIDB4MjBhYzogMHgyMGFjLCAvLyBYS19FdXJvU2lnblxuICAgIDB4MjEwNTogMHgwYWI4LCAvLyBYS19jYXJlb2ZcbiAgICAweDIxMTY6IDB4MDZiMCwgLy8gWEtfbnVtZXJvc2lnblxuICAgIDB4MjExNzogMHgwYWZiLCAvLyBYS19waG9ub2dyYXBoY29weXJpZ2h0XG4gICAgMHgyMTFlOiAweDBhZDQsIC8vIFhLX3ByZXNjcmlwdGlvblxuICAgIDB4MjEyMjogMHgwYWM5LCAvLyBYS190cmFkZW1hcmtcbiAgICAweDIxNTM6IDB4MGFiMCwgLy8gWEtfb25ldGhpcmRcbiAgICAweDIxNTQ6IDB4MGFiMSwgLy8gWEtfdHdvdGhpcmRzXG4gICAgMHgyMTU1OiAweDBhYjIsIC8vIFhLX29uZWZpZnRoXG4gICAgMHgyMTU2OiAweDBhYjMsIC8vIFhLX3R3b2ZpZnRoc1xuICAgIDB4MjE1NzogMHgwYWI0LCAvLyBYS190aHJlZWZpZnRoc1xuICAgIDB4MjE1ODogMHgwYWI1LCAvLyBYS19mb3VyZmlmdGhzXG4gICAgMHgyMTU5OiAweDBhYjYsIC8vIFhLX29uZXNpeHRoXG4gICAgMHgyMTVhOiAweDBhYjcsIC8vIFhLX2ZpdmVzaXh0aHNcbiAgICAweDIxNWI6IDB4MGFjMywgLy8gWEtfb25lZWlnaHRoXG4gICAgMHgyMTVjOiAweDBhYzQsIC8vIFhLX3RocmVlZWlnaHRoc1xuICAgIDB4MjE1ZDogMHgwYWM1LCAvLyBYS19maXZlZWlnaHRoc1xuICAgIDB4MjE1ZTogMHgwYWM2LCAvLyBYS19zZXZlbmVpZ2h0aHNcbiAgICAweDIxOTA6IDB4MDhmYiwgLy8gWEtfbGVmdGFycm93XG4gICAgMHgyMTkxOiAweDA4ZmMsIC8vIFhLX3VwYXJyb3dcbiAgICAweDIxOTI6IDB4MDhmZCwgLy8gWEtfcmlnaHRhcnJvd1xuICAgIDB4MjE5MzogMHgwOGZlLCAvLyBYS19kb3duYXJyb3dcbiAgICAweDIxZDI6IDB4MDhjZSwgLy8gWEtfaW1wbGllc1xuICAgIDB4MjFkNDogMHgwOGNkLCAvLyBYS19pZm9ubHlpZlxuICAgIDB4MjIwMjogMHgwOGVmLCAvLyBYS19wYXJ0aWFsZGVyaXZhdGl2ZVxuICAgIDB4MjIwNzogMHgwOGM1LCAvLyBYS19uYWJsYVxuICAgIDB4MjIxODogMHgwYmNhLCAvLyBYS19qb3RcbiAgICAweDIyMWE6IDB4MDhkNiwgLy8gWEtfcmFkaWNhbFxuICAgIDB4MjIxZDogMHgwOGMxLCAvLyBYS192YXJpYXRpb25cbiAgICAweDIyMWU6IDB4MDhjMiwgLy8gWEtfaW5maW5pdHlcbiAgICAweDIyMjc6IDB4MDhkZSwgLy8gWEtfbG9naWNhbGFuZFxuICAgIDB4MjIyODogMHgwOGRmLCAvLyBYS19sb2dpY2Fsb3JcbiAgICAweDIyMjk6IDB4MDhkYywgLy8gWEtfaW50ZXJzZWN0aW9uXG4gICAgMHgyMjJhOiAweDA4ZGQsIC8vIFhLX3VuaW9uXG4gICAgMHgyMjJiOiAweDA4YmYsIC8vIFhLX2ludGVncmFsXG4gICAgMHgyMjM0OiAweDA4YzAsIC8vIFhLX3RoZXJlZm9yZVxuICAgIDB4MjIzYzogMHgwOGM4LCAvLyBYS19hcHByb3hpbWF0ZVxuICAgIDB4MjI0MzogMHgwOGM5LCAvLyBYS19zaW1pbGFyZXF1YWxcbiAgICAweDIyNDU6IDB4MTAwMjI0OCwgLy8gWEtfYXBwcm94ZXFcbiAgICAweDIyNjA6IDB4MDhiZCwgLy8gWEtfbm90ZXF1YWxcbiAgICAweDIyNjE6IDB4MDhjZiwgLy8gWEtfaWRlbnRpY2FsXG4gICAgMHgyMjY0OiAweDA4YmMsIC8vIFhLX2xlc3N0aGFuZXF1YWxcbiAgICAweDIyNjU6IDB4MDhiZSwgLy8gWEtfZ3JlYXRlcnRoYW5lcXVhbFxuICAgIDB4MjI4MjogMHgwOGRhLCAvLyBYS19pbmNsdWRlZGluXG4gICAgMHgyMjgzOiAweDA4ZGIsIC8vIFhLX2luY2x1ZGVzXG4gICAgMHgyMmEyOiAweDBiZmMsIC8vIFhLX3JpZ2h0dGFja1xuICAgIDB4MjJhMzogMHgwYmRjLCAvLyBYS19sZWZ0dGFja1xuICAgIDB4MjJhNDogMHgwYmMyLCAvLyBYS19kb3dudGFja1xuICAgIDB4MjJhNTogMHgwYmNlLCAvLyBYS191cHRhY2tcbiAgICAweDIzMDg6IDB4MGJkMywgLy8gWEtfdXBzdGlsZVxuICAgIDB4MjMwYTogMHgwYmM0LCAvLyBYS19kb3duc3RpbGVcbiAgICAweDIzMTU6IDB4MGFmYSwgLy8gWEtfdGVsZXBob25lcmVjb3JkZXJcbiAgICAweDIzMjA6IDB4MDhhNCwgLy8gWEtfdG9waW50ZWdyYWxcbiAgICAweDIzMjE6IDB4MDhhNSwgLy8gWEtfYm90aW50ZWdyYWxcbiAgICAweDIzOTU6IDB4MGJjYywgLy8gWEtfcXVhZFxuICAgIDB4MjM5YjogMHgwOGFiLCAvLyBYS190b3BsZWZ0cGFyZW5zXG4gICAgMHgyMzlkOiAweDA4YWMsIC8vIFhLX2JvdGxlZnRwYXJlbnNcbiAgICAweDIzOWU6IDB4MDhhZCwgLy8gWEtfdG9wcmlnaHRwYXJlbnNcbiAgICAweDIzYTA6IDB4MDhhZSwgLy8gWEtfYm90cmlnaHRwYXJlbnNcbiAgICAweDIzYTE6IDB4MDhhNywgLy8gWEtfdG9wbGVmdHNxYnJhY2tldFxuICAgIDB4MjNhMzogMHgwOGE4LCAvLyBYS19ib3RsZWZ0c3FicmFja2V0XG4gICAgMHgyM2E0OiAweDA4YTksIC8vIFhLX3RvcHJpZ2h0c3FicmFja2V0XG4gICAgMHgyM2E2OiAweDA4YWEsIC8vIFhLX2JvdHJpZ2h0c3FicmFja2V0XG4gICAgMHgyM2E4OiAweDA4YWYsIC8vIFhLX2xlZnRtaWRkbGVjdXJseWJyYWNlXG4gICAgMHgyM2FjOiAweDA4YjAsIC8vIFhLX3JpZ2h0bWlkZGxlY3VybHlicmFjZVxuICAgIDB4MjNiNzogMHgwOGExLCAvLyBYS19sZWZ0cmFkaWNhbFxuICAgIDB4MjNiYTogMHgwOWVmLCAvLyBYS19ob3JpemxpbmVzY2FuMVxuICAgIDB4MjNiYjogMHgwOWYwLCAvLyBYS19ob3JpemxpbmVzY2FuM1xuICAgIDB4MjNiYzogMHgwOWYyLCAvLyBYS19ob3JpemxpbmVzY2FuN1xuICAgIDB4MjNiZDogMHgwOWYzLCAvLyBYS19ob3JpemxpbmVzY2FuOVxuICAgIDB4MjQwOTogMHgwOWUyLCAvLyBYS19odFxuICAgIDB4MjQwYTogMHgwOWU1LCAvLyBYS19sZlxuICAgIDB4MjQwYjogMHgwOWU5LCAvLyBYS192dFxuICAgIDB4MjQwYzogMHgwOWUzLCAvLyBYS19mZlxuICAgIDB4MjQwZDogMHgwOWU0LCAvLyBYS19jclxuICAgIDB4MjQyMzogMHgwYWFjLCAvLyBYS19zaWduaWZibGFua1xuICAgIDB4MjQyNDogMHgwOWU4LCAvLyBYS19ubFxuICAgIDB4MjUwMDogMHgwOGEzLCAvLyBYS19ob3JpemNvbm5lY3RvclxuICAgIDB4MjUwMjogMHgwOGE2LCAvLyBYS192ZXJ0Y29ubmVjdG9yXG4gICAgMHgyNTBjOiAweDA4YTIsIC8vIFhLX3RvcGxlZnRyYWRpY2FsXG4gICAgMHgyNTEwOiAweDA5ZWIsIC8vIFhLX3VwcmlnaHRjb3JuZXJcbiAgICAweDI1MTQ6IDB4MDllZCwgLy8gWEtfbG93bGVmdGNvcm5lclxuICAgIDB4MjUxODogMHgwOWVhLCAvLyBYS19sb3dyaWdodGNvcm5lclxuICAgIDB4MjUxYzogMHgwOWY0LCAvLyBYS19sZWZ0dFxuICAgIDB4MjUyNDogMHgwOWY1LCAvLyBYS19yaWdodHRcbiAgICAweDI1MmM6IDB4MDlmNywgLy8gWEtfdG9wdFxuICAgIDB4MjUzNDogMHgwOWY2LCAvLyBYS19ib3R0XG4gICAgMHgyNTNjOiAweDA5ZWUsIC8vIFhLX2Nyb3NzaW5nbGluZXNcbiAgICAweDI1OTI6IDB4MDllMSwgLy8gWEtfY2hlY2tlcmJvYXJkXG4gICAgMHgyNWFhOiAweDBhZTcsIC8vIFhLX2VuZmlsbGVkc3FidWxsZXRcbiAgICAweDI1YWI6IDB4MGFlMSwgLy8gWEtfZW5vcGVuc3F1YXJlYnVsbGV0XG4gICAgMHgyNWFjOiAweDBhZGIsIC8vIFhLX2ZpbGxlZHJlY3RidWxsZXRcbiAgICAweDI1YWQ6IDB4MGFlMiwgLy8gWEtfb3BlbnJlY3RidWxsZXRcbiAgICAweDI1YWU6IDB4MGFkZiwgLy8gWEtfZW1maWxsZWRyZWN0XG4gICAgMHgyNWFmOiAweDBhY2YsIC8vIFhLX2Vtb3BlbnJlY3RhbmdsZVxuICAgIDB4MjViMjogMHgwYWU4LCAvLyBYS19maWxsZWR0cmlidWxsZXR1cFxuICAgIDB4MjViMzogMHgwYWUzLCAvLyBYS19vcGVudHJpYnVsbGV0dXBcbiAgICAweDI1YjY6IDB4MGFkZCwgLy8gWEtfZmlsbGVkcmlnaHR0cmlidWxsZXRcbiAgICAweDI1Yjc6IDB4MGFjZCwgLy8gWEtfcmlnaHRvcGVudHJpYW5nbGVcbiAgICAweDI1YmM6IDB4MGFlOSwgLy8gWEtfZmlsbGVkdHJpYnVsbGV0ZG93blxuICAgIDB4MjViZDogMHgwYWU0LCAvLyBYS19vcGVudHJpYnVsbGV0ZG93blxuICAgIDB4MjVjMDogMHgwYWRjLCAvLyBYS19maWxsZWRsZWZ0dHJpYnVsbGV0XG4gICAgMHgyNWMxOiAweDBhY2MsIC8vIFhLX2xlZnRvcGVudHJpYW5nbGVcbiAgICAweDI1YzY6IDB4MDllMCwgLy8gWEtfc29saWRkaWFtb25kXG4gICAgMHgyNWNiOiAweDBhY2UsIC8vIFhLX2Vtb3BlbmNpcmNsZVxuICAgIDB4MjVjZjogMHgwYWRlLCAvLyBYS19lbWZpbGxlZGNpcmNsZVxuICAgIDB4MjVlNjogMHgwYWUwLCAvLyBYS19lbm9wZW5jaXJjYnVsbGV0XG4gICAgMHgyNjA2OiAweDBhZTUsIC8vIFhLX29wZW5zdGFyXG4gICAgMHgyNjBlOiAweDBhZjksIC8vIFhLX3RlbGVwaG9uZVxuICAgIDB4MjYxMzogMHgwYWNhLCAvLyBYS19zaWduYXR1cmVtYXJrXG4gICAgMHgyNjFjOiAweDBhZWEsIC8vIFhLX2xlZnRwb2ludGVyXG4gICAgMHgyNjFlOiAweDBhZWIsIC8vIFhLX3JpZ2h0cG9pbnRlclxuICAgIDB4MjY0MDogMHgwYWY4LCAvLyBYS19mZW1hbGVzeW1ib2xcbiAgICAweDI2NDI6IDB4MGFmNywgLy8gWEtfbWFsZXN5bWJvbFxuICAgIDB4MjY2MzogMHgwYWVjLCAvLyBYS19jbHViXG4gICAgMHgyNjY1OiAweDBhZWUsIC8vIFhLX2hlYXJ0XG4gICAgMHgyNjY2OiAweDBhZWQsIC8vIFhLX2RpYW1vbmRcbiAgICAweDI2NmQ6IDB4MGFmNiwgLy8gWEtfbXVzaWNhbGZsYXRcbiAgICAweDI2NmY6IDB4MGFmNSwgLy8gWEtfbXVzaWNhbHNoYXJwXG4gICAgMHgyNzEzOiAweDBhZjMsIC8vIFhLX2NoZWNrbWFya1xuICAgIDB4MjcxNzogMHgwYWY0LCAvLyBYS19iYWxsb3Rjcm9zc1xuICAgIDB4MjcxZDogMHgwYWQ5LCAvLyBYS19sYXRpbmNyb3NzXG4gICAgMHgyNzIwOiAweDBhZjAsIC8vIFhLX21hbHRlc2Vjcm9zc1xuICAgIDB4MjdlODogMHgwYWJjLCAvLyBYS19sZWZ0YW5nbGVicmFja2V0XG4gICAgMHgyN2U5OiAweDBhYmUsIC8vIFhLX3JpZ2h0YW5nbGVicmFja2V0XG4gICAgMHgzMDAxOiAweDA0YTQsIC8vIFhLX2thbmFfY29tbWFcbiAgICAweDMwMDI6IDB4MDRhMSwgLy8gWEtfa2FuYV9mdWxsc3RvcFxuICAgIDB4MzAwYzogMHgwNGEyLCAvLyBYS19rYW5hX29wZW5pbmdicmFja2V0XG4gICAgMHgzMDBkOiAweDA0YTMsIC8vIFhLX2thbmFfY2xvc2luZ2JyYWNrZXRcbiAgICAweDMwOWI6IDB4MDRkZSwgLy8gWEtfdm9pY2Vkc291bmRcbiAgICAweDMwOWM6IDB4MDRkZiwgLy8gWEtfc2VtaXZvaWNlZHNvdW5kXG4gICAgMHgzMGExOiAweDA0YTcsIC8vIFhLX2thbmFfYVxuICAgIDB4MzBhMjogMHgwNGIxLCAvLyBYS19rYW5hX0FcbiAgICAweDMwYTM6IDB4MDRhOCwgLy8gWEtfa2FuYV9pXG4gICAgMHgzMGE0OiAweDA0YjIsIC8vIFhLX2thbmFfSVxuICAgIDB4MzBhNTogMHgwNGE5LCAvLyBYS19rYW5hX3VcbiAgICAweDMwYTY6IDB4MDRiMywgLy8gWEtfa2FuYV9VXG4gICAgMHgzMGE3OiAweDA0YWEsIC8vIFhLX2thbmFfZVxuICAgIDB4MzBhODogMHgwNGI0LCAvLyBYS19rYW5hX0VcbiAgICAweDMwYTk6IDB4MDRhYiwgLy8gWEtfa2FuYV9vXG4gICAgMHgzMGFhOiAweDA0YjUsIC8vIFhLX2thbmFfT1xuICAgIDB4MzBhYjogMHgwNGI2LCAvLyBYS19rYW5hX0tBXG4gICAgMHgzMGFkOiAweDA0YjcsIC8vIFhLX2thbmFfS0lcbiAgICAweDMwYWY6IDB4MDRiOCwgLy8gWEtfa2FuYV9LVVxuICAgIDB4MzBiMTogMHgwNGI5LCAvLyBYS19rYW5hX0tFXG4gICAgMHgzMGIzOiAweDA0YmEsIC8vIFhLX2thbmFfS09cbiAgICAweDMwYjU6IDB4MDRiYiwgLy8gWEtfa2FuYV9TQVxuICAgIDB4MzBiNzogMHgwNGJjLCAvLyBYS19rYW5hX1NISVxuICAgIDB4MzBiOTogMHgwNGJkLCAvLyBYS19rYW5hX1NVXG4gICAgMHgzMGJiOiAweDA0YmUsIC8vIFhLX2thbmFfU0VcbiAgICAweDMwYmQ6IDB4MDRiZiwgLy8gWEtfa2FuYV9TT1xuICAgIDB4MzBiZjogMHgwNGMwLCAvLyBYS19rYW5hX1RBXG4gICAgMHgzMGMxOiAweDA0YzEsIC8vIFhLX2thbmFfQ0hJXG4gICAgMHgzMGMzOiAweDA0YWYsIC8vIFhLX2thbmFfdHN1XG4gICAgMHgzMGM0OiAweDA0YzIsIC8vIFhLX2thbmFfVFNVXG4gICAgMHgzMGM2OiAweDA0YzMsIC8vIFhLX2thbmFfVEVcbiAgICAweDMwYzg6IDB4MDRjNCwgLy8gWEtfa2FuYV9UT1xuICAgIDB4MzBjYTogMHgwNGM1LCAvLyBYS19rYW5hX05BXG4gICAgMHgzMGNiOiAweDA0YzYsIC8vIFhLX2thbmFfTklcbiAgICAweDMwY2M6IDB4MDRjNywgLy8gWEtfa2FuYV9OVVxuICAgIDB4MzBjZDogMHgwNGM4LCAvLyBYS19rYW5hX05FXG4gICAgMHgzMGNlOiAweDA0YzksIC8vIFhLX2thbmFfTk9cbiAgICAweDMwY2Y6IDB4MDRjYSwgLy8gWEtfa2FuYV9IQVxuICAgIDB4MzBkMjogMHgwNGNiLCAvLyBYS19rYW5hX0hJXG4gICAgMHgzMGQ1OiAweDA0Y2MsIC8vIFhLX2thbmFfRlVcbiAgICAweDMwZDg6IDB4MDRjZCwgLy8gWEtfa2FuYV9IRVxuICAgIDB4MzBkYjogMHgwNGNlLCAvLyBYS19rYW5hX0hPXG4gICAgMHgzMGRlOiAweDA0Y2YsIC8vIFhLX2thbmFfTUFcbiAgICAweDMwZGY6IDB4MDRkMCwgLy8gWEtfa2FuYV9NSVxuICAgIDB4MzBlMDogMHgwNGQxLCAvLyBYS19rYW5hX01VXG4gICAgMHgzMGUxOiAweDA0ZDIsIC8vIFhLX2thbmFfTUVcbiAgICAweDMwZTI6IDB4MDRkMywgLy8gWEtfa2FuYV9NT1xuICAgIDB4MzBlMzogMHgwNGFjLCAvLyBYS19rYW5hX3lhXG4gICAgMHgzMGU0OiAweDA0ZDQsIC8vIFhLX2thbmFfWUFcbiAgICAweDMwZTU6IDB4MDRhZCwgLy8gWEtfa2FuYV95dVxuICAgIDB4MzBlNjogMHgwNGQ1LCAvLyBYS19rYW5hX1lVXG4gICAgMHgzMGU3OiAweDA0YWUsIC8vIFhLX2thbmFfeW9cbiAgICAweDMwZTg6IDB4MDRkNiwgLy8gWEtfa2FuYV9ZT1xuICAgIDB4MzBlOTogMHgwNGQ3LCAvLyBYS19rYW5hX1JBXG4gICAgMHgzMGVhOiAweDA0ZDgsIC8vIFhLX2thbmFfUklcbiAgICAweDMwZWI6IDB4MDRkOSwgLy8gWEtfa2FuYV9SVVxuICAgIDB4MzBlYzogMHgwNGRhLCAvLyBYS19rYW5hX1JFXG4gICAgMHgzMGVkOiAweDA0ZGIsIC8vIFhLX2thbmFfUk9cbiAgICAweDMwZWY6IDB4MDRkYywgLy8gWEtfa2FuYV9XQVxuICAgIDB4MzBmMjogMHgwNGE2LCAvLyBYS19rYW5hX1dPXG4gICAgMHgzMGYzOiAweDA0ZGQsIC8vIFhLX2thbmFfTlxuICAgIDB4MzBmYjogMHgwNGE1LCAvLyBYS19rYW5hX2Nvbmp1bmN0aXZlXG4gICAgMHgzMGZjOiAweDA0YjAsIC8vIFhLX3Byb2xvbmdlZHNvdW5kXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbG9va3VwIDogZnVuY3Rpb24odSkge1xuICAgICAgICAvLyBMYXRpbi0xIGlzIG9uZS10by1vbmUgbWFwcGluZ1xuICAgICAgICBpZiAoKHUgPj0gMHgyMCkgJiYgKHUgPD0gMHhmZikpIHtcbiAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9va3VwIHRhYmxlIChmYWlybHkgcmFuZG9tKVxuICAgICAgICB2YXIga2V5c3ltID0gY29kZXBvaW50c1t1XTtcbiAgICAgICAgaWYgKGtleXN5bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5c3ltO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VuZXJhbCBtYXBwaW5nIGFzIGZpbmFsIGZhbGxiYWNrXG4gICAgICAgIHJldHVybiAweDAxMDAwMDAwIHwgdTtcbiAgICB9LFxufTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTMgU2FtdWVsIE1hbm5laGVkIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi4vdXRpbC9sb2dnaW5nLmpzJztcbmltcG9ydCB7IGlzVG91Y2hEZXZpY2UgfSBmcm9tICcuLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHsgc2V0Q2FwdHVyZSwgc3RvcEV2ZW50LCBnZXRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50cy5qcyc7XG5cbnZhciBXSEVFTF9TVEVQID0gMTA7IC8vIERlbHRhIHRocmVzaG9sZCBmb3IgYSBtb3VzZSB3aGVlbCBzdGVwXG52YXIgV0hFRUxfU1RFUF9USU1FT1VUID0gNTA7IC8vIG1zXG52YXIgV0hFRUxfTElORV9IRUlHSFQgPSAxOTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW91c2UodGFyZ2V0KSB7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0IHx8IGRvY3VtZW50O1xuXG4gICAgdGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7XG4gICAgdGhpcy5fbGFzdFRvdWNoUG9zID0gbnVsbDtcblxuICAgIHRoaXMuX3BvcyA9IG51bGw7XG4gICAgdGhpcy5fd2hlZWxTdGVwWFRpbWVyID0gbnVsbDtcbiAgICB0aGlzLl93aGVlbFN0ZXBZVGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVggPSAwO1xuICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPSAwO1xuXG4gICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgJ21vdXNlZG93bic6IHRoaXMuX2hhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpLFxuICAgICAgICAnbW91c2V1cCc6IHRoaXMuX2hhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSxcbiAgICAgICAgJ21vdXNlbW92ZSc6IHRoaXMuX2hhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICAnbW91c2V3aGVlbCc6IHRoaXMuX2hhbmRsZU1vdXNlV2hlZWwuYmluZCh0aGlzKSxcbiAgICAgICAgJ21vdXNlZGlzYWJsZSc6IHRoaXMuX2hhbmRsZU1vdXNlRGlzYWJsZS5iaW5kKHRoaXMpXG4gICAgfTtcbn07XG5cbk1vdXNlLnByb3RvdHlwZSA9IHtcbiAgICAvLyA9PT09PSBQUk9QRVJUSUVTID09PT09XG5cbiAgICB0b3VjaEJ1dHRvbjogMSwgICAgICAgICAgICAgICAgIC8vIEJ1dHRvbiBtYXNrICgxLCAyLCA0KSBmb3IgdG91Y2ggZGV2aWNlcyAoMCBtZWFucyBpZ25vcmUgY2xpY2tzKVxuXG4gICAgLy8gPT09PT0gRVZFTlQgSEFORExFUlMgPT09PT1cblxuICAgIG9ubW91c2VidXR0b246IGZ1bmN0aW9uICgpIHt9LCAgLy8gSGFuZGxlciBmb3IgbW91c2UgYnV0dG9uIGNsaWNrL3JlbGVhc2VcbiAgICBvbm1vdXNlbW92ZTogZnVuY3Rpb24gKCkge30sICAgIC8vIEhhbmRsZXIgZm9yIG1vdXNlIG1vdmVtZW50XG5cbiAgICAvLyA9PT09PSBQUklWQVRFIE1FVEhPRFMgPT09PT1cblxuICAgIF9yZXNldERvdWJsZUNsaWNrVGltZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZUJ1dHRvbjogZnVuY3Rpb24gKGUsIGRvd24pIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlTW91c2VQb3NpdGlvbihlKTtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuX3BvcztcblxuICAgICAgICB2YXIgYm1hc2s7XG4gICAgICAgIGlmIChlLnRvdWNoZXMgfHwgZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgLy8gVG91Y2ggZGV2aWNlXG5cbiAgICAgICAgICAgIC8vIFdoZW4gdHdvIHRvdWNoZXMgb2NjdXIgd2l0aGluIDUwMCBtcyBvZiBlYWNoIG90aGVyIGFuZCBhcmVcbiAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaCB0b2dldGhlciBhIGRvdWJsZSBjbGljayBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAgICBpZiAoZG93biA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RvdWJsZUNsaWNrVGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFRvdWNoUG9zID0gcG9zO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kb3VibGVDbGlja1RpbWVyKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gdG91Y2hlcyBpcyBzbWFsbCBlbm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXR0ZXIgdG91Y2ggdG8gdGhlIHBvc2l0aW9uIG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdC5cblxuICAgICAgICAgICAgICAgICAgICB2YXIgeHMgPSB0aGlzLl9sYXN0VG91Y2hQb3MueCAtIHBvcy54O1xuICAgICAgICAgICAgICAgICAgICB2YXIgeXMgPSB0aGlzLl9sYXN0VG91Y2hQb3MueSAtIHBvcy55O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguc3FydCgoeHMgKiB4cykgKyAoeXMgKiB5cykpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBnb2FsIGlzIHRvIHRyaWdnZXIgb24gYSBjZXJ0YWluIHBoeXNpY2FsIHdpZHRoLCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV2aWNlUGl4ZWxSYXRpbyBicmluZ3MgdXMgYSBiaXQgY2xvc2VyIGJ1dCBpcyBub3Qgb3B0aW1hbC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IDIwICogKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gdGhpcy5fbGFzdFRvdWNoUG9zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2RvdWJsZUNsaWNrVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX3Jlc2V0RG91YmxlQ2xpY2tUaW1lci5iaW5kKHRoaXMpLCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm1hc2sgPSB0aGlzLnRvdWNoQnV0dG9uO1xuICAgICAgICAgICAgLy8gSWYgYm1hc2sgaXMgc2V0XG4gICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCkge1xuICAgICAgICAgICAgLyogZXZlcnl0aGluZyBleGNlcHQgSUUgKi9cbiAgICAgICAgICAgIGJtYXNrID0gMSA8PCBlLmJ1dHRvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIElFIGluY2x1ZGluZyA5ICovXG4gICAgICAgICAgICBibWFzayA9IChlLmJ1dHRvbiAmIDB4MSkgKyAgICAgIC8vIExlZnRcbiAgICAgICAgICAgICAgICAgICAgKGUuYnV0dG9uICYgMHgyKSAqIDIgKyAgLy8gUmlnaHRcbiAgICAgICAgICAgICAgICAgICAgKGUuYnV0dG9uICYgMHg0KSAvIDI7ICAgLy8gTWlkZGxlXG4gICAgICAgIH1cblxuICAgICAgICBMb2cuRGVidWcoXCJvbm1vdXNlYnV0dG9uIFwiICsgKGRvd24gPyBcImRvd25cIiA6IFwidXBcIikgK1xuICAgICAgICAgICAgICAgICAgXCIsIHg6IFwiICsgcG9zLnggKyBcIiwgeTogXCIgKyBwb3MueSArIFwiLCBibWFzazogXCIgKyBibWFzayk7XG4gICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbihwb3MueCwgcG9zLnksIGRvd24sIGJtYXNrKTtcblxuICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZURvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIFRvdWNoIGV2ZW50cyBoYXZlIGltcGxpY2l0IGNhcHR1cmVcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZWRvd25cIikge1xuICAgICAgICAgICAgc2V0Q2FwdHVyZSh0aGlzLl90YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGFuZGxlTW91c2VCdXR0b24oZSwgMSk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVNb3VzZVVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUJ1dHRvbihlLCAwKTtcbiAgICB9LFxuXG4gICAgLy8gTW91c2Ugd2hlZWwgZXZlbnRzIGFyZSBzZW50IGluIHN0ZXBzIG92ZXIgVk5DLiBUaGlzIG1lYW5zIHRoYXQgdGhlIFZOQ1xuICAgIC8vIHByb3RvY29sIGNhbid0IGhhbmRsZSBhIHdoZWVsIGV2ZW50IHdpdGggc3BlY2lmaWMgZGlzdGFuY2Ugb3Igc3BlZWQuXG4gICAgLy8gVGhlcmVmb3IsIGlmIHdlIGdldCBhIGxvdCBvZiBzbWFsbCBtb3VzZSB3aGVlbCBldmVudHMgd2UgY29tYmluZSB0aGVtLlxuICAgIF9nZW5lcmF0ZVdoZWVsU3RlcFg6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAodGhpcy5fYWNjdW11bGF0ZWRXaGVlbERlbHRhWCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDEsIDEgPDwgNSk7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAwLCAxIDw8IDUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAxLCAxIDw8IDYpO1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMCwgMSA8PCA2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVggPSAwO1xuICAgIH0sXG5cbiAgICBfZ2VuZXJhdGVXaGVlbFN0ZXBZOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjY3VtdWxhdGVkV2hlZWxEZWx0YVkgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ubW91c2VidXR0b24odGhpcy5fcG9zLngsIHRoaXMuX3Bvcy55LCAxLCAxIDw8IDMpO1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMCwgMSA8PCAzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFZID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vbm1vdXNlYnV0dG9uKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSwgMSwgMSA8PCA0KTtcbiAgICAgICAgICAgIHRoaXMub25tb3VzZWJ1dHRvbih0aGlzLl9wb3MueCwgdGhpcy5fcG9zLnksIDAsIDEgPDwgNCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFZID0gMDtcbiAgICB9LFxuXG4gICAgX3Jlc2V0V2hlZWxTdGVwVGltZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fd2hlZWxTdGVwWFRpbWVyKTtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl93aGVlbFN0ZXBZVGltZXIpO1xuICAgICAgICB0aGlzLl93aGVlbFN0ZXBYVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl93aGVlbFN0ZXBZVGltZXIgPSBudWxsO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VXaGVlbDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRXaGVlbFN0ZXBUaW1lcnMoKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVNb3VzZVBvc2l0aW9uKGUpO1xuXG4gICAgICAgIHZhciBkWCA9IGUuZGVsdGFYO1xuICAgICAgICB2YXIgZFkgPSBlLmRlbHRhWTtcblxuICAgICAgICAvLyBQaXhlbCB1bml0cyB1bmxlc3MgaXQncyBub24temVyby5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGlmIGRlbHRhbW9kZSBpcyBsaW5lIG9yIHBhZ2Ugd29uJ3QgbWF0dGVyIHNpbmNlIHdlIGFyZW4ndFxuICAgICAgICAvLyBzZW5kaW5nIHRoZSBtb3VzZSB3aGVlbCBkZWx0YSB0byB0aGUgc2VydmVyIGFueXdheS5cbiAgICAgICAgLy8gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBwaXhlbCBhbmQgbGluZSBjYW4gYmUgaW1wb3J0YW50IGhvd2V2ZXIgc2luY2VcbiAgICAgICAgLy8gd2UgaGF2ZSBhIHRocmVzaG9sZCB0aGF0IGNhbiBiZSBzbWFsbGVyIHRoYW4gdGhlIGxpbmUgaGVpZ2h0LlxuICAgICAgICBpZiAoZS5kZWx0YU1vZGUgIT09IDApIHtcbiAgICAgICAgICAgIGRYICo9IFdIRUVMX0xJTkVfSEVJR0hUO1xuICAgICAgICAgICAgZFkgKj0gV0hFRUxfTElORV9IRUlHSFQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYICs9IGRYO1xuICAgICAgICB0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFZICs9IGRZO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIGEgbW91c2Ugd2hlZWwgc3RlcCBldmVudCB3aGVuIHRoZSBhY2N1bXVsYXRlZCBkZWx0YVxuICAgICAgICAvLyBmb3Igb25lIG9mIHRoZSBheGVzIGlzIGxhcmdlIGVub3VnaC5cbiAgICAgICAgLy8gU21hbGwgZGVsdGEgZXZlbnRzIHRoYXQgZG8gbm90IHBhc3MgdGhlIHRocmVzaG9sZCBnZXQgc2VudFxuICAgICAgICAvLyBhZnRlciBhIHRpbWVvdXQuXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFYKSA+IFdIRUVMX1NURVApIHtcbiAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlV2hlZWxTdGVwWCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fd2hlZWxTdGVwWFRpbWVyID1cbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9nZW5lcmF0ZVdoZWVsU3RlcFguYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXSEVFTF9TVEVQX1RJTUVPVVQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLl9hY2N1bXVsYXRlZFdoZWVsRGVsdGFZKSA+IFdIRUVMX1NURVApIHtcbiAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlV2hlZWxTdGVwWSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fd2hlZWxTdGVwWVRpbWVyID1cbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9nZW5lcmF0ZVdoZWVsU3RlcFkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXSEVFTF9TVEVQX1RJTUVPVVQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RvcEV2ZW50KGUpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVNb3VzZVBvc2l0aW9uKGUpO1xuICAgICAgICB0aGlzLm9ubW91c2Vtb3ZlKHRoaXMuX3Bvcy54LCB0aGlzLl9wb3MueSk7XG4gICAgICAgIHN0b3BFdmVudChlKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlRGlzYWJsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLypcbiAgICAgICAgICogU3RvcCBwcm9wYWdhdGlvbiBpZiBpbnNpZGUgY2FudmFzIGFyZWFcbiAgICAgICAgICogTm90ZTogVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgdGhlICdjbGljaycgZXZlbnQgYXMgaXQgZmFpbHNcbiAgICAgICAgICogICAgICAgdG8gZmlyZSBwcm9wZXJseSBmb3IgdGhlIHRhcmdldCBlbGVtZW50IHNvIHdlIGhhdmVcbiAgICAgICAgICogICAgICAgdG8gbGlzdGVuIG9uIHRoZSBkb2N1bWVudCBlbGVtZW50IGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZS50YXJnZXQgPT0gdGhpcy5fdGFyZ2V0KSB7XG4gICAgICAgICAgICBzdG9wRXZlbnQoZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVXBkYXRlIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRhcmdldFxuICAgIF91cGRhdGVNb3VzZVBvc2l0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUgPSBnZXRQb2ludGVyRXZlbnQoZSk7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLl90YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB4LCB5O1xuICAgICAgICAvLyBDbGlwIHRvIHRhcmdldCBib3VuZHNcbiAgICAgICAgaWYgKGUuY2xpZW50WCA8IGJvdW5kcy5sZWZ0KSB7XG4gICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChlLmNsaWVudFggPj0gYm91bmRzLnJpZ2h0KSB7XG4gICAgICAgICAgICB4ID0gYm91bmRzLndpZHRoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBlLmNsaWVudFggLSBib3VuZHMubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5jbGllbnRZIDwgYm91bmRzLnRvcCkge1xuICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5jbGllbnRZID49IGJvdW5kcy5ib3R0b20pIHtcbiAgICAgICAgICAgIHkgPSBib3VuZHMuaGVpZ2h0IC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkgPSBlLmNsaWVudFkgLSBib3VuZHMudG9wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BvcyA9IHt4OngsIHk6eX07XG4gICAgfSxcblxuICAgIC8vID09PT09IFBVQkxJQyBNRVRIT0RTID09PT09XG5cbiAgICBncmFiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5fdGFyZ2V0O1xuXG4gICAgICAgIGlmIChpc1RvdWNoRGV2aWNlKSB7XG4gICAgICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZG93bik7XG4gICAgICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXVwKTtcbiAgICAgICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZW1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRvd24pO1xuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNldXApO1xuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vtb3ZlKTtcbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V3aGVlbCk7XG5cbiAgICAgICAgLyogUHJldmVudCBtaWRkbGUtY2xpY2sgcGFzdGluZyAoc2VlIGFib3ZlIGZvciB3aHkgd2UgYmluZCB0byBkb2N1bWVudCkgKi9cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZGlzYWJsZSk7XG5cbiAgICAgICAgLyogcHJldmVudERlZmF1bHQoKSBvbiBtb3VzZWRvd24gZG9lc24ndCBzdG9wIHRoaXMgZXZlbnQgZm9yIHNvbWVcbiAgICAgICAgICAgcmVhc29uIHNvIHdlIGhhdmUgdG8gZXhwbGljaXRseSBibG9jayBpdCAqL1xuICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuICAgIH0sXG5cbiAgICB1bmdyYWI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLl90YXJnZXQ7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRXaGVlbFN0ZXBUaW1lcnMoKTtcblxuICAgICAgICBpZiAoaXNUb3VjaERldmljZSkge1xuICAgICAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRvd24pO1xuICAgICAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2V1cCk7XG4gICAgICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2V2ZW50SGFuZGxlcnMubW91c2Vkb3duKTtcbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZXVwKTtcbiAgICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlbW92ZSk7XG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNld2hlZWwpO1xuXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZXZlbnRIYW5kbGVycy5tb3VzZWRpc2FibGUpO1xuXG4gICAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLm1vdXNlZGlzYWJsZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCBLZXlUYWJsZSBmcm9tIFwiLi9rZXlzeW0uanNcIjtcbmltcG9ydCBrZXlzeW1zIGZyb20gXCIuL2tleXN5bWRlZi5qc1wiO1xuaW1wb3J0IHZrZXlzIGZyb20gXCIuL3ZrZXlzLmpzXCI7XG5pbXBvcnQgZml4ZWRrZXlzIGZyb20gXCIuL2ZpeGVka2V5cy5qc1wiO1xuaW1wb3J0IERPTUtleVRhYmxlIGZyb20gXCIuL2RvbWtleXRhYmxlLmpzXCI7XG5pbXBvcnQgKiBhcyBicm93c2VyIGZyb20gXCIuLi91dGlsL2Jyb3dzZXIuanNcIjtcblxuLy8gR2V0ICdLZXlib2FyZEV2ZW50LmNvZGUnLCBoYW5kbGluZyBsZWdhY3kgYnJvd3NlcnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXljb2RlKGV2dCl7XG4gICAgLy8gQXJlIHdlIGdldHRpbmcgcHJvcGVyIGtleSBpZGVudGlmaWVycz9cbiAgICAvLyAodW5mb3J0dW5hdGVseSBGaXJlZm94IGFuZCBDaHJvbWUgYXJlIGNyYXBweSBoZXJlIGFuZCBnaXZlc1xuICAgIC8vIHVzIGFuIGVtcHR5IHN0cmluZyBvbiBzb21lIHBsYXRmb3JtcywgcmF0aGVyIHRoYW4gbGVhdmluZyBpdFxuICAgIC8vIHVuZGVmaW5lZClcbiAgICBpZiAoZXZ0LmNvZGUpIHtcbiAgICAgICAgLy8gTW96aWxsYSBpc24ndCBmdWxseSBpbiBzeW5jIHdpdGggdGhlIHNwZWMgeWV0XG4gICAgICAgIHN3aXRjaCAoZXZ0LmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ09TTGVmdCc6IHJldHVybiAnTWV0YUxlZnQnO1xuICAgICAgICAgICAgY2FzZSAnT1NSaWdodCc6IHJldHVybiAnTWV0YVJpZ2h0JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldnQuY29kZTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZGUtZmFjdG8gc3RhbmRhcmQgaXMgdG8gdXNlIFdpbmRvd3MgVmlydHVhbC1LZXkgY29kZXNcbiAgICAvLyBpbiB0aGUgJ2tleUNvZGUnIGZpZWxkIGZvciBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnMuIEhvd2V2ZXJcbiAgICAvLyBXZWJraXQgc2V0cyBpdCB0byB0aGUgc2FtZSBhcyBjaGFyQ29kZSBpbiAna2V5cHJlc3MnIGV2ZW50cy5cbiAgICBpZiAoKGV2dC50eXBlICE9PSAna2V5cHJlc3MnKSAmJiAoZXZ0LmtleUNvZGUgaW4gdmtleXMpKSB7XG4gICAgICAgIHZhciBjb2RlID0gdmtleXNbZXZ0LmtleUNvZGVdO1xuXG4gICAgICAgIC8vIG1hY09TIGhhcyBtZXNzZWQgdXAgdGhpcyBjb2RlIGZvciBzb21lIHJlYXNvblxuICAgICAgICBpZiAoYnJvd3Nlci5pc01hYygpICYmIChjb2RlID09PSAnQ29udGV4dE1lbnUnKSkge1xuICAgICAgICAgICAgY29kZSA9ICdNZXRhUmlnaHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIGtleUNvZGUgZG9lc24ndCBkaXN0aW5ndWlzaCBiZXR3ZWVuIGxlZnQgYW5kIHJpZ2h0XG4gICAgICAgIC8vIGZvciB0aGUgc3RhbmRhcmQgbW9kaWZpZXJzXG4gICAgICAgIGlmIChldnQubG9jYXRpb24gPT09IDIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1NoaWZ0TGVmdCc6IHJldHVybiAnU2hpZnRSaWdodCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ29udHJvbExlZnQnOiByZXR1cm4gJ0NvbnRyb2xSaWdodCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnQWx0TGVmdCc6IHJldHVybiAnQWx0UmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm9yIGEgYnVuY2ggb2YgdGhlIG51bXBhZCBrZXlzXG4gICAgICAgIGlmIChldnQubG9jYXRpb24gPT09IDMpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0RlbGV0ZSc6IHJldHVybiAnTnVtcGFkRGVjaW1hbCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnSW5zZXJ0JzogcmV0dXJuICdOdW1wYWQwJztcbiAgICAgICAgICAgICAgICBjYXNlICdFbmQnOiByZXR1cm4gJ051bXBhZDEnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6IHJldHVybiAnTnVtcGFkMic7XG4gICAgICAgICAgICAgICAgY2FzZSAnUGFnZURvd24nOiByZXR1cm4gJ051bXBhZDMnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6IHJldHVybiAnTnVtcGFkNCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6IHJldHVybiAnTnVtcGFkNic7XG4gICAgICAgICAgICAgICAgY2FzZSAnSG9tZSc6IHJldHVybiAnTnVtcGFkNyc7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6IHJldHVybiAnTnVtcGFkOCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnUGFnZVVwJzogcmV0dXJuICdOdW1wYWQ5JztcbiAgICAgICAgICAgICAgICBjYXNlICdFbnRlcic6IHJldHVybiAnTnVtcGFkRW50ZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuICdVbmlkZW50aWZpZWQnO1xufVxuXG4vLyBHZXQgJ0tleWJvYXJkRXZlbnQua2V5JywgaGFuZGxpbmcgbGVnYWN5IGJyb3dzZXJzXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5KGV2dCkge1xuICAgIC8vIEFyZSB3ZSBnZXR0aW5nIGEgcHJvcGVyIGtleSB2YWx1ZT9cbiAgICBpZiAoZXZ0LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIElFIGFuZCBFZGdlIHVzZSBzb21lIGFuY2llbnQgdmVyc2lvbiBvZiB0aGUgc3BlY1xuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84ODYwNTcxL1xuICAgICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ1NwYWNlYmFyJzogcmV0dXJuICcgJztcbiAgICAgICAgICAgIGNhc2UgJ0VzYyc6IHJldHVybiAnRXNjYXBlJztcbiAgICAgICAgICAgIGNhc2UgJ1Njcm9sbCc6IHJldHVybiAnU2Nyb2xsTG9jayc7XG4gICAgICAgICAgICBjYXNlICdXaW4nOiByZXR1cm4gJ01ldGEnO1xuICAgICAgICAgICAgY2FzZSAnQXBwcyc6IHJldHVybiAnQ29udGV4dE1lbnUnO1xuICAgICAgICAgICAgY2FzZSAnVXAnOiByZXR1cm4gJ0Fycm93VXAnO1xuICAgICAgICAgICAgY2FzZSAnTGVmdCc6IHJldHVybiAnQXJyb3dMZWZ0JztcbiAgICAgICAgICAgIGNhc2UgJ1JpZ2h0JzogcmV0dXJuICdBcnJvd1JpZ2h0JztcbiAgICAgICAgICAgIGNhc2UgJ0Rvd24nOiByZXR1cm4gJ0Fycm93RG93bic7XG4gICAgICAgICAgICBjYXNlICdEZWwnOiByZXR1cm4gJ0RlbGV0ZSc7XG4gICAgICAgICAgICBjYXNlICdEaXZpZGUnOiByZXR1cm4gJy8nO1xuICAgICAgICAgICAgY2FzZSAnTXVsdGlwbHknOiByZXR1cm4gJyonO1xuICAgICAgICAgICAgY2FzZSAnU3VidHJhY3QnOiByZXR1cm4gJy0nO1xuICAgICAgICAgICAgY2FzZSAnQWRkJzogcmV0dXJuICcrJztcbiAgICAgICAgICAgIGNhc2UgJ0RlY2ltYWwnOiByZXR1cm4gZXZ0LmNoYXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ppbGxhIGlzbid0IGZ1bGx5IGluIHN5bmMgd2l0aCB0aGUgc3BlYyB5ZXRcbiAgICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdPUyc6IHJldHVybiAnTWV0YSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpT1MgbGVha3Mgc29tZSBPUyBuYW1lc1xuICAgICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXRVcEFycm93JzogcmV0dXJuICdBcnJvd1VwJztcbiAgICAgICAgICAgIGNhc2UgJ1VJS2V5SW5wdXREb3duQXJyb3cnOiByZXR1cm4gJ0Fycm93RG93bic7XG4gICAgICAgICAgICBjYXNlICdVSUtleUlucHV0TGVmdEFycm93JzogcmV0dXJuICdBcnJvd0xlZnQnO1xuICAgICAgICAgICAgY2FzZSAnVUlLZXlJbnB1dFJpZ2h0QXJyb3cnOiByZXR1cm4gJ0Fycm93UmlnaHQnO1xuICAgICAgICAgICAgY2FzZSAnVUlLZXlJbnB1dEVzY2FwZSc6IHJldHVybiAnRXNjYXBlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElFIGFuZCBFZGdlIGhhdmUgYnJva2VuIGhhbmRsaW5nIG9mIEFsdEdyYXBoIHNvIHdlIGNhbm5vdFxuICAgICAgICAvLyB0cnVzdCB0aGVtIGZvciBwcmludGFibGUgY2hhcmFjdGVyc1xuICAgICAgICBpZiAoKGV2dC5rZXkubGVuZ3RoICE9PSAxKSB8fCAoIWJyb3dzZXIuaXNJRSgpICYmICFicm93c2VyLmlzRWRnZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2dC5rZXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gZGVkdWNlIGl0IGJhc2VkIG9uIHRoZSBwaHlzaWNhbCBrZXlcbiAgICB2YXIgY29kZSA9IGdldEtleWNvZGUoZXZ0KTtcbiAgICBpZiAoY29kZSBpbiBmaXhlZGtleXMpIHtcbiAgICAgICAgcmV0dXJuIGZpeGVka2V5c1tjb2RlXTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGF0IGZhaWxlZCwgdGhlbiBzZWUgaWYgd2UgaGF2ZSBhIHByaW50YWJsZSBjaGFyYWN0ZXJcbiAgICBpZiAoZXZ0LmNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2dC5jaGFyQ29kZSk7XG4gICAgfVxuXG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBoYXZlIG5vdGhpbmcgbGVmdCB0byBnbyBvblxuICAgIHJldHVybiAnVW5pZGVudGlmaWVkJztcbn1cblxuLy8gR2V0IHRoZSBtb3N0IHJlbGlhYmxlIGtleXN5bSB2YWx1ZSB3ZSBjYW4gZ2V0IGZyb20gYSBrZXkgZXZlbnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlzeW0oZXZ0KXtcbiAgICB2YXIga2V5ID0gZ2V0S2V5KGV2dCk7XG5cbiAgICBpZiAoa2V5ID09PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBGaXJzdCBsb29rIHVwIHNwZWNpYWwga2V5c1xuICAgIGlmIChrZXkgaW4gRE9NS2V5VGFibGUpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gZXZ0LmxvY2F0aW9uO1xuXG4gICAgICAgIC8vIFNhZmFyaSBzY3Jld3MgdXAgbG9jYXRpb24gZm9yIHRoZSByaWdodCBjbWQga2V5XG4gICAgICAgIGlmICgoa2V5ID09PSAnTWV0YScpICYmIChsb2NhdGlvbiA9PT0gMCkpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgobG9jYXRpb24gPT09IHVuZGVmaW5lZCkgfHwgKGxvY2F0aW9uID4gMykpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBET01LZXlUYWJsZVtrZXldW2xvY2F0aW9uXTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgbmVlZCB0byBsb29rIGF0IHRoZSBVbmljb2RlIHN5bWJvbCBpbnN0ZWFkXG5cbiAgICB2YXIgY29kZXBvaW50O1xuXG4gICAgLy8gU3BlY2lhbCBrZXk/IChGSVhNRTogU2hvdWxkIGhhdmUgYmVlbiBjYXVnaHQgZWFybGllcilcbiAgICBpZiAoa2V5Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb2RlcG9pbnQgPSBrZXkuY2hhckNvZGVBdCgpO1xuICAgIGlmIChjb2RlcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIGtleXN5bXMubG9va3VwKGNvZGVwb2ludCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxNyBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG4vKlxuICogTWFwcGluZyBiZXR3ZWVuIE1pY3Jvc29mdMKuIFdpbmRvd3PCriBWaXJ0dWFsLUtleSBjb2RlcyBhbmRcbiAqIEhUTUwga2V5IGNvZGVzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAweDA4OiAnQmFja3NwYWNlJyxcbiAgICAweDA5OiAnVGFiJyxcbiAgICAweDBhOiAnTnVtcGFkQ2xlYXInLFxuICAgIDB4MGQ6ICdFbnRlcicsXG4gICAgMHgxMDogJ1NoaWZ0TGVmdCcsXG4gICAgMHgxMTogJ0NvbnRyb2xMZWZ0JyxcbiAgICAweDEyOiAnQWx0TGVmdCcsXG4gICAgMHgxMzogJ1BhdXNlJyxcbiAgICAweDE0OiAnQ2Fwc0xvY2snLFxuICAgIDB4MTU6ICdMYW5nMScsXG4gICAgMHgxOTogJ0xhbmcyJyxcbiAgICAweDFiOiAnRXNjYXBlJyxcbiAgICAweDFjOiAnQ29udmVydCcsXG4gICAgMHgxZDogJ05vbkNvbnZlcnQnLFxuICAgIDB4MjA6ICdTcGFjZScsXG4gICAgMHgyMTogJ1BhZ2VVcCcsXG4gICAgMHgyMjogJ1BhZ2VEb3duJyxcbiAgICAweDIzOiAnRW5kJyxcbiAgICAweDI0OiAnSG9tZScsXG4gICAgMHgyNTogJ0Fycm93TGVmdCcsXG4gICAgMHgyNjogJ0Fycm93VXAnLFxuICAgIDB4Mjc6ICdBcnJvd1JpZ2h0JyxcbiAgICAweDI4OiAnQXJyb3dEb3duJyxcbiAgICAweDI5OiAnU2VsZWN0JyxcbiAgICAweDJjOiAnUHJpbnRTY3JlZW4nLFxuICAgIDB4MmQ6ICdJbnNlcnQnLFxuICAgIDB4MmU6ICdEZWxldGUnLFxuICAgIDB4MmY6ICdIZWxwJyxcbiAgICAweDMwOiAnRGlnaXQwJyxcbiAgICAweDMxOiAnRGlnaXQxJyxcbiAgICAweDMyOiAnRGlnaXQyJyxcbiAgICAweDMzOiAnRGlnaXQzJyxcbiAgICAweDM0OiAnRGlnaXQ0JyxcbiAgICAweDM1OiAnRGlnaXQ1JyxcbiAgICAweDM2OiAnRGlnaXQ2JyxcbiAgICAweDM3OiAnRGlnaXQ3JyxcbiAgICAweDM4OiAnRGlnaXQ4JyxcbiAgICAweDM5OiAnRGlnaXQ5JyxcbiAgICAweDViOiAnTWV0YUxlZnQnLFxuICAgIDB4NWM6ICdNZXRhUmlnaHQnLFxuICAgIDB4NWQ6ICdDb250ZXh0TWVudScsXG4gICAgMHg1ZjogJ1NsZWVwJyxcbiAgICAweDYwOiAnTnVtcGFkMCcsXG4gICAgMHg2MTogJ051bXBhZDEnLFxuICAgIDB4NjI6ICdOdW1wYWQyJyxcbiAgICAweDYzOiAnTnVtcGFkMycsXG4gICAgMHg2NDogJ051bXBhZDQnLFxuICAgIDB4NjU6ICdOdW1wYWQ1JyxcbiAgICAweDY2OiAnTnVtcGFkNicsXG4gICAgMHg2NzogJ051bXBhZDcnLFxuICAgIDB4Njg6ICdOdW1wYWQ4JyxcbiAgICAweDY5OiAnTnVtcGFkOScsXG4gICAgMHg2YTogJ051bXBhZE11bHRpcGx5JyxcbiAgICAweDZiOiAnTnVtcGFkQWRkJyxcbiAgICAweDZjOiAnTnVtcGFkRGVjaW1hbCcsXG4gICAgMHg2ZDogJ051bXBhZFN1YnRyYWN0JyxcbiAgICAweDZlOiAnTnVtcGFkRGVjaW1hbCcsIC8vIER1cGxpY2F0ZSwgYmVjYXVzZSBidWdneSBvbiBXaW5kb3dzXG4gICAgMHg2ZjogJ051bXBhZERpdmlkZScsXG4gICAgMHg3MDogJ0YxJyxcbiAgICAweDcxOiAnRjInLFxuICAgIDB4NzI6ICdGMycsXG4gICAgMHg3MzogJ0Y0JyxcbiAgICAweDc0OiAnRjUnLFxuICAgIDB4NzU6ICdGNicsXG4gICAgMHg3NjogJ0Y3JyxcbiAgICAweDc3OiAnRjgnLFxuICAgIDB4Nzg6ICdGOScsXG4gICAgMHg3OTogJ0YxMCcsXG4gICAgMHg3YTogJ0YxMScsXG4gICAgMHg3YjogJ0YxMicsXG4gICAgMHg3YzogJ0YxMycsXG4gICAgMHg3ZDogJ0YxNCcsXG4gICAgMHg3ZTogJ0YxNScsXG4gICAgMHg3ZjogJ0YxNicsXG4gICAgMHg4MDogJ0YxNycsXG4gICAgMHg4MTogJ0YxOCcsXG4gICAgMHg4MjogJ0YxOScsXG4gICAgMHg4MzogJ0YyMCcsXG4gICAgMHg4NDogJ0YyMScsXG4gICAgMHg4NTogJ0YyMicsXG4gICAgMHg4NjogJ0YyMycsXG4gICAgMHg4NzogJ0YyNCcsXG4gICAgMHg5MDogJ051bUxvY2snLFxuICAgIDB4OTE6ICdTY3JvbGxMb2NrJyxcbiAgICAweGE2OiAnQnJvd3NlckJhY2snLFxuICAgIDB4YTc6ICdCcm93c2VyRm9yd2FyZCcsXG4gICAgMHhhODogJ0Jyb3dzZXJSZWZyZXNoJyxcbiAgICAweGE5OiAnQnJvd3NlclN0b3AnLFxuICAgIDB4YWE6ICdCcm93c2VyU2VhcmNoJyxcbiAgICAweGFiOiAnQnJvd3NlckZhdm9yaXRlcycsXG4gICAgMHhhYzogJ0Jyb3dzZXJIb21lJyxcbiAgICAweGFkOiAnQXVkaW9Wb2x1bWVNdXRlJyxcbiAgICAweGFlOiAnQXVkaW9Wb2x1bWVEb3duJyxcbiAgICAweGFmOiAnQXVkaW9Wb2x1bWVVcCcsXG4gICAgMHhiMDogJ01lZGlhVHJhY2tOZXh0JyxcbiAgICAweGIxOiAnTWVkaWFUcmFja1ByZXZpb3VzJyxcbiAgICAweGIyOiAnTWVkaWFTdG9wJyxcbiAgICAweGIzOiAnTWVkaWFQbGF5UGF1c2UnLFxuICAgIDB4YjQ6ICdMYXVuY2hNYWlsJyxcbiAgICAweGI1OiAnTWVkaWFTZWxlY3QnLFxuICAgIDB4YjY6ICdMYXVuY2hBcHAxJyxcbiAgICAweGI3OiAnTGF1bmNoQXBwMicsXG4gICAgMHhlMTogJ0FsdFJpZ2h0JywgLy8gT25seSB3aGVuIGl0IGlzIEFsdEdyYXBoXG59O1xuIiwiLypcbiAqIFRoaXMgZmlsZSBpcyBhdXRvLWdlbmVyYXRlZCBmcm9tIGtleW1hcHMuY3N2IG9uIDIwMTctMDUtMzEgMTY6MjBcbiAqIERhdGFiYXNlIGNoZWNrc3VtIHNoYTI1Nig5MmZkMTY1NTA3ZjJhM2I4YzViM2ZhNTZlNDI1ZDQ1Nzg4ZGJjYjk4Y2YwNjdhMzA3NTI3ZDkxY2UyMmNhYjk0KVxuICogVG8gcmUtZ2VuZXJhdGUsIHJ1bjpcbiAqICAga2V5bWFwLWdlbiAtLWxhbmc9anMgY29kZS1tYXAga2V5bWFwcy5jc3YgaHRtbCBhdHNldDFcbiovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFwiQWdhaW5cIjogMHhlMDA1LCAvKiBodG1sOkFnYWluIChBZ2FpbikgLT4gbGludXg6MTI5IChLRVlfQUdBSU4pIC0+IGF0c2V0MTo1NzM0OSAqL1xuICBcIkFsdExlZnRcIjogMHgzOCwgLyogaHRtbDpBbHRMZWZ0IChBbHRMZWZ0KSAtPiBsaW51eDo1NiAoS0VZX0xFRlRBTFQpIC0+IGF0c2V0MTo1NiAqL1xuICBcIkFsdFJpZ2h0XCI6IDB4ZTAzOCwgLyogaHRtbDpBbHRSaWdodCAoQWx0UmlnaHQpIC0+IGxpbnV4OjEwMCAoS0VZX1JJR0hUQUxUKSAtPiBhdHNldDE6NTc0MDAgKi9cbiAgXCJBcnJvd0Rvd25cIjogMHhlMDUwLCAvKiBodG1sOkFycm93RG93biAoQXJyb3dEb3duKSAtPiBsaW51eDoxMDggKEtFWV9ET1dOKSAtPiBhdHNldDE6NTc0MjQgKi9cbiAgXCJBcnJvd0xlZnRcIjogMHhlMDRiLCAvKiBodG1sOkFycm93TGVmdCAoQXJyb3dMZWZ0KSAtPiBsaW51eDoxMDUgKEtFWV9MRUZUKSAtPiBhdHNldDE6NTc0MTkgKi9cbiAgXCJBcnJvd1JpZ2h0XCI6IDB4ZTA0ZCwgLyogaHRtbDpBcnJvd1JpZ2h0IChBcnJvd1JpZ2h0KSAtPiBsaW51eDoxMDYgKEtFWV9SSUdIVCkgLT4gYXRzZXQxOjU3NDIxICovXG4gIFwiQXJyb3dVcFwiOiAweGUwNDgsIC8qIGh0bWw6QXJyb3dVcCAoQXJyb3dVcCkgLT4gbGludXg6MTAzIChLRVlfVVApIC0+IGF0c2V0MTo1NzQxNiAqL1xuICBcIkF1ZGlvVm9sdW1lRG93blwiOiAweGUwMmUsIC8qIGh0bWw6QXVkaW9Wb2x1bWVEb3duIChBdWRpb1ZvbHVtZURvd24pIC0+IGxpbnV4OjExNCAoS0VZX1ZPTFVNRURPV04pIC0+IGF0c2V0MTo1NzM5MCAqL1xuICBcIkF1ZGlvVm9sdW1lTXV0ZVwiOiAweGUwMjAsIC8qIGh0bWw6QXVkaW9Wb2x1bWVNdXRlIChBdWRpb1ZvbHVtZU11dGUpIC0+IGxpbnV4OjExMyAoS0VZX01VVEUpIC0+IGF0c2V0MTo1NzM3NiAqL1xuICBcIkF1ZGlvVm9sdW1lVXBcIjogMHhlMDMwLCAvKiBodG1sOkF1ZGlvVm9sdW1lVXAgKEF1ZGlvVm9sdW1lVXApIC0+IGxpbnV4OjExNSAoS0VZX1ZPTFVNRVVQKSAtPiBhdHNldDE6NTczOTIgKi9cbiAgXCJCYWNrcXVvdGVcIjogMHgyOSwgLyogaHRtbDpCYWNrcXVvdGUgKEJhY2txdW90ZSkgLT4gbGludXg6NDEgKEtFWV9HUkFWRSkgLT4gYXRzZXQxOjQxICovXG4gIFwiQmFja3NsYXNoXCI6IDB4MmIsIC8qIGh0bWw6QmFja3NsYXNoIChCYWNrc2xhc2gpIC0+IGxpbnV4OjQzIChLRVlfQkFDS1NMQVNIKSAtPiBhdHNldDE6NDMgKi9cbiAgXCJCYWNrc3BhY2VcIjogMHhlLCAvKiBodG1sOkJhY2tzcGFjZSAoQmFja3NwYWNlKSAtPiBsaW51eDoxNCAoS0VZX0JBQ0tTUEFDRSkgLT4gYXRzZXQxOjE0ICovXG4gIFwiQnJhY2tldExlZnRcIjogMHgxYSwgLyogaHRtbDpCcmFja2V0TGVmdCAoQnJhY2tldExlZnQpIC0+IGxpbnV4OjI2IChLRVlfTEVGVEJSQUNFKSAtPiBhdHNldDE6MjYgKi9cbiAgXCJCcmFja2V0UmlnaHRcIjogMHgxYiwgLyogaHRtbDpCcmFja2V0UmlnaHQgKEJyYWNrZXRSaWdodCkgLT4gbGludXg6MjcgKEtFWV9SSUdIVEJSQUNFKSAtPiBhdHNldDE6MjcgKi9cbiAgXCJCcm93c2VyQmFja1wiOiAweGUwNmEsIC8qIGh0bWw6QnJvd3NlckJhY2sgKEJyb3dzZXJCYWNrKSAtPiBsaW51eDoxNTggKEtFWV9CQUNLKSAtPiBhdHNldDE6NTc0NTAgKi9cbiAgXCJCcm93c2VyRmF2b3JpdGVzXCI6IDB4ZTA2NiwgLyogaHRtbDpCcm93c2VyRmF2b3JpdGVzIChCcm93c2VyRmF2b3JpdGVzKSAtPiBsaW51eDoxNTYgKEtFWV9CT09LTUFSS1MpIC0+IGF0c2V0MTo1NzQ0NiAqL1xuICBcIkJyb3dzZXJGb3J3YXJkXCI6IDB4ZTA2OSwgLyogaHRtbDpCcm93c2VyRm9yd2FyZCAoQnJvd3NlckZvcndhcmQpIC0+IGxpbnV4OjE1OSAoS0VZX0ZPUldBUkQpIC0+IGF0c2V0MTo1NzQ0OSAqL1xuICBcIkJyb3dzZXJIb21lXCI6IDB4ZTAzMiwgLyogaHRtbDpCcm93c2VySG9tZSAoQnJvd3NlckhvbWUpIC0+IGxpbnV4OjE3MiAoS0VZX0hPTUVQQUdFKSAtPiBhdHNldDE6NTczOTQgKi9cbiAgXCJCcm93c2VyUmVmcmVzaFwiOiAweGUwNjcsIC8qIGh0bWw6QnJvd3NlclJlZnJlc2ggKEJyb3dzZXJSZWZyZXNoKSAtPiBsaW51eDoxNzMgKEtFWV9SRUZSRVNIKSAtPiBhdHNldDE6NTc0NDcgKi9cbiAgXCJCcm93c2VyU2VhcmNoXCI6IDB4ZTA2NSwgLyogaHRtbDpCcm93c2VyU2VhcmNoIChCcm93c2VyU2VhcmNoKSAtPiBsaW51eDoyMTcgKEtFWV9TRUFSQ0gpIC0+IGF0c2V0MTo1NzQ0NSAqL1xuICBcIkJyb3dzZXJTdG9wXCI6IDB4ZTA2OCwgLyogaHRtbDpCcm93c2VyU3RvcCAoQnJvd3NlclN0b3ApIC0+IGxpbnV4OjEyOCAoS0VZX1NUT1ApIC0+IGF0c2V0MTo1NzQ0OCAqL1xuICBcIkNhcHNMb2NrXCI6IDB4M2EsIC8qIGh0bWw6Q2Fwc0xvY2sgKENhcHNMb2NrKSAtPiBsaW51eDo1OCAoS0VZX0NBUFNMT0NLKSAtPiBhdHNldDE6NTggKi9cbiAgXCJDb21tYVwiOiAweDMzLCAvKiBodG1sOkNvbW1hIChDb21tYSkgLT4gbGludXg6NTEgKEtFWV9DT01NQSkgLT4gYXRzZXQxOjUxICovXG4gIFwiQ29udGV4dE1lbnVcIjogMHhlMDVkLCAvKiBodG1sOkNvbnRleHRNZW51IChDb250ZXh0TWVudSkgLT4gbGludXg6MTI3IChLRVlfQ09NUE9TRSkgLT4gYXRzZXQxOjU3NDM3ICovXG4gIFwiQ29udHJvbExlZnRcIjogMHgxZCwgLyogaHRtbDpDb250cm9sTGVmdCAoQ29udHJvbExlZnQpIC0+IGxpbnV4OjI5IChLRVlfTEVGVENUUkwpIC0+IGF0c2V0MToyOSAqL1xuICBcIkNvbnRyb2xSaWdodFwiOiAweGUwMWQsIC8qIGh0bWw6Q29udHJvbFJpZ2h0IChDb250cm9sUmlnaHQpIC0+IGxpbnV4Ojk3IChLRVlfUklHSFRDVFJMKSAtPiBhdHNldDE6NTczNzMgKi9cbiAgXCJDb252ZXJ0XCI6IDB4NzksIC8qIGh0bWw6Q29udmVydCAoQ29udmVydCkgLT4gbGludXg6OTIgKEtFWV9IRU5LQU4pIC0+IGF0c2V0MToxMjEgKi9cbiAgXCJDb3B5XCI6IDB4ZTA3OCwgLyogaHRtbDpDb3B5IChDb3B5KSAtPiBsaW51eDoxMzMgKEtFWV9DT1BZKSAtPiBhdHNldDE6NTc0NjQgKi9cbiAgXCJDdXRcIjogMHhlMDNjLCAvKiBodG1sOkN1dCAoQ3V0KSAtPiBsaW51eDoxMzcgKEtFWV9DVVQpIC0+IGF0c2V0MTo1NzQwNCAqL1xuICBcIkRlbGV0ZVwiOiAweGUwNTMsIC8qIGh0bWw6RGVsZXRlIChEZWxldGUpIC0+IGxpbnV4OjExMSAoS0VZX0RFTEVURSkgLT4gYXRzZXQxOjU3NDI3ICovXG4gIFwiRGlnaXQwXCI6IDB4YiwgLyogaHRtbDpEaWdpdDAgKERpZ2l0MCkgLT4gbGludXg6MTEgKEtFWV8wKSAtPiBhdHNldDE6MTEgKi9cbiAgXCJEaWdpdDFcIjogMHgyLCAvKiBodG1sOkRpZ2l0MSAoRGlnaXQxKSAtPiBsaW51eDoyIChLRVlfMSkgLT4gYXRzZXQxOjIgKi9cbiAgXCJEaWdpdDJcIjogMHgzLCAvKiBodG1sOkRpZ2l0MiAoRGlnaXQyKSAtPiBsaW51eDozIChLRVlfMikgLT4gYXRzZXQxOjMgKi9cbiAgXCJEaWdpdDNcIjogMHg0LCAvKiBodG1sOkRpZ2l0MyAoRGlnaXQzKSAtPiBsaW51eDo0IChLRVlfMykgLT4gYXRzZXQxOjQgKi9cbiAgXCJEaWdpdDRcIjogMHg1LCAvKiBodG1sOkRpZ2l0NCAoRGlnaXQ0KSAtPiBsaW51eDo1IChLRVlfNCkgLT4gYXRzZXQxOjUgKi9cbiAgXCJEaWdpdDVcIjogMHg2LCAvKiBodG1sOkRpZ2l0NSAoRGlnaXQ1KSAtPiBsaW51eDo2IChLRVlfNSkgLT4gYXRzZXQxOjYgKi9cbiAgXCJEaWdpdDZcIjogMHg3LCAvKiBodG1sOkRpZ2l0NiAoRGlnaXQ2KSAtPiBsaW51eDo3IChLRVlfNikgLT4gYXRzZXQxOjcgKi9cbiAgXCJEaWdpdDdcIjogMHg4LCAvKiBodG1sOkRpZ2l0NyAoRGlnaXQ3KSAtPiBsaW51eDo4IChLRVlfNykgLT4gYXRzZXQxOjggKi9cbiAgXCJEaWdpdDhcIjogMHg5LCAvKiBodG1sOkRpZ2l0OCAoRGlnaXQ4KSAtPiBsaW51eDo5IChLRVlfOCkgLT4gYXRzZXQxOjkgKi9cbiAgXCJEaWdpdDlcIjogMHhhLCAvKiBodG1sOkRpZ2l0OSAoRGlnaXQ5KSAtPiBsaW51eDoxMCAoS0VZXzkpIC0+IGF0c2V0MToxMCAqL1xuICBcIkVqZWN0XCI6IDB4ZTA3ZCwgLyogaHRtbDpFamVjdCAoRWplY3QpIC0+IGxpbnV4OjE2MiAoS0VZX0VKRUNUQ0xPU0VDRCkgLT4gYXRzZXQxOjU3NDY5ICovXG4gIFwiRW5kXCI6IDB4ZTA0ZiwgLyogaHRtbDpFbmQgKEVuZCkgLT4gbGludXg6MTA3IChLRVlfRU5EKSAtPiBhdHNldDE6NTc0MjMgKi9cbiAgXCJFbnRlclwiOiAweDFjLCAvKiBodG1sOkVudGVyIChFbnRlcikgLT4gbGludXg6MjggKEtFWV9FTlRFUikgLT4gYXRzZXQxOjI4ICovXG4gIFwiRXF1YWxcIjogMHhkLCAvKiBodG1sOkVxdWFsIChFcXVhbCkgLT4gbGludXg6MTMgKEtFWV9FUVVBTCkgLT4gYXRzZXQxOjEzICovXG4gIFwiRXNjYXBlXCI6IDB4MSwgLyogaHRtbDpFc2NhcGUgKEVzY2FwZSkgLT4gbGludXg6MSAoS0VZX0VTQykgLT4gYXRzZXQxOjEgKi9cbiAgXCJGMVwiOiAweDNiLCAvKiBodG1sOkYxIChGMSkgLT4gbGludXg6NTkgKEtFWV9GMSkgLT4gYXRzZXQxOjU5ICovXG4gIFwiRjEwXCI6IDB4NDQsIC8qIGh0bWw6RjEwIChGMTApIC0+IGxpbnV4OjY4IChLRVlfRjEwKSAtPiBhdHNldDE6NjggKi9cbiAgXCJGMTFcIjogMHg1NywgLyogaHRtbDpGMTEgKEYxMSkgLT4gbGludXg6ODcgKEtFWV9GMTEpIC0+IGF0c2V0MTo4NyAqL1xuICBcIkYxMlwiOiAweDU4LCAvKiBodG1sOkYxMiAoRjEyKSAtPiBsaW51eDo4OCAoS0VZX0YxMikgLT4gYXRzZXQxOjg4ICovXG4gIFwiRjEzXCI6IDB4NWQsIC8qIGh0bWw6RjEzIChGMTMpIC0+IGxpbnV4OjE4MyAoS0VZX0YxMykgLT4gYXRzZXQxOjkzICovXG4gIFwiRjE0XCI6IDB4NWUsIC8qIGh0bWw6RjE0IChGMTQpIC0+IGxpbnV4OjE4NCAoS0VZX0YxNCkgLT4gYXRzZXQxOjk0ICovXG4gIFwiRjE1XCI6IDB4NWYsIC8qIGh0bWw6RjE1IChGMTUpIC0+IGxpbnV4OjE4NSAoS0VZX0YxNSkgLT4gYXRzZXQxOjk1ICovXG4gIFwiRjE2XCI6IDB4NTUsIC8qIGh0bWw6RjE2IChGMTYpIC0+IGxpbnV4OjE4NiAoS0VZX0YxNikgLT4gYXRzZXQxOjg1ICovXG4gIFwiRjE3XCI6IDB4ZTAwMywgLyogaHRtbDpGMTcgKEYxNykgLT4gbGludXg6MTg3IChLRVlfRjE3KSAtPiBhdHNldDE6NTczNDcgKi9cbiAgXCJGMThcIjogMHhlMDc3LCAvKiBodG1sOkYxOCAoRjE4KSAtPiBsaW51eDoxODggKEtFWV9GMTgpIC0+IGF0c2V0MTo1NzQ2MyAqL1xuICBcIkYxOVwiOiAweGUwMDQsIC8qIGh0bWw6RjE5IChGMTkpIC0+IGxpbnV4OjE4OSAoS0VZX0YxOSkgLT4gYXRzZXQxOjU3MzQ4ICovXG4gIFwiRjJcIjogMHgzYywgLyogaHRtbDpGMiAoRjIpIC0+IGxpbnV4OjYwIChLRVlfRjIpIC0+IGF0c2V0MTo2MCAqL1xuICBcIkYyMFwiOiAweDVhLCAvKiBodG1sOkYyMCAoRjIwKSAtPiBsaW51eDoxOTAgKEtFWV9GMjApIC0+IGF0c2V0MTo5MCAqL1xuICBcIkYyMVwiOiAweDc0LCAvKiBodG1sOkYyMSAoRjIxKSAtPiBsaW51eDoxOTEgKEtFWV9GMjEpIC0+IGF0c2V0MToxMTYgKi9cbiAgXCJGMjJcIjogMHhlMDc5LCAvKiBodG1sOkYyMiAoRjIyKSAtPiBsaW51eDoxOTIgKEtFWV9GMjIpIC0+IGF0c2V0MTo1NzQ2NSAqL1xuICBcIkYyM1wiOiAweDZkLCAvKiBodG1sOkYyMyAoRjIzKSAtPiBsaW51eDoxOTMgKEtFWV9GMjMpIC0+IGF0c2V0MToxMDkgKi9cbiAgXCJGMjRcIjogMHg2ZiwgLyogaHRtbDpGMjQgKEYyNCkgLT4gbGludXg6MTk0IChLRVlfRjI0KSAtPiBhdHNldDE6MTExICovXG4gIFwiRjNcIjogMHgzZCwgLyogaHRtbDpGMyAoRjMpIC0+IGxpbnV4OjYxIChLRVlfRjMpIC0+IGF0c2V0MTo2MSAqL1xuICBcIkY0XCI6IDB4M2UsIC8qIGh0bWw6RjQgKEY0KSAtPiBsaW51eDo2MiAoS0VZX0Y0KSAtPiBhdHNldDE6NjIgKi9cbiAgXCJGNVwiOiAweDNmLCAvKiBodG1sOkY1IChGNSkgLT4gbGludXg6NjMgKEtFWV9GNSkgLT4gYXRzZXQxOjYzICovXG4gIFwiRjZcIjogMHg0MCwgLyogaHRtbDpGNiAoRjYpIC0+IGxpbnV4OjY0IChLRVlfRjYpIC0+IGF0c2V0MTo2NCAqL1xuICBcIkY3XCI6IDB4NDEsIC8qIGh0bWw6RjcgKEY3KSAtPiBsaW51eDo2NSAoS0VZX0Y3KSAtPiBhdHNldDE6NjUgKi9cbiAgXCJGOFwiOiAweDQyLCAvKiBodG1sOkY4IChGOCkgLT4gbGludXg6NjYgKEtFWV9GOCkgLT4gYXRzZXQxOjY2ICovXG4gIFwiRjlcIjogMHg0MywgLyogaHRtbDpGOSAoRjkpIC0+IGxpbnV4OjY3IChLRVlfRjkpIC0+IGF0c2V0MTo2NyAqL1xuICBcIkZpbmRcIjogMHhlMDQxLCAvKiBodG1sOkZpbmQgKEZpbmQpIC0+IGxpbnV4OjEzNiAoS0VZX0ZJTkQpIC0+IGF0c2V0MTo1NzQwOSAqL1xuICBcIkhlbHBcIjogMHhlMDc1LCAvKiBodG1sOkhlbHAgKEhlbHApIC0+IGxpbnV4OjEzOCAoS0VZX0hFTFApIC0+IGF0c2V0MTo1NzQ2MSAqL1xuICBcIkhpcmFnYW5hXCI6IDB4NzcsIC8qIGh0bWw6SGlyYWdhbmEgKExhbmc0KSAtPiBsaW51eDo5MSAoS0VZX0hJUkFHQU5BKSAtPiBhdHNldDE6MTE5ICovXG4gIFwiSG9tZVwiOiAweGUwNDcsIC8qIGh0bWw6SG9tZSAoSG9tZSkgLT4gbGludXg6MTAyIChLRVlfSE9NRSkgLT4gYXRzZXQxOjU3NDE1ICovXG4gIFwiSW5zZXJ0XCI6IDB4ZTA1MiwgLyogaHRtbDpJbnNlcnQgKEluc2VydCkgLT4gbGludXg6MTEwIChLRVlfSU5TRVJUKSAtPiBhdHNldDE6NTc0MjYgKi9cbiAgXCJJbnRsQmFja3NsYXNoXCI6IDB4NTYsIC8qIGh0bWw6SW50bEJhY2tzbGFzaCAoSW50bEJhY2tzbGFzaCkgLT4gbGludXg6ODYgKEtFWV8xMDJORCkgLT4gYXRzZXQxOjg2ICovXG4gIFwiSW50bFJvXCI6IDB4NzMsIC8qIGh0bWw6SW50bFJvIChJbnRsUm8pIC0+IGxpbnV4Ojg5IChLRVlfUk8pIC0+IGF0c2V0MToxMTUgKi9cbiAgXCJJbnRsWWVuXCI6IDB4N2QsIC8qIGh0bWw6SW50bFllbiAoSW50bFllbikgLT4gbGludXg6MTI0IChLRVlfWUVOKSAtPiBhdHNldDE6MTI1ICovXG4gIFwiS2FuYU1vZGVcIjogMHg3MCwgLyogaHRtbDpLYW5hTW9kZSAoS2FuYU1vZGUpIC0+IGxpbnV4OjkzIChLRVlfS0FUQUtBTkFISVJBR0FOQSkgLT4gYXRzZXQxOjExMiAqL1xuICBcIkthdGFrYW5hXCI6IDB4NzgsIC8qIGh0bWw6S2F0YWthbmEgKExhbmczKSAtPiBsaW51eDo5MCAoS0VZX0tBVEFLQU5BKSAtPiBhdHNldDE6MTIwICovXG4gIFwiS2V5QVwiOiAweDFlLCAvKiBodG1sOktleUEgKEtleUEpIC0+IGxpbnV4OjMwIChLRVlfQSkgLT4gYXRzZXQxOjMwICovXG4gIFwiS2V5QlwiOiAweDMwLCAvKiBodG1sOktleUIgKEtleUIpIC0+IGxpbnV4OjQ4IChLRVlfQikgLT4gYXRzZXQxOjQ4ICovXG4gIFwiS2V5Q1wiOiAweDJlLCAvKiBodG1sOktleUMgKEtleUMpIC0+IGxpbnV4OjQ2IChLRVlfQykgLT4gYXRzZXQxOjQ2ICovXG4gIFwiS2V5RFwiOiAweDIwLCAvKiBodG1sOktleUQgKEtleUQpIC0+IGxpbnV4OjMyIChLRVlfRCkgLT4gYXRzZXQxOjMyICovXG4gIFwiS2V5RVwiOiAweDEyLCAvKiBodG1sOktleUUgKEtleUUpIC0+IGxpbnV4OjE4IChLRVlfRSkgLT4gYXRzZXQxOjE4ICovXG4gIFwiS2V5RlwiOiAweDIxLCAvKiBodG1sOktleUYgKEtleUYpIC0+IGxpbnV4OjMzIChLRVlfRikgLT4gYXRzZXQxOjMzICovXG4gIFwiS2V5R1wiOiAweDIyLCAvKiBodG1sOktleUcgKEtleUcpIC0+IGxpbnV4OjM0IChLRVlfRykgLT4gYXRzZXQxOjM0ICovXG4gIFwiS2V5SFwiOiAweDIzLCAvKiBodG1sOktleUggKEtleUgpIC0+IGxpbnV4OjM1IChLRVlfSCkgLT4gYXRzZXQxOjM1ICovXG4gIFwiS2V5SVwiOiAweDE3LCAvKiBodG1sOktleUkgKEtleUkpIC0+IGxpbnV4OjIzIChLRVlfSSkgLT4gYXRzZXQxOjIzICovXG4gIFwiS2V5SlwiOiAweDI0LCAvKiBodG1sOktleUogKEtleUopIC0+IGxpbnV4OjM2IChLRVlfSikgLT4gYXRzZXQxOjM2ICovXG4gIFwiS2V5S1wiOiAweDI1LCAvKiBodG1sOktleUsgKEtleUspIC0+IGxpbnV4OjM3IChLRVlfSykgLT4gYXRzZXQxOjM3ICovXG4gIFwiS2V5TFwiOiAweDI2LCAvKiBodG1sOktleUwgKEtleUwpIC0+IGxpbnV4OjM4IChLRVlfTCkgLT4gYXRzZXQxOjM4ICovXG4gIFwiS2V5TVwiOiAweDMyLCAvKiBodG1sOktleU0gKEtleU0pIC0+IGxpbnV4OjUwIChLRVlfTSkgLT4gYXRzZXQxOjUwICovXG4gIFwiS2V5TlwiOiAweDMxLCAvKiBodG1sOktleU4gKEtleU4pIC0+IGxpbnV4OjQ5IChLRVlfTikgLT4gYXRzZXQxOjQ5ICovXG4gIFwiS2V5T1wiOiAweDE4LCAvKiBodG1sOktleU8gKEtleU8pIC0+IGxpbnV4OjI0IChLRVlfTykgLT4gYXRzZXQxOjI0ICovXG4gIFwiS2V5UFwiOiAweDE5LCAvKiBodG1sOktleVAgKEtleVApIC0+IGxpbnV4OjI1IChLRVlfUCkgLT4gYXRzZXQxOjI1ICovXG4gIFwiS2V5UVwiOiAweDEwLCAvKiBodG1sOktleVEgKEtleVEpIC0+IGxpbnV4OjE2IChLRVlfUSkgLT4gYXRzZXQxOjE2ICovXG4gIFwiS2V5UlwiOiAweDEzLCAvKiBodG1sOktleVIgKEtleVIpIC0+IGxpbnV4OjE5IChLRVlfUikgLT4gYXRzZXQxOjE5ICovXG4gIFwiS2V5U1wiOiAweDFmLCAvKiBodG1sOktleVMgKEtleVMpIC0+IGxpbnV4OjMxIChLRVlfUykgLT4gYXRzZXQxOjMxICovXG4gIFwiS2V5VFwiOiAweDE0LCAvKiBodG1sOktleVQgKEtleVQpIC0+IGxpbnV4OjIwIChLRVlfVCkgLT4gYXRzZXQxOjIwICovXG4gIFwiS2V5VVwiOiAweDE2LCAvKiBodG1sOktleVUgKEtleVUpIC0+IGxpbnV4OjIyIChLRVlfVSkgLT4gYXRzZXQxOjIyICovXG4gIFwiS2V5VlwiOiAweDJmLCAvKiBodG1sOktleVYgKEtleVYpIC0+IGxpbnV4OjQ3IChLRVlfVikgLT4gYXRzZXQxOjQ3ICovXG4gIFwiS2V5V1wiOiAweDExLCAvKiBodG1sOktleVcgKEtleVcpIC0+IGxpbnV4OjE3IChLRVlfVykgLT4gYXRzZXQxOjE3ICovXG4gIFwiS2V5WFwiOiAweDJkLCAvKiBodG1sOktleVggKEtleVgpIC0+IGxpbnV4OjQ1IChLRVlfWCkgLT4gYXRzZXQxOjQ1ICovXG4gIFwiS2V5WVwiOiAweDE1LCAvKiBodG1sOktleVkgKEtleVkpIC0+IGxpbnV4OjIxIChLRVlfWSkgLT4gYXRzZXQxOjIxICovXG4gIFwiS2V5WlwiOiAweDJjLCAvKiBodG1sOktleVogKEtleVopIC0+IGxpbnV4OjQ0IChLRVlfWikgLT4gYXRzZXQxOjQ0ICovXG4gIFwiTGFuZzNcIjogMHg3OCwgLyogaHRtbDpMYW5nMyAoTGFuZzMpIC0+IGxpbnV4OjkwIChLRVlfS0FUQUtBTkEpIC0+IGF0c2V0MToxMjAgKi9cbiAgXCJMYW5nNFwiOiAweDc3LCAvKiBodG1sOkxhbmc0IChMYW5nNCkgLT4gbGludXg6OTEgKEtFWV9ISVJBR0FOQSkgLT4gYXRzZXQxOjExOSAqL1xuICBcIkxhbmc1XCI6IDB4NzYsIC8qIGh0bWw6TGFuZzUgKExhbmc1KSAtPiBsaW51eDo4NSAoS0VZX1pFTktBS1VIQU5LQUtVKSAtPiBhdHNldDE6MTE4ICovXG4gIFwiTGF1bmNoQXBwMVwiOiAweGUwNmIsIC8qIGh0bWw6TGF1bmNoQXBwMSAoTGF1bmNoQXBwMSkgLT4gbGludXg6MTU3IChLRVlfQ09NUFVURVIpIC0+IGF0c2V0MTo1NzQ1MSAqL1xuICBcIkxhdW5jaEFwcDJcIjogMHhlMDIxLCAvKiBodG1sOkxhdW5jaEFwcDIgKExhdW5jaEFwcDIpIC0+IGxpbnV4OjE0MCAoS0VZX0NBTEMpIC0+IGF0c2V0MTo1NzM3NyAqL1xuICBcIkxhdW5jaE1haWxcIjogMHhlMDZjLCAvKiBodG1sOkxhdW5jaE1haWwgKExhdW5jaE1haWwpIC0+IGxpbnV4OjE1NSAoS0VZX01BSUwpIC0+IGF0c2V0MTo1NzQ1MiAqL1xuICBcIk1lZGlhUGxheVBhdXNlXCI6IDB4ZTAyMiwgLyogaHRtbDpNZWRpYVBsYXlQYXVzZSAoTWVkaWFQbGF5UGF1c2UpIC0+IGxpbnV4OjE2NCAoS0VZX1BMQVlQQVVTRSkgLT4gYXRzZXQxOjU3Mzc4ICovXG4gIFwiTWVkaWFTZWxlY3RcIjogMHhlMDZkLCAvKiBodG1sOk1lZGlhU2VsZWN0IChNZWRpYVNlbGVjdCkgLT4gbGludXg6MjI2IChLRVlfTUVESUEpIC0+IGF0c2V0MTo1NzQ1MyAqL1xuICBcIk1lZGlhU3RvcFwiOiAweGUwMjQsIC8qIGh0bWw6TWVkaWFTdG9wIChNZWRpYVN0b3ApIC0+IGxpbnV4OjE2NiAoS0VZX1NUT1BDRCkgLT4gYXRzZXQxOjU3MzgwICovXG4gIFwiTWVkaWFUcmFja05leHRcIjogMHhlMDE5LCAvKiBodG1sOk1lZGlhVHJhY2tOZXh0IChNZWRpYVRyYWNrTmV4dCkgLT4gbGludXg6MTYzIChLRVlfTkVYVFNPTkcpIC0+IGF0c2V0MTo1NzM2OSAqL1xuICBcIk1lZGlhVHJhY2tQcmV2aW91c1wiOiAweGUwMTAsIC8qIGh0bWw6TWVkaWFUcmFja1ByZXZpb3VzIChNZWRpYVRyYWNrUHJldmlvdXMpIC0+IGxpbnV4OjE2NSAoS0VZX1BSRVZJT1VTU09ORykgLT4gYXRzZXQxOjU3MzYwICovXG4gIFwiTWV0YUxlZnRcIjogMHhlMDViLCAvKiBodG1sOk1ldGFMZWZ0IChNZXRhTGVmdCkgLT4gbGludXg6MTI1IChLRVlfTEVGVE1FVEEpIC0+IGF0c2V0MTo1NzQzNSAqL1xuICBcIk1ldGFSaWdodFwiOiAweGUwNWMsIC8qIGh0bWw6TWV0YVJpZ2h0IChNZXRhUmlnaHQpIC0+IGxpbnV4OjEyNiAoS0VZX1JJR0hUTUVUQSkgLT4gYXRzZXQxOjU3NDM2ICovXG4gIFwiTWludXNcIjogMHhjLCAvKiBodG1sOk1pbnVzIChNaW51cykgLT4gbGludXg6MTIgKEtFWV9NSU5VUykgLT4gYXRzZXQxOjEyICovXG4gIFwiTm9uQ29udmVydFwiOiAweDdiLCAvKiBodG1sOk5vbkNvbnZlcnQgKE5vbkNvbnZlcnQpIC0+IGxpbnV4Ojk0IChLRVlfTVVIRU5LQU4pIC0+IGF0c2V0MToxMjMgKi9cbiAgXCJOdW1Mb2NrXCI6IDB4NDUsIC8qIGh0bWw6TnVtTG9jayAoTnVtTG9jaykgLT4gbGludXg6NjkgKEtFWV9OVU1MT0NLKSAtPiBhdHNldDE6NjkgKi9cbiAgXCJOdW1wYWQwXCI6IDB4NTIsIC8qIGh0bWw6TnVtcGFkMCAoTnVtcGFkMCkgLT4gbGludXg6ODIgKEtFWV9LUDApIC0+IGF0c2V0MTo4MiAqL1xuICBcIk51bXBhZDFcIjogMHg0ZiwgLyogaHRtbDpOdW1wYWQxIChOdW1wYWQxKSAtPiBsaW51eDo3OSAoS0VZX0tQMSkgLT4gYXRzZXQxOjc5ICovXG4gIFwiTnVtcGFkMlwiOiAweDUwLCAvKiBodG1sOk51bXBhZDIgKE51bXBhZDIpIC0+IGxpbnV4OjgwIChLRVlfS1AyKSAtPiBhdHNldDE6ODAgKi9cbiAgXCJOdW1wYWQzXCI6IDB4NTEsIC8qIGh0bWw6TnVtcGFkMyAoTnVtcGFkMykgLT4gbGludXg6ODEgKEtFWV9LUDMpIC0+IGF0c2V0MTo4MSAqL1xuICBcIk51bXBhZDRcIjogMHg0YiwgLyogaHRtbDpOdW1wYWQ0IChOdW1wYWQ0KSAtPiBsaW51eDo3NSAoS0VZX0tQNCkgLT4gYXRzZXQxOjc1ICovXG4gIFwiTnVtcGFkNVwiOiAweDRjLCAvKiBodG1sOk51bXBhZDUgKE51bXBhZDUpIC0+IGxpbnV4Ojc2IChLRVlfS1A1KSAtPiBhdHNldDE6NzYgKi9cbiAgXCJOdW1wYWQ2XCI6IDB4NGQsIC8qIGh0bWw6TnVtcGFkNiAoTnVtcGFkNikgLT4gbGludXg6NzcgKEtFWV9LUDYpIC0+IGF0c2V0MTo3NyAqL1xuICBcIk51bXBhZDdcIjogMHg0NywgLyogaHRtbDpOdW1wYWQ3IChOdW1wYWQ3KSAtPiBsaW51eDo3MSAoS0VZX0tQNykgLT4gYXRzZXQxOjcxICovXG4gIFwiTnVtcGFkOFwiOiAweDQ4LCAvKiBodG1sOk51bXBhZDggKE51bXBhZDgpIC0+IGxpbnV4OjcyIChLRVlfS1A4KSAtPiBhdHNldDE6NzIgKi9cbiAgXCJOdW1wYWQ5XCI6IDB4NDksIC8qIGh0bWw6TnVtcGFkOSAoTnVtcGFkOSkgLT4gbGludXg6NzMgKEtFWV9LUDkpIC0+IGF0c2V0MTo3MyAqL1xuICBcIk51bXBhZEFkZFwiOiAweDRlLCAvKiBodG1sOk51bXBhZEFkZCAoTnVtcGFkQWRkKSAtPiBsaW51eDo3OCAoS0VZX0tQUExVUykgLT4gYXRzZXQxOjc4ICovXG4gIFwiTnVtcGFkQ29tbWFcIjogMHg3ZSwgLyogaHRtbDpOdW1wYWRDb21tYSAoTnVtcGFkQ29tbWEpIC0+IGxpbnV4OjEyMSAoS0VZX0tQQ09NTUEpIC0+IGF0c2V0MToxMjYgKi9cbiAgXCJOdW1wYWREZWNpbWFsXCI6IDB4NTMsIC8qIGh0bWw6TnVtcGFkRGVjaW1hbCAoTnVtcGFkRGVjaW1hbCkgLT4gbGludXg6ODMgKEtFWV9LUERPVCkgLT4gYXRzZXQxOjgzICovXG4gIFwiTnVtcGFkRGl2aWRlXCI6IDB4ZTAzNSwgLyogaHRtbDpOdW1wYWREaXZpZGUgKE51bXBhZERpdmlkZSkgLT4gbGludXg6OTggKEtFWV9LUFNMQVNIKSAtPiBhdHNldDE6NTczOTcgKi9cbiAgXCJOdW1wYWRFbnRlclwiOiAweGUwMWMsIC8qIGh0bWw6TnVtcGFkRW50ZXIgKE51bXBhZEVudGVyKSAtPiBsaW51eDo5NiAoS0VZX0tQRU5URVIpIC0+IGF0c2V0MTo1NzM3MiAqL1xuICBcIk51bXBhZEVxdWFsXCI6IDB4NTksIC8qIGh0bWw6TnVtcGFkRXF1YWwgKE51bXBhZEVxdWFsKSAtPiBsaW51eDoxMTcgKEtFWV9LUEVRVUFMKSAtPiBhdHNldDE6ODkgKi9cbiAgXCJOdW1wYWRNdWx0aXBseVwiOiAweDM3LCAvKiBodG1sOk51bXBhZE11bHRpcGx5IChOdW1wYWRNdWx0aXBseSkgLT4gbGludXg6NTUgKEtFWV9LUEFTVEVSSVNLKSAtPiBhdHNldDE6NTUgKi9cbiAgXCJOdW1wYWRQYXJlbkxlZnRcIjogMHhlMDc2LCAvKiBodG1sOk51bXBhZFBhcmVuTGVmdCAoTnVtcGFkUGFyZW5MZWZ0KSAtPiBsaW51eDoxNzkgKEtFWV9LUExFRlRQQVJFTikgLT4gYXRzZXQxOjU3NDYyICovXG4gIFwiTnVtcGFkUGFyZW5SaWdodFwiOiAweGUwN2IsIC8qIGh0bWw6TnVtcGFkUGFyZW5SaWdodCAoTnVtcGFkUGFyZW5SaWdodCkgLT4gbGludXg6MTgwIChLRVlfS1BSSUdIVFBBUkVOKSAtPiBhdHNldDE6NTc0NjcgKi9cbiAgXCJOdW1wYWRTdWJ0cmFjdFwiOiAweDRhLCAvKiBodG1sOk51bXBhZFN1YnRyYWN0IChOdW1wYWRTdWJ0cmFjdCkgLT4gbGludXg6NzQgKEtFWV9LUE1JTlVTKSAtPiBhdHNldDE6NzQgKi9cbiAgXCJPcGVuXCI6IDB4NjQsIC8qIGh0bWw6T3BlbiAoT3BlbikgLT4gbGludXg6MTM0IChLRVlfT1BFTikgLT4gYXRzZXQxOjEwMCAqL1xuICBcIlBhZ2VEb3duXCI6IDB4ZTA1MSwgLyogaHRtbDpQYWdlRG93biAoUGFnZURvd24pIC0+IGxpbnV4OjEwOSAoS0VZX1BBR0VET1dOKSAtPiBhdHNldDE6NTc0MjUgKi9cbiAgXCJQYWdlVXBcIjogMHhlMDQ5LCAvKiBodG1sOlBhZ2VVcCAoUGFnZVVwKSAtPiBsaW51eDoxMDQgKEtFWV9QQUdFVVApIC0+IGF0c2V0MTo1NzQxNyAqL1xuICBcIlBhc3RlXCI6IDB4NjUsIC8qIGh0bWw6UGFzdGUgKFBhc3RlKSAtPiBsaW51eDoxMzUgKEtFWV9QQVNURSkgLT4gYXRzZXQxOjEwMSAqL1xuICBcIlBhdXNlXCI6IDB4ZTA0NiwgLyogaHRtbDpQYXVzZSAoUGF1c2UpIC0+IGxpbnV4OjExOSAoS0VZX1BBVVNFKSAtPiBhdHNldDE6NTc0MTQgKi9cbiAgXCJQZXJpb2RcIjogMHgzNCwgLyogaHRtbDpQZXJpb2QgKFBlcmlvZCkgLT4gbGludXg6NTIgKEtFWV9ET1QpIC0+IGF0c2V0MTo1MiAqL1xuICBcIlBvd2VyXCI6IDB4ZTA1ZSwgLyogaHRtbDpQb3dlciAoUG93ZXIpIC0+IGxpbnV4OjExNiAoS0VZX1BPV0VSKSAtPiBhdHNldDE6NTc0MzggKi9cbiAgXCJQcmludFNjcmVlblwiOiAweDU0LCAvKiBodG1sOlByaW50U2NyZWVuIChQcmludFNjcmVlbikgLT4gbGludXg6OTkgKEtFWV9TWVNSUSkgLT4gYXRzZXQxOjg0ICovXG4gIFwiUHJvcHNcIjogMHhlMDA2LCAvKiBodG1sOlByb3BzIChQcm9wcykgLT4gbGludXg6MTMwIChLRVlfUFJPUFMpIC0+IGF0c2V0MTo1NzM1MCAqL1xuICBcIlF1b3RlXCI6IDB4MjgsIC8qIGh0bWw6UXVvdGUgKFF1b3RlKSAtPiBsaW51eDo0MCAoS0VZX0FQT1NUUk9QSEUpIC0+IGF0c2V0MTo0MCAqL1xuICBcIlNjcm9sbExvY2tcIjogMHg0NiwgLyogaHRtbDpTY3JvbGxMb2NrIChTY3JvbGxMb2NrKSAtPiBsaW51eDo3MCAoS0VZX1NDUk9MTExPQ0spIC0+IGF0c2V0MTo3MCAqL1xuICBcIlNlbWljb2xvblwiOiAweDI3LCAvKiBodG1sOlNlbWljb2xvbiAoU2VtaWNvbG9uKSAtPiBsaW51eDozOSAoS0VZX1NFTUlDT0xPTikgLT4gYXRzZXQxOjM5ICovXG4gIFwiU2hpZnRMZWZ0XCI6IDB4MmEsIC8qIGh0bWw6U2hpZnRMZWZ0IChTaGlmdExlZnQpIC0+IGxpbnV4OjQyIChLRVlfTEVGVFNISUZUKSAtPiBhdHNldDE6NDIgKi9cbiAgXCJTaGlmdFJpZ2h0XCI6IDB4MzYsIC8qIGh0bWw6U2hpZnRSaWdodCAoU2hpZnRSaWdodCkgLT4gbGludXg6NTQgKEtFWV9SSUdIVFNISUZUKSAtPiBhdHNldDE6NTQgKi9cbiAgXCJTbGFzaFwiOiAweDM1LCAvKiBodG1sOlNsYXNoIChTbGFzaCkgLT4gbGludXg6NTMgKEtFWV9TTEFTSCkgLT4gYXRzZXQxOjUzICovXG4gIFwiU2xlZXBcIjogMHhlMDVmLCAvKiBodG1sOlNsZWVwIChTbGVlcCkgLT4gbGludXg6MTQyIChLRVlfU0xFRVApIC0+IGF0c2V0MTo1NzQzOSAqL1xuICBcIlNwYWNlXCI6IDB4MzksIC8qIGh0bWw6U3BhY2UgKFNwYWNlKSAtPiBsaW51eDo1NyAoS0VZX1NQQUNFKSAtPiBhdHNldDE6NTcgKi9cbiAgXCJTdXNwZW5kXCI6IDB4ZTAyNSwgLyogaHRtbDpTdXNwZW5kIChTdXNwZW5kKSAtPiBsaW51eDoyMDUgKEtFWV9TVVNQRU5EKSAtPiBhdHNldDE6NTczODEgKi9cbiAgXCJUYWJcIjogMHhmLCAvKiBodG1sOlRhYiAoVGFiKSAtPiBsaW51eDoxNSAoS0VZX1RBQikgLT4gYXRzZXQxOjE1ICovXG4gIFwiVW5kb1wiOiAweGUwMDcsIC8qIGh0bWw6VW5kbyAoVW5kbykgLT4gbGludXg6MTMxIChLRVlfVU5ETykgLT4gYXRzZXQxOjU3MzUxICovXG4gIFwiV2FrZVVwXCI6IDB4ZTA2MywgLyogaHRtbDpXYWtlVXAgKFdha2VVcCkgLT4gbGludXg6MTQzIChLRVlfV0FLRVVQKSAtPiBhdHNldDE6NTc0NDMgKi9cbn07XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogQ29weXJpZ2h0IChDKSAyMDE3IFNhbXVlbCBNYW5uZWhlZCBmb3IgQ2VuZGlvIEFCXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqXG4gKiBUSUdIVCBkZWNvZGVyIHBvcnRpb246XG4gKiAoYykgMjAxMiBNaWNoYWVsIFRpbmdsb2YsIEpvZSBCYWxheiwgTGVzIFBpZWNoIChNZXJjdXJpLmNhKVxuICovXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuL3V0aWwvbG9nZ2luZy5qcyc7XG5pbXBvcnQgeyBkZWNvZGVVVEY4IH0gZnJvbSAnLi91dGlsL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNDdXJzb3JVUklzLCBpc1RvdWNoRGV2aWNlIH0gZnJvbSAnLi91dGlsL2Jyb3dzZXIuanMnO1xuaW1wb3J0IEV2ZW50VGFyZ2V0TWl4aW4gZnJvbSAnLi91dGlsL2V2ZW50dGFyZ2V0LmpzJztcbmltcG9ydCBEaXNwbGF5IGZyb20gXCIuL2Rpc3BsYXkuanNcIjtcbmltcG9ydCBLZXlib2FyZCBmcm9tIFwiLi9pbnB1dC9rZXlib2FyZC5qc1wiO1xuaW1wb3J0IE1vdXNlIGZyb20gXCIuL2lucHV0L21vdXNlLmpzXCI7XG5pbXBvcnQgV2Vic29jayBmcm9tIFwiLi93ZWJzb2NrLmpzXCI7XG5pbXBvcnQgREVTIGZyb20gXCIuL2Rlcy5qc1wiO1xuaW1wb3J0IEtleVRhYmxlIGZyb20gXCIuL2lucHV0L2tleXN5bS5qc1wiO1xuaW1wb3J0IFh0U2NhbmNvZGUgZnJvbSBcIi4vaW5wdXQveHRzY2FuY29kZXMuanNcIjtcbmltcG9ydCBJbmZsYXRvciBmcm9tIFwiLi9pbmZsYXRvci5qc1wiO1xuaW1wb3J0IHsgZW5jb2RpbmdzLCBlbmNvZGluZ05hbWUgfSBmcm9tIFwiLi9lbmNvZGluZ3MuanNcIjtcbmltcG9ydCBcIi4vdXRpbC9wb2x5ZmlsbC5qc1wiO1xuXG4vKmpzbGludCB3aGl0ZTogZmFsc2UsIGJyb3dzZXI6IHRydWUgKi9cbi8qZ2xvYmFsIHdpbmRvdywgVXRpbCwgRGlzcGxheSwgS2V5Ym9hcmQsIE1vdXNlLCBXZWJzb2NrLCBXZWJzb2NrX25hdGl2ZSwgQmFzZTY0LCBERVMsIEtleVRhYmxlLCBJbmZsYXRvciwgWHRTY2FuY29kZSAqL1xuXG4vLyBIb3cgbWFueSBzZWNvbmRzIHRvIHdhaXQgZm9yIGEgZGlzY29ubmVjdCB0byBmaW5pc2hcbnZhciBESVNDT05ORUNUX1RJTUVPVVQgPSAzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSRkIodGFyZ2V0LCB1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk11c3Qgc3BlY2lmeSB0YXJnZXRcIik7XG4gICAgfVxuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiTXVzdCBzcGVjaWZ5IFVSTFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy5fdXJsID0gdXJsO1xuXG4gICAgLy8gQ29ubmVjdGlvbiBkZXRhaWxzXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5fcmZiX2NyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB7fTtcbiAgICB0aGlzLl9zaGFyZWQgPSAnc2hhcmVkJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnNoYXJlZCA6IHRydWU7XG4gICAgdGhpcy5fcmVwZWF0ZXJJRCA9IG9wdGlvbnMucmVwZWF0ZXJJRCB8fCAnJztcblxuICAgIC8vIEludGVybmFsIHN0YXRlXG4gICAgdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPSAnJztcbiAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICcnO1xuICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9ICcnO1xuICAgIHRoaXMuX3JmYl9jbGVhbl9kaXNjb25uZWN0ID0gdHJ1ZTtcblxuICAgIC8vIFNlcnZlciBjYXBhYmlsaXRpZXNcbiAgICB0aGlzLl9yZmJfdmVyc2lvbiA9IDA7XG4gICAgdGhpcy5fcmZiX21heF92ZXJzaW9uID0gMy44O1xuICAgIHRoaXMuX3JmYl90aWdodHZuYyA9IGZhbHNlO1xuICAgIHRoaXMuX3JmYl94dnBfdmVyID0gMDtcblxuICAgIHRoaXMuX2ZiX3dpZHRoID0gMDtcbiAgICB0aGlzLl9mYl9oZWlnaHQgPSAwO1xuXG4gICAgdGhpcy5fZmJfbmFtZSA9IFwiXCI7XG5cbiAgICB0aGlzLl9jYXBhYmlsaXRpZXMgPSB7IHBvd2VyOiBmYWxzZSB9O1xuXG4gICAgdGhpcy5fc3VwcG9ydHNGZW5jZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5fc3VwcG9ydHNDb250aW51b3VzVXBkYXRlcyA9IGZhbHNlO1xuICAgIHRoaXMuX2VuYWJsZWRDb250aW51b3VzVXBkYXRlcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fc3VwcG9ydHNTZXREZXNrdG9wU2l6ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3NjcmVlbl9pZCA9IDA7XG4gICAgdGhpcy5fc2NyZWVuX2ZsYWdzID0gMDtcblxuICAgIHRoaXMuX3FlbXVFeHRLZXlFdmVudFN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gICAgLy8gSW50ZXJuYWwgb2JqZWN0c1xuICAgIHRoaXMuX3NvY2sgPSBudWxsOyAgICAgICAgICAgICAgLy8gV2Vic29jayBvYmplY3RcbiAgICB0aGlzLl9kaXNwbGF5ID0gbnVsbDsgICAgICAgICAgIC8vIERpc3BsYXkgb2JqZWN0XG4gICAgdGhpcy5fZmx1c2hpbmcgPSBmYWxzZTsgICAgICAgICAvLyBEaXNwbGF5IGZsdXNoaW5nIHN0YXRlXG4gICAgdGhpcy5fa2V5Ym9hcmQgPSBudWxsOyAgICAgICAgICAvLyBLZXlib2FyZCBpbnB1dCBoYW5kbGVyIG9iamVjdFxuICAgIHRoaXMuX21vdXNlID0gbnVsbDsgICAgICAgICAgICAgLy8gTW91c2UgaW5wdXQgaGFuZGxlciBvYmplY3RcblxuICAgIC8vIFRpbWVyc1xuICAgIHRoaXMuX2Rpc2Nvbm5UaW1lciA9IG51bGw7ICAgICAgLy8gZGlzY29ubmVjdGlvbiB0aW1lclxuICAgIHRoaXMuX3Jlc2l6ZVRpbWVvdXQgPSBudWxsOyAgICAgLy8gcmVzaXplIHJhdGUgbGltaXRpbmdcblxuICAgIC8vIERlY29kZXIgc3RhdGVzIGFuZCBzdGF0c1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzID0ge307XG4gICAgdGhpcy5fZW5jU3RhdHMgPSB7fTtcblxuICAgIHRoaXMuX0ZCVSA9IHtcbiAgICAgICAgcmVjdHM6IDAsXG4gICAgICAgIHN1YnJlY3RzOiAwLCAgICAgICAgICAgIC8vIFJSRSBhbmQgSEVYVElMRVxuICAgICAgICBsaW5lczogMCwgICAgICAgICAgICAgICAvLyBSQVdcbiAgICAgICAgdGlsZXM6IDAsICAgICAgICAgICAgICAgLy8gSEVYVElMRVxuICAgICAgICBieXRlczogMCxcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgZW5jb2Rpbmc6IDAsXG4gICAgICAgIHN1YmVuY29kaW5nOiAtMSxcbiAgICAgICAgYmFja2dyb3VuZDogbnVsbCxcbiAgICAgICAgemxpYnM6IFtdICAgICAgICAgICAgICAgLy8gVElHSFQgemxpYiBzdHJlYW1zXG4gICAgfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICB0aGlzLl9GQlUuemxpYnNbaV0gPSBuZXcgSW5mbGF0b3IoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kZXN0QnVmZiA9IG51bGw7XG4gICAgdGhpcy5fcGFsZXR0ZUJ1ZmYgPSBuZXcgVWludDhBcnJheSgxMDI0KTsgIC8vIDI1NiAqIDQgKG1heCBwYWxldHRlIHNpemUgKiBtYXggYnl0ZXMtcGVyLXBpeGVsKVxuXG4gICAgdGhpcy5fcnJlX2NodW5rX3N6ID0gMTAwO1xuXG4gICAgdGhpcy5fdGltaW5nID0ge1xuICAgICAgICBsYXN0X2ZidTogMCxcbiAgICAgICAgZmJ1X3RvdGFsOiAwLFxuICAgICAgICBmYnVfdG90YWxfY250OiAwLFxuICAgICAgICBmdWxsX2ZidV90b3RhbDogMCxcbiAgICAgICAgZnVsbF9mYnVfY250OiAwLFxuXG4gICAgICAgIGZidV9ydF9zdGFydDogMCxcbiAgICAgICAgZmJ1X3J0X3RvdGFsOiAwLFxuICAgICAgICBmYnVfcnRfY250OiAwLFxuICAgICAgICBwaXhlbHM6IDBcbiAgICB9O1xuXG4gICAgLy8gTW91c2Ugc3RhdGVcbiAgICB0aGlzLl9tb3VzZV9idXR0b25NYXNrID0gMDtcbiAgICB0aGlzLl9tb3VzZV9hcnIgPSBbXTtcbiAgICB0aGlzLl92aWV3cG9ydERyYWdnaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fdmlld3BvcnREcmFnUG9zID0ge307XG4gICAgdGhpcy5fdmlld3BvcnRIYXNNb3ZlZCA9IGZhbHNlO1xuXG4gICAgLy8gQm91bmQgZXZlbnQgaGFuZGxlcnNcbiAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0ge1xuICAgICAgICBmb2N1c0NhbnZhczogdGhpcy5fZm9jdXNDYW52YXMuYmluZCh0aGlzKSxcbiAgICAgICAgd2luZG93UmVzaXplOiB0aGlzLl93aW5kb3dSZXNpemUuYmluZCh0aGlzKSxcbiAgICB9O1xuXG4gICAgLy8gbWFpbiBzZXR1cFxuICAgIExvZy5EZWJ1ZyhcIj4+IFJGQi5jb25zdHJ1Y3RvclwiKTtcblxuICAgIC8vIENyZWF0ZSBET00gZWxlbWVudHNcbiAgICB0aGlzLl9zY3JlZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9zY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLl9zY3JlZW4uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5fc2NyZWVuLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLl9zY3JlZW4uc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgdGhpcy5fc2NyZWVuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNDAsIDQwLCA0MCknO1xuICAgIHRoaXMuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5tYXJnaW4gPSAnYXV0byc7XG4gICAgLy8gU29tZSBicm93c2VycyBhZGQgYW4gb3V0bGluZSBvbiBmb2N1c1xuICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5vdXRsaW5lID0gJ25vbmUnO1xuICAgIC8vIElFIG1pc2NhbGN1bGF0ZXMgd2lkdGggd2l0aG91dCB0aGlzIDooXG4gICAgdGhpcy5fY2FudmFzLnN0eWxlLmZsZXhTaHJpbmsgPSAnMCc7XG4gICAgdGhpcy5fY2FudmFzLndpZHRoID0gMDtcbiAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gMDtcbiAgICB0aGlzLl9jYW52YXMudGFiSW5kZXggPSAtMTtcbiAgICB0aGlzLl9zY3JlZW4uYXBwZW5kQ2hpbGQodGhpcy5fY2FudmFzKTtcblxuICAgIC8vIHBvcHVsYXRlIGVuY0hhbmRsZXJzIHdpdGggYm91bmQgdmVyc2lvbnNcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdSYXddID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuUkFXLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLmVuY29kaW5nQ29weVJlY3RdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuQ09QWVJFQ1QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9lbmNIYW5kbGVyc1tlbmNvZGluZ3MuZW5jb2RpbmdSUkVdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuUlJFLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLmVuY29kaW5nSGV4dGlsZV0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5IRVhUSUxFLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLmVuY29kaW5nVGlnaHRdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMuVElHSFQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0Rlc2t0b3BTaXplXSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLkRlc2t0b3BTaXplLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nTGFzdFJlY3RdID0gUkZCLmVuY29kaW5nSGFuZGxlcnMubGFzdF9yZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nQ3Vyc29yXSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLkN1cnNvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2VuY0hhbmRsZXJzW2VuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ1FFTVVFeHRlbmRlZEtleUV2ZW50XSA9IFJGQi5lbmNvZGluZ0hhbmRsZXJzLlFFTVVFeHRlbmRlZEtleUV2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZW5jSGFuZGxlcnNbZW5jb2RpbmdzLnBzZXVkb0VuY29kaW5nRXh0ZW5kZWREZXNrdG9wU2l6ZV0gPSBSRkIuZW5jb2RpbmdIYW5kbGVycy5FeHRlbmRlZERlc2t0b3BTaXplLmJpbmQodGhpcyk7XG5cbiAgICAvLyBOQjogbm90aGluZyB0aGF0IG5lZWRzIGV4cGxpY2l0IHRlYXJkb3duIHNob3VsZCBiZSBkb25lXG4gICAgLy8gYmVmb3JlIHRoaXMgcG9pbnQsIHNpbmNlIHRoaXMgY2FuIHRocm93IGFuIGV4Y2VwdGlvblxuICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXkgPSBuZXcgRGlzcGxheSh0aGlzLl9jYW52YXMpO1xuICAgIH0gY2F0Y2ggKGV4Yykge1xuICAgICAgICBMb2cuRXJyb3IoXCJEaXNwbGF5IGV4Y2VwdGlvbjogXCIgKyBleGMpO1xuICAgICAgICB0aHJvdyBleGM7XG4gICAgfVxuICAgIHRoaXMuX2Rpc3BsYXkub25mbHVzaCA9IHRoaXMuX29uRmx1c2guYmluZCh0aGlzKTtcbiAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XG5cbiAgICB0aGlzLl9rZXlib2FyZCA9IG5ldyBLZXlib2FyZCh0aGlzLl9jYW52YXMpO1xuICAgIHRoaXMuX2tleWJvYXJkLm9ua2V5ZXZlbnQgPSB0aGlzLl9oYW5kbGVLZXlFdmVudC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fbW91c2UgPSBuZXcgTW91c2UodGhpcy5fY2FudmFzKTtcbiAgICB0aGlzLl9tb3VzZS5vbm1vdXNlYnV0dG9uID0gdGhpcy5faGFuZGxlTW91c2VCdXR0b24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9tb3VzZS5vbm1vdXNlbW92ZSA9IHRoaXMuX2hhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fc29jayA9IG5ldyBXZWJzb2NrKCk7XG4gICAgdGhpcy5fc29jay5vbignbWVzc2FnZScsIHRoaXMuX2hhbmRsZV9tZXNzYWdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX3NvY2sub24oJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgPT09ICdjb25uZWN0aW5nJykgJiZcbiAgICAgICAgICAgICh0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9PT0gJycpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdQcm90b2NvbFZlcnNpb24nO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiU3RhcnRpbmcgVk5DIGhhbmRzaGFrZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIHNlcnZlciBjb25uZWN0aW9uIHdoaWxlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUpO1xuICAgICAgICB9XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9zb2NrLm9uKCdjbG9zZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIldlYlNvY2tldCBvbi1jbG9zZSBldmVudFwiKTtcbiAgICAgICAgdmFyIG1zZyA9IFwiXCI7XG4gICAgICAgIGlmIChlLmNvZGUpIHtcbiAgICAgICAgICAgIG1zZyA9IFwiKGNvZGU6IFwiICsgZS5jb2RlO1xuICAgICAgICAgICAgaWYgKGUucmVhc29uKSB7XG4gICAgICAgICAgICAgICAgbXNnICs9IFwiLCByZWFzb246IFwiICsgZS5yZWFzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtc2cgKz0gXCIpXCI7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIkNvbm5lY3Rpb24gY2xvc2VkIFwiICsgbXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRpc2Nvbm5lY3RzIHRoYXQgd2VyZSBpbml0aWF0ZWQgc2VydmVyLXNpZGVcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgLy8gTm9ybWFsIGRpc2Nvbm5lY3Rpb24gcGF0aFxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIHNlcnZlciBkaXNjb25uZWN0IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2hlbiBhbHJlYWR5IGRpc2Nvbm5lY3RlZCBcIiArIG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIHNlcnZlciBkaXNjb25uZWN0IGJlZm9yZSBjb25uZWN0aW5nIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc29jay5vZmYoJ2Nsb3NlJyk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9zb2NrLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIExvZy5XYXJuKFwiV2ViU29ja2V0IG9uLWVycm9yIGV2ZW50XCIpO1xuICAgIH0pO1xuXG4gICAgLy8gU2xpZ2h0IGRlbGF5IG9mIHRoZSBhY3R1YWwgY29ubmVjdGlvbiBzbyB0aGF0IHRoZSBjYWxsZXIgaGFzXG4gICAgLy8gdGltZSB0byBzZXQgdXAgY2FsbGJhY2tzXG4gICAgc2V0VGltZW91dCh0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUuYmluZCh0aGlzLCAnY29ubmVjdGluZycpKTtcblxuICAgIExvZy5EZWJ1ZyhcIjw8IFJGQi5jb25zdHJ1Y3RvclwiKTtcbn07XG5cblJGQi5wcm90b3R5cGUgPSB7XG4gICAgLy8gPT09PT0gUFJPUEVSVElFUyA9PT09PVxuXG4gICAgZHJhZ1ZpZXdwb3J0OiBmYWxzZSxcbiAgICBmb2N1c09uQ2xpY2s6IHRydWUsXG5cbiAgICBfdmlld09ubHk6IGZhbHNlLFxuICAgIGdldCB2aWV3T25seSgpIHsgcmV0dXJuIHRoaXMuX3ZpZXdPbmx5OyB9LFxuICAgIHNldCB2aWV3T25seSh2aWV3T25seSkge1xuICAgICAgICB0aGlzLl92aWV3T25seSA9IHZpZXdPbmx5O1xuXG4gICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9PT0gXCJjb25uZWN0aW5nXCIgfHxcbiAgICAgICAgICAgIHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlID09PSBcImNvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICBpZiAodmlld09ubHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9rZXlib2FyZC51bmdyYWIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZS51bmdyYWIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmQuZ3JhYigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdXNlLmdyYWIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXQgY2FwYWJpbGl0aWVzKCkgeyByZXR1cm4gdGhpcy5fY2FwYWJpbGl0aWVzOyB9LFxuXG4gICAgZ2V0IHRvdWNoQnV0dG9uKCkgeyByZXR1cm4gdGhpcy5fbW91c2UudG91Y2hCdXR0b247IH0sXG4gICAgc2V0IHRvdWNoQnV0dG9uKGJ1dHRvbikgeyB0aGlzLl9tb3VzZS50b3VjaEJ1dHRvbiA9IGJ1dHRvbjsgfSxcblxuICAgIF9jbGlwVmlld3BvcnQ6IGZhbHNlLFxuICAgIGdldCBjbGlwVmlld3BvcnQoKSB7IHJldHVybiB0aGlzLl9jbGlwVmlld3BvcnQ7IH0sXG4gICAgc2V0IGNsaXBWaWV3cG9ydCh2aWV3cG9ydCkge1xuICAgICAgICB0aGlzLl9jbGlwVmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgIH0sXG5cbiAgICBfc2NhbGVWaWV3cG9ydDogZmFsc2UsXG4gICAgZ2V0IHNjYWxlVmlld3BvcnQoKSB7IHJldHVybiB0aGlzLl9zY2FsZVZpZXdwb3J0OyB9LFxuICAgIHNldCBzY2FsZVZpZXdwb3J0KHNjYWxlKSB7XG4gICAgICAgIHRoaXMuX3NjYWxlVmlld3BvcnQgPSBzY2FsZTtcbiAgICAgICAgLy8gU2NhbGluZyB0cnVtcHMgY2xpcHBpbmcsIHNvIHdlIG1heSBuZWVkIHRvIGFkanVzdFxuICAgICAgICAvLyBjbGlwcGluZyB3aGVuIGVuYWJsaW5nIG9yIGRpc2FibGluZyBzY2FsaW5nXG4gICAgICAgIGlmIChzY2FsZSAmJiB0aGlzLl9jbGlwVmlld3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNsaXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVTY2FsZSgpO1xuICAgICAgICBpZiAoIXNjYWxlICYmIHRoaXMuX2NsaXBWaWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9yZXNpemVTZXNzaW9uOiBmYWxzZSxcbiAgICBnZXQgcmVzaXplU2Vzc2lvbigpIHsgcmV0dXJuIHRoaXMuX3Jlc2l6ZVNlc3Npb247IH0sXG4gICAgc2V0IHJlc2l6ZVNlc3Npb24ocmVzaXplKSB7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVNlc3Npb24gPSByZXNpemU7XG4gICAgICAgIGlmIChyZXNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RSZW1vdGVSZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyA9PT09PSBQVUJMSUMgTUVUSE9EUyA9PT09PVxuXG4gICAgZGlzY29ubmVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoJ2Rpc2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgdGhpcy5fc29jay5vZmYoJ2Vycm9yJyk7XG4gICAgICAgIHRoaXMuX3NvY2sub2ZmKCdtZXNzYWdlJyk7XG4gICAgICAgIHRoaXMuX3NvY2sub2ZmKCdvcGVuJyk7XG4gICAgfSxcblxuICAgIHNlbmRDcmVkZW50aWFsczogZnVuY3Rpb24gKGNyZWRzKSB7XG4gICAgICAgIHRoaXMuX3JmYl9jcmVkZW50aWFscyA9IGNyZWRzO1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX2luaXRfbXNnLmJpbmQodGhpcyksIDApO1xuICAgIH0sXG5cbiAgICBzZW5kQ3RybEFsdERlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnIHx8IHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfVxuICAgICAgICBMb2cuSW5mbyhcIlNlbmRpbmcgQ3RybC1BbHQtRGVsXCIpO1xuXG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19Db250cm9sX0wsIFwiQ29udHJvbExlZnRcIiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19BbHRfTCwgXCJBbHRMZWZ0XCIsIHRydWUpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfRGVsZXRlLCBcIkRlbGV0ZVwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZW5kS2V5KEtleVRhYmxlLlhLX0RlbGV0ZSwgXCJEZWxldGVcIiwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNlbmRLZXkoS2V5VGFibGUuWEtfQWx0X0wsIFwiQWx0TGVmdFwiLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2VuZEtleShLZXlUYWJsZS5YS19Db250cm9sX0wsIFwiQ29udHJvbExlZnRcIiwgZmFsc2UpO1xuICAgIH0sXG5cbiAgICBtYWNoaW5lU2h1dGRvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5feHZwT3AoMSwgMik7XG4gICAgfSxcblxuICAgIG1hY2hpbmVSZWJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5feHZwT3AoMSwgMyk7XG4gICAgfSxcblxuICAgIG1hY2hpbmVSZXNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl94dnBPcCgxLCA0KTtcbiAgICB9LFxuXG4gICAgLy8gU2VuZCBhIGtleSBwcmVzcy4gSWYgJ2Rvd24nIGlzIG5vdCBzcGVjaWZpZWQgdGhlbiBzZW5kIGEgZG93biBrZXlcbiAgICAvLyBmb2xsb3dlZCBieSBhbiB1cCBrZXkuXG4gICAgc2VuZEtleTogZnVuY3Rpb24gKGtleXN5bSwgY29kZSwgZG93bikge1xuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnIHx8IHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfVxuXG4gICAgICAgIGlmIChkb3duID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEtleShrZXlzeW0sIGNvZGUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zZW5kS2V5KGtleXN5bSwgY29kZSwgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNjYW5jb2RlID0gWHRTY2FuY29kZVtjb2RlXTtcblxuICAgICAgICBpZiAodGhpcy5fcWVtdUV4dEtleUV2ZW50U3VwcG9ydGVkICYmIHNjYW5jb2RlKSB7XG4gICAgICAgICAgICAvLyAwIGlzIE5vU3ltYm9sXG4gICAgICAgICAgICBrZXlzeW0gPSBrZXlzeW0gfHwgMDtcblxuICAgICAgICAgICAgTG9nLkluZm8oXCJTZW5kaW5nIGtleSAoXCIgKyAoZG93biA/IFwiZG93blwiIDogXCJ1cFwiKSArIFwiKToga2V5c3ltIFwiICsga2V5c3ltICsgXCIsIHNjYW5jb2RlIFwiICsgc2NhbmNvZGUpO1xuXG4gICAgICAgICAgICBSRkIubWVzc2FnZXMuUUVNVUV4dGVuZGVkS2V5RXZlbnQodGhpcy5fc29jaywga2V5c3ltLCBkb3duLCBzY2FuY29kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWtleXN5bSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExvZy5JbmZvKFwiU2VuZGluZyBrZXlzeW0gKFwiICsgKGRvd24gPyBcImRvd25cIiA6IFwidXBcIikgKyBcIik6IFwiICsga2V5c3ltKTtcbiAgICAgICAgICAgIFJGQi5tZXNzYWdlcy5rZXlFdmVudCh0aGlzLl9zb2NrLCBrZXlzeW0sIGRvd24gPyAxIDogMCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZm9jdXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzLmZvY3VzKCk7XG4gICAgfSxcblxuICAgIGJsdXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzLmJsdXIoKTtcbiAgICB9LFxuXG4gICAgY2xpcGJvYXJkUGFzdGVGcm9tOiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICBpZiAodGhpcy5fcmZiX2Nvbm5lY3Rpb25fc3RhdGUgIT09ICdjb25uZWN0ZWQnIHx8IHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybjsgfVxuICAgICAgICBSRkIubWVzc2FnZXMuY2xpZW50Q3V0VGV4dCh0aGlzLl9zb2NrLCB0ZXh0KTtcbiAgICB9LFxuXG4gICAgLy8gPT09PT0gUFJJVkFURSBNRVRIT0RTID09PT09XG5cbiAgICBfY29ubmVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2cuRGVidWcoXCI+PiBSRkIuY29ubmVjdFwiKTtcblxuICAgICAgICBMb2cuSW5mbyhcImNvbm5lY3RpbmcgdG8gXCIgKyB0aGlzLl91cmwpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXZWJTb2NrZXQub25vcGVuIHRyYW5zaXRpb25zIHRvIHRoZSBSRkIgaW5pdCBzdGF0ZXNcbiAgICAgICAgICAgIHRoaXMuX3NvY2sub3Blbih0aGlzLl91cmwsIFsnYmluYXJ5J10pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIkludmFsaWQgaG9zdCBvciBwb3J0IChcIiArIGUgKyBcIilcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJFcnJvciB3aGVuIG9wZW5pbmcgc29ja2V0IChcIiArIGUgKyBcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIG91ciBlbGVtZW50cyBwYXJ0IG9mIHRoZSBwYWdlXG4gICAgICAgIHRoaXMuX3RhcmdldC5hcHBlbmRDaGlsZCh0aGlzLl9zY3JlZW4pO1xuXG4gICAgICAgIC8vIE1vbml0b3Igc2l6ZSBjaGFuZ2VzIG9mIHRoZSBzY3JlZW5cbiAgICAgICAgLy8gRklYTUU6IFVzZSBSZXNpemVPYnNlcnZlciwgb3IgaGlkZGVuIG92ZXJmbG93XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9ldmVudEhhbmRsZXJzLndpbmRvd1Jlc2l6ZSk7XG5cbiAgICAgICAgLy8gQWx3YXlzIGdyYWIgZm9jdXMgb24gc29tZSBraW5kIG9mIGNsaWNrIGV2ZW50XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2V2ZW50SGFuZGxlcnMuZm9jdXNDYW52YXMpO1xuICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fZXZlbnRIYW5kbGVycy5mb2N1c0NhbnZhcyk7XG5cbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgUkZCLmNvbm5lY3RcIik7XG4gICAgfSxcblxuICAgIF9kaXNjb25uZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvZy5EZWJ1ZyhcIj4+IFJGQi5kaXNjb25uZWN0XCIpO1xuICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9ldmVudEhhbmRsZXJzLmZvY3VzQ2FudmFzKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX2V2ZW50SGFuZGxlcnMuZm9jdXNDYW52YXMpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fZXZlbnRIYW5kbGVycy53aW5kb3dSZXNpemUpO1xuICAgICAgICB0aGlzLl9rZXlib2FyZC51bmdyYWIoKTtcbiAgICAgICAgdGhpcy5fbW91c2UudW5ncmFiKCk7XG4gICAgICAgIHRoaXMuX3NvY2suY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fcHJpbnRfc3RhdHMoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5yZW1vdmVDaGlsZCh0aGlzLl9zY3JlZW4pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAvLyBTb21lIGNhc2VzIHdoZXJlIHRoZSBpbml0aWFsIGNvbm5lY3Rpb24gZmFpbHNcbiAgICAgICAgICAgICAgICAvLyBjYW4gZGlzY29ubmVjdCBiZWZvcmUgdGhlIF9zY3JlZW4gaXMgY3JlYXRlZFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXNpemVUaW1lb3V0KTtcbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgUkZCLmRpc2Nvbm5lY3RcIik7XG4gICAgfSxcblxuICAgIF9wcmludF9zdGF0czogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdHMgPSB0aGlzLl9lbmNTdGF0cztcblxuICAgICAgICBMb2cuSW5mbyhcIkVuY29kaW5nIHN0YXRzIGZvciB0aGlzIGNvbm5lY3Rpb246XCIpO1xuICAgICAgICBPYmplY3Qua2V5cyhzdGF0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgcyA9IHN0YXRzW2tleV07XG4gICAgICAgICAgICBpZiAoc1swXSArIHNbMV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCIgICAgXCIgKyBlbmNvZGluZ05hbWUoa2V5KSArIFwiOiBcIiArIHNbMF0gKyBcIiByZWN0c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgTG9nLkluZm8oXCJFbmNvZGluZyBzdGF0cyBzaW5jZSBwYWdlIGxvYWQ6XCIpO1xuICAgICAgICBPYmplY3Qua2V5cyhzdGF0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgcyA9IHN0YXRzW2tleV07XG4gICAgICAgICAgICBMb2cuSW5mbyhcIiAgICBcIiArIGVuY29kaW5nTmFtZShrZXkpICsgXCI6IFwiICsgc1sxXSArIFwiIHJlY3RzXCIpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgX2ZvY3VzQ2FudmFzOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBSZXNwZWN0IGVhcmxpZXIgaGFuZGxlcnMnIHJlcXVlc3QgdG8gbm90IGRvIHNpZGUtZWZmZWN0c1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmZvY3VzT25DbGljaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgIH0sXG5cbiAgICBfd2luZG93UmVzaXplOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gSWYgdGhlIHdpbmRvdyByZXNpemVkIHRoZW4gb3VyIHNjcmVlbiBlbGVtZW50IG1pZ2h0IGhhdmVcbiAgICAgICAgLy8gYXMgd2VsbC4gVXBkYXRlIHRoZSB2aWV3cG9ydCBkaW1lbnNpb25zLlxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNsaXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVNlc3Npb24pIHtcbiAgICAgICAgICAgIC8vIFJlcXVlc3QgY2hhbmdpbmcgdGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbW90ZSBkaXNwbGF5IHRvXG4gICAgICAgICAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgbG9jYWwgYnJvd3NlciB2aWV3cG9ydC5cblxuICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gbm90IHNlbmQgbXVsdGlwbGUgcmVxdWVzdHMgYmVmb3JlIHRoZSBicm93c2VyLXJlc2l6ZVxuICAgICAgICAgICAgLy8gaXMgZmluaXNoZWQgd2Ugd2FpdCAwLjUgc2Vjb25kcyBiZWZvcmUgc2VuZGluZyB0aGUgcmVxdWVzdC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXNpemVUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX3JlcXVlc3RSZW1vdGVSZXNpemUuYmluZCh0aGlzKSwgNTAwKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgc3RhdGUgb2YgY2xpcHBpbmcgaW4gRGlzcGxheSBvYmplY3QsIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgLy8gY29uZmlndXJlZCB2aWV3cG9ydCBtYXRjaGVzIHRoZSBjdXJyZW50IHNjcmVlbiBzaXplXG4gICAgX3VwZGF0ZUNsaXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cl9jbGlwID0gdGhpcy5fZGlzcGxheS5jbGlwVmlld3BvcnQ7XG4gICAgICAgIHZhciBuZXdfY2xpcCA9IHRoaXMuX2NsaXBWaWV3cG9ydDtcblxuICAgICAgICBpZiAodGhpcy5fc2NhbGVWaWV3cG9ydCkge1xuICAgICAgICAgICAgLy8gRGlzYWJsZSB2aWV3cG9ydCBjbGlwcGluZyBpZiB3ZSBhcmUgc2NhbGluZ1xuICAgICAgICAgICAgbmV3X2NsaXAgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJfY2xpcCAhPT0gbmV3X2NsaXApIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuY2xpcFZpZXdwb3J0ID0gbmV3X2NsaXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3X2NsaXApIHtcbiAgICAgICAgICAgIC8vIFdoZW4gY2xpcHBpbmcgaXMgZW5hYmxlZCwgdGhlIHNjcmVlbiBpcyBsaW1pdGVkIHRvXG4gICAgICAgICAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9zY3JlZW5TaXplKCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnZpZXdwb3J0Q2hhbmdlU2l6ZShzaXplLncsIHNpemUuaCk7XG4gICAgICAgICAgICB0aGlzLl9maXhTY3JvbGxiYXJzKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3VwZGF0ZVNjYWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2NhbGVWaWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5zY2FsZSA9IDEuMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzaXplID0gdGhpcy5fc2NyZWVuU2l6ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5hdXRvc2NhbGUoc2l6ZS53LCBzaXplLmgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpeFNjcm9sbGJhcnMoKTtcbiAgICB9LFxuXG4gICAgLy8gUmVxdWVzdHMgYSBjaGFuZ2Ugb2YgcmVtb3RlIGRlc2t0b3Agc2l6ZS4gVGhpcyBtZXNzYWdlIGlzIGFuIGV4dGVuc2lvblxuICAgIC8vIGFuZCBtYXkgb25seSBiZSBzZW50IGlmIHdlIGhhdmUgcmVjZWl2ZWQgYW4gRXh0ZW5kZWREZXNrdG9wU2l6ZSBtZXNzYWdlXG4gICAgX3JlcXVlc3RSZW1vdGVSZXNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZVRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9yZXNpemVUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICBpZiAoIXRoaXMuX3Jlc2l6ZVNlc3Npb24gfHwgdGhpcy5fdmlld09ubHkgfHxcbiAgICAgICAgICAgICF0aGlzLl9zdXBwb3J0c1NldERlc2t0b3BTaXplKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuX3NjcmVlblNpemUoKTtcbiAgICAgICAgUkZCLm1lc3NhZ2VzLnNldERlc2t0b3BTaXplKHRoaXMuX3NvY2ssIHNpemUudywgc2l6ZS5oLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NyZWVuX2lkLCB0aGlzLl9zY3JlZW5fZmxhZ3MpO1xuXG4gICAgICAgIExvZy5EZWJ1ZygnUmVxdWVzdGVkIG5ldyBkZXNrdG9wIHNpemU6ICcgK1xuICAgICAgICAgICAgICAgICAgIHNpemUudyArICd4JyArIHNpemUuaCk7XG4gICAgfSxcblxuICAgIC8vIEdldHMgdGhlIHRoZSBzaXplIG9mIHRoZSBhdmFpbGFibGUgc2NyZWVuXG4gICAgX3NjcmVlblNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgdzogdGhpcy5fc2NyZWVuLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICAgICBoOiB0aGlzLl9zY3JlZW4ub2Zmc2V0SGVpZ2h0IH07XG4gICAgfSxcblxuICAgIF9maXhTY3JvbGxiYXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBoYWNrIGJlY2F1c2UgQ2hyb21lIHNjcmV3cyB1cCB0aGUgY2FsY3VsYXRpb25cbiAgICAgICAgLy8gZm9yIHdoZW4gc2Nyb2xsYmFycyBhcmUgbmVlZGVkLiBTbyB0byBmaXggaXQgd2UgdGVtcG9yYXJpbHlcbiAgICAgICAgLy8gdG9nZ2xlIHRoZW0gb2ZmIGFuZCBvbi5cbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl9zY3JlZW4uc3R5bGUub3ZlcmZsb3c7XG4gICAgICAgIHRoaXMuX3NjcmVlbi5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAvLyBGb3JjZSBDaHJvbWUgdG8gcmVjYWxjdWxhdGUgdGhlIGxheW91dCBieSBhc2tpbmcgZm9yXG4gICAgICAgIC8vIGFuIGVsZW1lbnQncyBkaW1lbnNpb25zXG4gICAgICAgIHRoaXMuX3NjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5fc2NyZWVuLnN0eWxlLm92ZXJmbG93ID0gb3JpZztcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDb25uZWN0aW9uIHN0YXRlczpcbiAgICAgKiAgIGNvbm5lY3RpbmdcbiAgICAgKiAgIGNvbm5lY3RlZFxuICAgICAqICAgZGlzY29ubmVjdGluZ1xuICAgICAqICAgZGlzY29ubmVjdGVkIC0gcGVybWFuZW50IHN0YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZTogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBvbGRzdGF0ZSA9IHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gb2xkc3RhdGUpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIkFscmVhZHkgaW4gc3RhdGUgJ1wiICsgc3RhdGUgKyBcIicsIGlnbm9yaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlICdkaXNjb25uZWN0ZWQnIHN0YXRlIGlzIHBlcm1hbmVudCBmb3IgZWFjaCBSRkIgb2JqZWN0XG4gICAgICAgIGlmIChvbGRzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIExvZy5FcnJvcihcIlRyaWVkIGNoYW5naW5nIHN0YXRlIG9mIGEgZGlzY29ubmVjdGVkIFJGQiBvYmplY3RcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIHRyYW5zaXRpb25zIGJlZm9yZSBkb2luZyBhbnl0aGluZ1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIGlmIChvbGRzdGF0ZSAhPT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkJhZCB0cmFuc2l0aW9uIHRvIGNvbm5lY3RlZCBzdGF0ZSwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldmlvdXMgY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBvbGRzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnZGlzY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiQmFkIHRyYW5zaXRpb24gdG8gZGlzY29ubmVjdGVkIHN0YXRlLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91cyBjb25uZWN0aW9uIHN0YXRlOiBcIiArIG9sZHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJCYWQgdHJhbnNpdGlvbiB0byBjb25uZWN0aW5nIHN0YXRlLCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2aW91cyBjb25uZWN0aW9uIHN0YXRlOiBcIiArIG9sZHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgaWYgKG9sZHN0YXRlICE9PSAnY29ubmVjdGVkJyAmJiBvbGRzdGF0ZSAhPT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkJhZCB0cmFuc2l0aW9uIHRvIGRpc2Nvbm5lY3Rpbmcgc3RhdGUsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZpb3VzIGNvbm5lY3Rpb24gc3RhdGU6IFwiICsgb2xkc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIlVua25vd24gY29ubmVjdGlvbiBzdGF0ZTogXCIgKyBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhdGUgY2hhbmdlIGFjdGlvbnNcblxuICAgICAgICB0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIHZhciBzbXNnID0gXCJOZXcgc3RhdGUgJ1wiICsgc3RhdGUgKyBcIicsIHdhcyAnXCIgKyBvbGRzdGF0ZSArIFwiJy5cIjtcbiAgICAgICAgTG9nLkRlYnVnKHNtc2cpO1xuXG4gICAgICAgIGlmICh0aGlzLl9kaXNjb25uVGltZXIgJiYgc3RhdGUgIT09ICdkaXNjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiQ2xlYXJpbmcgZGlzY29ubmVjdCB0aW1lclwiKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kaXNjb25uVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5fZGlzY29ublRpbWVyID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGdldCBhIGRvdWJsZSBldmVudFxuICAgICAgICAgICAgdGhpcy5fc29jay5vZmYoJ2Nsb3NlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY29ubmVjdFwiLCB7IGRldGFpbDoge30gfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzY29ubmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzY29ublRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5FcnJvcihcIkRpc2Nvbm5lY3Rpb24gdGltZWQgb3V0LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksIERJU0NPTk5FQ1RfVElNRU9VVCAqIDEwMDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBcImRpc2Nvbm5lY3RcIiwgeyBkZXRhaWw6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsZWFuOiB0aGlzLl9yZmJfY2xlYW5fZGlzY29ubmVjdCB9IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogUHJpbnQgZXJyb3JzIGFuZCBkaXNjb25uZWN0XG4gICAgICpcbiAgICAgKiBUaGUgcGFyYW1ldGVyICdkZXRhaWxzJyBpcyB1c2VkIGZvciBpbmZvcm1hdGlvbiB0aGF0XG4gICAgICogc2hvdWxkIGJlIGxvZ2dlZCBidXQgbm90IHNlbnQgdG8gdGhlIHVzZXIgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIF9mYWlsOiBmdW5jdGlvbiAoZGV0YWlscykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9jb25uZWN0aW9uX3N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0aW5nJzpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJGYWlsZWQgd2hlbiBkaXNjb25uZWN0aW5nOiBcIiArIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJGYWlsZWQgd2hpbGUgY29ubmVjdGVkOiBcIiArIGRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiRmFpbGVkIHdoZW4gY29ubmVjdGluZzogXCIgKyBkZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiUkZCIGZhaWx1cmU6IFwiICsgZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmZiX2NsZWFuX2Rpc2Nvbm5lY3QgPSBmYWxzZTsgLy9UaGlzIGlzIHNlbnQgdG8gdGhlIFVJXG5cbiAgICAgICAgLy8gVHJhbnNpdGlvbiB0byBkaXNjb25uZWN0ZWQgd2l0aG91dCB3YWl0aW5nIGZvciBzb2NrZXQgdG8gY2xvc2VcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXRlKCdkaXNjb25uZWN0aW5nJyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBfc2V0Q2FwYWJpbGl0eTogZnVuY3Rpb24gKGNhcCwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2NhcGFiaWxpdGllc1tjYXBdID0gdmFsO1xuICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjYXBhYmlsaXRpZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IGNhcGFiaWxpdGllczogdGhpcy5fY2FwYWJpbGl0aWVzIH0gfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSxcblxuICAgIF9oYW5kbGVfbWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUWxlbigpID09PSAwKSB7XG4gICAgICAgICAgICBMb2cuV2FybihcImhhbmRsZV9tZXNzYWdlIGNhbGxlZCBvbiBhbiBlbXB0eSByZWNlaXZlIHF1ZXVlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJHb3QgZGF0YSB3aGlsZSBkaXNjb25uZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9mbHVzaGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ub3JtYWxfbXNnKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRbGVuKCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0X21zZygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9oYW5kbGVLZXlFdmVudDogZnVuY3Rpb24gKGtleXN5bSwgY29kZSwgZG93bikge1xuICAgICAgICB0aGlzLnNlbmRLZXkoa2V5c3ltLCBjb2RlLCBkb3duKTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZU1vdXNlQnV0dG9uOiBmdW5jdGlvbiAoeCwgeSwgZG93biwgYm1hc2spIHtcbiAgICAgICAgaWYgKGRvd24pIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlX2J1dHRvbk1hc2sgfD0gYm1hc2s7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZV9idXR0b25NYXNrICY9IH5ibWFzaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyYWdWaWV3cG9ydCkge1xuICAgICAgICAgICAgaWYgKGRvd24gJiYgIXRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydERyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydERyYWdQb3MgPSB7J3gnOiB4LCAneSc6IHl9O1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIFNraXAgc2VuZGluZyBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGFjdHVhbGx5IHBlcmZvcm1lZCBhIGRyYWcgdGhlbiB3ZSBhcmUgZG9uZVxuICAgICAgICAgICAgICAgIC8vIGhlcmUgYW5kIHNob3VsZCBub3Qgc2VuZCBhbnkgbW91c2UgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZpZXdwb3J0SGFzTW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB3ZSB0cmVhdCB0aGlzIGFzIGEgbW91c2UgY2xpY2sgZXZlbnQuXG4gICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgYnV0dG9uIGRvd24gZXZlbnQgaGVyZSwgYXMgdGhlIGJ1dHRvbiB1cFxuICAgICAgICAgICAgICAgIC8vIGV2ZW50IGlzIHNlbnQgYXQgdGhlIGVuZCBvZiB0aGlzIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIFJGQi5tZXNzYWdlcy5wb2ludGVyRXZlbnQodGhpcy5fc29jayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYWJzWCh4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYWJzWSh5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJtYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH0gLy8gVmlldyBvbmx5LCBza2lwIG1vdXNlIGV2ZW50c1xuXG4gICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcpIHsgcmV0dXJuOyB9XG4gICAgICAgIFJGQi5tZXNzYWdlcy5wb2ludGVyRXZlbnQodGhpcy5fc29jaywgdGhpcy5fZGlzcGxheS5hYnNYKHgpLCB0aGlzLl9kaXNwbGF5LmFic1koeSksIHRoaXMuX21vdXNlX2J1dHRvbk1hc2spO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlTW91c2VNb3ZlOiBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy5fdmlld3BvcnREcmFnZ2luZykge1xuICAgICAgICAgICAgdmFyIGRlbHRhWCA9IHRoaXMuX3ZpZXdwb3J0RHJhZ1Bvcy54IC0geDtcbiAgICAgICAgICAgIHZhciBkZWx0YVkgPSB0aGlzLl92aWV3cG9ydERyYWdQb3MueSAtIHk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBnb2FsIGlzIHRvIHRyaWdnZXIgb24gYSBjZXJ0YWluIHBoeXNpY2FsIHdpZHRoLCB0aGVcbiAgICAgICAgICAgIC8vIGRldmljZVBpeGVsUmF0aW8gYnJpbmdzIHVzIGEgYml0IGNsb3NlciBidXQgaXMgbm90IG9wdGltYWwuXG4gICAgICAgICAgICB2YXIgZHJhZ1RocmVzaG9sZCA9IDEwICogKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fdmlld3BvcnRIYXNNb3ZlZCB8fCAoTWF0aC5hYnMoZGVsdGFYKSA+IGRyYWdUaHJlc2hvbGQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhkZWx0YVkpID4gZHJhZ1RocmVzaG9sZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydEhhc01vdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0RHJhZ1BvcyA9IHsneCc6IHgsICd5JzogeX07XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS52aWV3cG9ydENoYW5nZVBvcyhkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNraXAgc2VuZGluZyBtb3VzZSBldmVudHNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92aWV3T25seSkgeyByZXR1cm47IH0gLy8gVmlldyBvbmx5LCBza2lwIG1vdXNlIGV2ZW50c1xuXG4gICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcpIHsgcmV0dXJuOyB9XG4gICAgICAgIFJGQi5tZXNzYWdlcy5wb2ludGVyRXZlbnQodGhpcy5fc29jaywgdGhpcy5fZGlzcGxheS5hYnNYKHgpLCB0aGlzLl9kaXNwbGF5LmFic1koeSksIHRoaXMuX21vdXNlX2J1dHRvbk1hc2spO1xuICAgIH0sXG5cbiAgICAvLyBNZXNzYWdlIEhhbmRsZXJzXG5cbiAgICBfbmVnb3RpYXRlX3Byb3RvY29sX3ZlcnNpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclFsZW4oKSA8IDEyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlJlY2VpdmVkIGluY29tcGxldGUgcHJvdG9jb2wgdmVyc2lvbi5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ZlcnNpb24gPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIoMTIpLnN1YnN0cig0LCA3KTtcbiAgICAgICAgTG9nLkluZm8oXCJTZXJ2ZXIgUHJvdG9jb2xWZXJzaW9uOiBcIiArIHN2ZXJzaW9uKTtcbiAgICAgICAgdmFyIGlzX3JlcGVhdGVyID0gMDtcbiAgICAgICAgc3dpdGNoIChzdmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSBcIjAwMC4wMDBcIjogIC8vIFVsdHJhVk5DIHJlcGVhdGVyXG4gICAgICAgICAgICAgICAgaXNfcmVwZWF0ZXIgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjAwMy4wMDNcIjpcbiAgICAgICAgICAgIGNhc2UgXCIwMDMuMDA2XCI6ICAvLyBVbHRyYVZOQ1xuICAgICAgICAgICAgY2FzZSBcIjAwMy44ODlcIjogIC8vIEFwcGxlIFJlbW90ZSBEZXNrdG9wXG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX3ZlcnNpb24gPSAzLjM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiMDAzLjAwN1wiOlxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMy43O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjAwMy4wMDhcIjpcbiAgICAgICAgICAgIGNhc2UgXCIwMDQuMDAwXCI6ICAvLyBJbnRlbCBBTVQgS1ZNXG4gICAgICAgICAgICBjYXNlIFwiMDA0LjAwMVwiOiAgLy8gUmVhbFZOQyA0LjZcbiAgICAgICAgICAgIGNhc2UgXCIwMDUuMDAwXCI6ICAvLyBSZWFsVk5DIDUuM1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gMy44O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIkludmFsaWQgc2VydmVyIHZlcnNpb24gXCIgKyBzdmVyc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNfcmVwZWF0ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXBlYXRlcklEID0gXCJJRDpcIiArIHRoaXMuX3JlcGVhdGVySUQ7XG4gICAgICAgICAgICB3aGlsZSAocmVwZWF0ZXJJRC5sZW5ndGggPCAyNTApIHtcbiAgICAgICAgICAgICAgICByZXBlYXRlcklEICs9IFwiXFwwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmRfc3RyaW5nKHJlcGVhdGVySUQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmZiX3ZlcnNpb24gPiB0aGlzLl9yZmJfbWF4X3ZlcnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3JmYl92ZXJzaW9uID0gdGhpcy5fcmZiX21heF92ZXJzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN2ZXJzaW9uID0gXCIwMFwiICsgcGFyc2VJbnQodGhpcy5fcmZiX3ZlcnNpb24sIDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgIFwiLjAwXCIgKyAoKHRoaXMuX3JmYl92ZXJzaW9uICogMTApICUgMTApO1xuICAgICAgICB0aGlzLl9zb2NrLnNlbmRfc3RyaW5nKFwiUkZCIFwiICsgY3ZlcnNpb24gKyBcIlxcblwiKTtcbiAgICAgICAgTG9nLkRlYnVnKCdTZW50IFByb3RvY29sVmVyc2lvbjogJyArIGN2ZXJzaW9uKTtcblxuICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdTZWN1cml0eSc7XG4gICAgfSxcblxuICAgIF9uZWdvdGlhdGVfc2VjdXJpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUG9seWZpbGwgc2luY2UgSUUgYW5kIFBoYW50b21KUyBkb2Vzbid0IGhhdmVcbiAgICAgICAgLy8gVHlwZWRBcnJheS5pbmNsdWRlcygpXG4gICAgICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGl0ZW0sIGFycmF5KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycmF5W2ldID09PSBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yZmJfdmVyc2lvbiA+PSAzLjcpIHtcbiAgICAgICAgICAgIC8vIFNlcnZlciBzZW5kcyBzdXBwb3J0ZWQgbGlzdCwgY2xpZW50IGRlY2lkZXNcbiAgICAgICAgICAgIHZhciBudW1fdHlwZXMgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJzZWN1cml0eSB0eXBlXCIsIG51bV90eXBlcywgMSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIGlmIChudW1fdHlwZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlY3VyaXR5X2ZhaWx1cmUoXCJubyBzZWN1cml0eSB0eXBlc1wiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHR5cGVzID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMobnVtX3R5cGVzKTtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIlNlcnZlciBzZWN1cml0eSB0eXBlczogXCIgKyB0eXBlcyk7XG5cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGVhY2ggYXV0aCBpbiBwcmVmZXJyZWQgb3JkZXJcbiAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDA7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZXMoMSwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMTsgLy8gTm9uZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcygyMiwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMjI7IC8vIFhWUFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmNsdWRlcygxNiwgdHlwZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX2F1dGhfc2NoZW1lID0gMTY7IC8vIFRpZ2h0XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluY2x1ZGVzKDIsIHR5cGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDI7IC8vIFZOQyBBdXRoXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgc2VjdXJpdHkgdHlwZXMgKHR5cGVzOiBcIiArIHR5cGVzICsgXCIpXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmQoW3RoaXMuX3JmYl9hdXRoX3NjaGVtZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIGRlY2lkZXNcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInNlY3VyaXR5IHNjaGVtZVwiLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSA9ICdBdXRoZW50aWNhdGlvbic7XG4gICAgICAgIExvZy5EZWJ1ZygnQXV0aGVudGljYXRpbmcgdXNpbmcgc2NoZW1lOiAnICsgdGhpcy5fcmZiX2F1dGhfc2NoZW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdF9tc2coKTsgLy8ganVtcCB0byBhdXRoZW50aWNhdGlvblxuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEdldCB0aGUgc2VjdXJpdHkgZmFpbHVyZSByZWFzb24gaWYgc2VudCBmcm9tIHRoZSBzZXJ2ZXIgYW5kXG4gICAgICogc2VuZCB0aGUgJ3NlY3VyaXR5ZmFpbHVyZScgZXZlbnQuXG4gICAgICpcbiAgICAgKiAtIFRoZSBvcHRpb25hbCBwYXJhbWV0ZXIgY29udGV4dCBjYW4gYmUgdXNlZCB0byBhZGQgc29tZSBleHRyYVxuICAgICAqICAgY29udGV4dCB0byB0aGUgbG9nIG91dHB1dC5cbiAgICAgKlxuICAgICAqIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlciBzZWN1cml0eV9yZXN1bHRfc3RhdHVzIGNhbiBiZSB1c2VkIHRvXG4gICAgICogICBhZGQgYSBjdXN0b20gc3RhdHVzIGNvZGUgdG8gdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIF9oYW5kbGVfc2VjdXJpdHlfZmFpbHVyZTogZnVuY3Rpb24gKGNvbnRleHQsIHNlY3VyaXR5X3Jlc3VsdF9zdGF0dXMpIHtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBcIiBvbiBcIiArIGNvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHNlY3VyaXR5X3Jlc3VsdF9zdGF0dXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzZWN1cml0eV9yZXN1bHRfc3RhdHVzID0gMTsgLy8gZmFpbFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwicmVhc29uIGxlbmd0aFwiLCA0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdHJsZW4gPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICBsZXQgcmVhc29uID0gXCJcIjtcblxuICAgICAgICBpZiAoc3RybGVuID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwicmVhc29uXCIsIHN0cmxlbiwgOCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICByZWFzb24gPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIoc3RybGVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWFzb24gIT09IFwiXCIpIHtcblxuICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICAgIFwic2VjdXJpdHlmYWlsdXJlXCIsXG4gICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgc3RhdHVzOiBzZWN1cml0eV9yZXN1bHRfc3RhdHVzLCByZWFzb246IHJlYXNvbiB9IH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJTZWN1cml0eSBuZWdvdGlhdGlvbiBmYWlsZWRcIiArIGNvbnRleHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKHJlYXNvbjogXCIgKyByZWFzb24gKyBcIilcIik7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcbiAgICAgICAgICAgICAgICBcInNlY3VyaXR5ZmFpbHVyZVwiLFxuICAgICAgICAgICAgICAgIHsgZGV0YWlsOiB7IHN0YXR1czogc2VjdXJpdHlfcmVzdWx0X3N0YXR1cyB9IH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJTZWN1cml0eSBuZWdvdGlhdGlvbiBmYWlsZWRcIiArIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIGF1dGhlbnRpY2F0aW9uXG4gICAgX25lZ290aWF0ZV94dnBfYXV0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JmYl9jcmVkZW50aWFscy51c2VybmFtZSB8fFxuICAgICAgICAgICAgIXRoaXMuX3JmYl9jcmVkZW50aWFscy5wYXNzd29yZCB8fFxuICAgICAgICAgICAgIXRoaXMuX3JmYl9jcmVkZW50aWFscy50YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImNyZWRlbnRpYWxzcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogeyB0eXBlczogW1widXNlcm5hbWVcIiwgXCJwYXNzd29yZFwiLCBcInRhcmdldFwiXSB9IH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4dnBfYXV0aF9zdHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuX3JmYl9jcmVkZW50aWFscy51c2VybmFtZS5sZW5ndGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5fcmZiX2NyZWRlbnRpYWxzLnRhcmdldC5sZW5ndGgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9jcmVkZW50aWFscy51c2VybmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfY3JlZGVudGlhbHMudGFyZ2V0O1xuICAgICAgICB0aGlzLl9zb2NrLnNlbmRfc3RyaW5nKHh2cF9hdXRoX3N0cik7XG4gICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSA9IDI7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfYXV0aGVudGljYXRpb24oKTtcbiAgICB9LFxuXG4gICAgX25lZ290aWF0ZV9zdGRfdm5jX2F1dGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiYXV0aCBjaGFsbGVuZ2VcIiwgMTYpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIGlmICghdGhpcy5fcmZiX2NyZWRlbnRpYWxzLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgdHlwZXM6IFtcInBhc3N3b3JkXCJdIH0gfSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyhkaXJlY3R4bWFuMTIpOiBtYWtlIGdlbkRFUyBub3QgcmVxdWlyZSBhbiBBcnJheVxuICAgICAgICB2YXIgY2hhbGxlbmdlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoMTYpKTtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gUkZCLmdlbkRFUyh0aGlzLl9yZmJfY3JlZGVudGlhbHMucGFzc3dvcmQsIGNoYWxsZW5nZSk7XG4gICAgICAgIHRoaXMuX3NvY2suc2VuZChyZXNwb25zZSk7XG4gICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gXCJTZWN1cml0eVJlc3VsdFwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX25lZ290aWF0ZV90aWdodF90dW5uZWxzOiBmdW5jdGlvbiAobnVtVHVubmVscykge1xuICAgICAgICB2YXIgY2xpZW50U3VwcG9ydGVkVHVubmVsVHlwZXMgPSB7XG4gICAgICAgICAgICAwOiB7IHZlbmRvcjogJ1RHSFQnLCBzaWduYXR1cmU6ICdOT1RVTk5FTCcgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXMgPSB7fTtcbiAgICAgICAgLy8gcmVjZWl2ZSB0dW5uZWwgY2FwYWJpbGl0aWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtVHVubmVsczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2FwX2NvZGUgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICAgICAgdmFyIGNhcF92ZW5kb3IgPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIoNCk7XG4gICAgICAgICAgICB2YXIgY2FwX3NpZ25hdHVyZSA9IHRoaXMuX3NvY2suclFzaGlmdFN0cig4KTtcbiAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZFR1bm5lbFR5cGVzW2NhcF9jb2RlXSA9IHsgdmVuZG9yOiBjYXBfdmVuZG9yLCBzaWduYXR1cmU6IGNhcF9zaWduYXR1cmUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNob29zZSB0aGUgbm90dW5uZWwgdHlwZVxuICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMF0pIHtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJTdXBwb3J0ZWRUdW5uZWxUeXBlc1swXS52ZW5kb3IgIT0gY2xpZW50U3VwcG9ydGVkVHVubmVsVHlwZXNbMF0udmVuZG9yIHx8XG4gICAgICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkVHVubmVsVHlwZXNbMF0uc2lnbmF0dXJlICE9IGNsaWVudFN1cHBvcnRlZFR1bm5lbFR5cGVzWzBdLnNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiQ2xpZW50J3MgdHVubmVsIHR5cGUgaGFkIHRoZSBpbmNvcnJlY3QgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmVuZG9yIG9yIHNpZ25hdHVyZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NvY2suc2VuZChbMCwgMCwgMCwgMF0pOyAgLy8gdXNlIE5PVFVOTkVMXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHdhaXQgdW50aWwgd2UgcmVjZWl2ZSB0aGUgc3ViIGF1dGggY291bnQgdG8gY29udGludWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiU2VydmVyIHdhbnRlZCB0dW5uZWxzLCBidXQgZG9lc24ndCBzdXBwb3J0IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhlIG5vdHVubmVsIHR5cGVcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX25lZ290aWF0ZV90aWdodF9hdXRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmZiX3RpZ2h0dm5jKSB7ICAvLyBmaXJzdCBwYXNzLCBkbyB0aGUgdHVubmVsIG5lZ290aWF0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJudW0gdHVubmVsc1wiLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHZhciBudW1UdW5uZWxzID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgICAgIGlmIChudW1UdW5uZWxzID4gMCAmJiB0aGlzLl9zb2NrLnJRd2FpdChcInR1bm5lbCBjYXBhYmlsaXRpZXNcIiwgMTYgKiBudW1UdW5uZWxzLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgdGhpcy5fcmZiX3RpZ2h0dm5jID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKG51bVR1bm5lbHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmVnb3RpYXRlX3RpZ2h0X3R1bm5lbHMobnVtVHVubmVscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgLy8gd2FpdCB1bnRpbCB3ZSByZWNlaXZlIHRoZSBzdWIgYXV0aCB0byBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2Vjb25kIHBhc3MsIGRvIHRoZSBzdWItYXV0aCBuZWdvdGlhdGlvblxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJzdWIgYXV0aCBjb3VudFwiLCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdmFyIHN1YkF1dGhDb3VudCA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgIGlmIChzdWJBdXRoQ291bnQgPT09IDApIHsgIC8vIGVtcHR5IHN1Yi1hdXRoIGxpc3QgcmVjZWl2ZWQgbWVhbnMgJ25vIGF1dGgnIHN1YnR5cGUgc2VsZWN0ZWRcbiAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlY3VyaXR5UmVzdWx0JztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic3ViIGF1dGggY2FwYWJpbGl0aWVzXCIsIDE2ICogc3ViQXV0aENvdW50LCA0KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICB2YXIgY2xpZW50U3VwcG9ydGVkVHlwZXMgPSB7XG4gICAgICAgICAgICAnU1REVk5PQVVUSF9fJzogMSxcbiAgICAgICAgICAgICdTVERWVk5DQVVUSF8nOiAyXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNlcnZlclN1cHBvcnRlZFR5cGVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJBdXRoQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhcE51bSA9IHRoaXMuX3NvY2suclFzaGlmdDMyKCk7XG4gICAgICAgICAgICB2YXIgY2FwYWJpbGl0aWVzID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKDEyKTtcbiAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZFR5cGVzLnB1c2goY2FwYWJpbGl0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGF1dGhUeXBlIGluIGNsaWVudFN1cHBvcnRlZFR5cGVzKSB7XG4gICAgICAgICAgICBpZiAoc2VydmVyU3VwcG9ydGVkVHlwZXMuaW5kZXhPZihhdXRoVHlwZSkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnNlbmQoWzAsIDAsIDAsIGNsaWVudFN1cHBvcnRlZFR5cGVzW2F1dGhUeXBlXV0pO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhdXRoVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdTVERWTk9BVVRIX18nOiAgLy8gbm8gYXV0aFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmZiX2luaXRfc3RhdGUgPSAnU2VjdXJpdHlSZXN1bHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NURFZWTkNBVVRIXyc6IC8vIFZOQyBhdXRoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfYXV0aF9zY2hlbWUgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRfbXNnKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVuc3VwcG9ydGVkIHRpbnkgYXV0aCBzY2hlbWUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIoc2NoZW1lOiBcIiArIGF1dGhUeXBlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiTm8gc3VwcG9ydGVkIHN1Yi1hdXRoIHR5cGVzIVwiKTtcbiAgICB9LFxuXG4gICAgX25lZ290aWF0ZV9hdXRoZW50aWNhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3JmYl9hdXRoX3NjaGVtZSkge1xuICAgICAgICAgICAgY2FzZSAwOiAgLy8gY29ubmVjdGlvbiBmYWlsZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlY3VyaXR5X2ZhaWx1cmUoXCJhdXRoZW50aWNhdGlvbiBzY2hlbWVcIik7XG5cbiAgICAgICAgICAgIGNhc2UgMTogIC8vIG5vIGF1dGhcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmZiX3ZlcnNpb24gPj0gMy44KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlY3VyaXR5UmVzdWx0JztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ0NsaWVudEluaXRpYWxpc2F0aW9uJztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdF9tc2coKTtcblxuICAgICAgICAgICAgY2FzZSAyMjogIC8vIFhWUCBhdXRoXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV94dnBfYXV0aCgpO1xuXG4gICAgICAgICAgICBjYXNlIDI6ICAvLyBWTkMgYXV0aGVudGljYXRpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3N0ZF92bmNfYXV0aCgpO1xuXG4gICAgICAgICAgICBjYXNlIDE2OiAgLy8gVGlnaHRWTkMgU2VjdXJpdHkgVHlwZVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfdGlnaHRfYXV0aCgpO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgYXV0aCBzY2hlbWUgKHNjaGVtZTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9hdXRoX3NjaGVtZSArIFwiKVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfaGFuZGxlX3NlY3VyaXR5X3Jlc3VsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoJ1ZOQyBhdXRoIHJlc3BvbnNlICcsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDApIHsgLy8gT0tcbiAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ0NsaWVudEluaXRpYWxpc2F0aW9uJztcbiAgICAgICAgICAgIExvZy5EZWJ1ZygnQXV0aGVudGljYXRpb24gT0snKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbml0X21zZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JmYl92ZXJzaW9uID49IDMuOCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VjdXJpdHlfZmFpbHVyZShcInNlY3VyaXR5IHJlc3VsdFwiLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJzZWN1cml0eWZhaWx1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHsgc3RhdHVzOiBzdGF0dXMgfSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJTZWN1cml0eSBoYW5kc2hha2UgZmFpbGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9uZWdvdGlhdGVfc2VydmVyX2luaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwic2VydmVyIGluaXRpYWxpemF0aW9uXCIsIDI0KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAvKiBTY3JlZW4gc2l6ZSAqL1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcblxuICAgICAgICAvKiBQSVhFTF9GT1JNQVQgKi9cbiAgICAgICAgdmFyIGJwcCAgICAgICAgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB2YXIgZGVwdGggICAgICAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHZhciBiaWdfZW5kaWFuICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdmFyIHRydWVfY29sb3IgID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuXG4gICAgICAgIHZhciByZWRfbWF4ICAgICA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgIHZhciBncmVlbl9tYXggICA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgIHZhciBibHVlX21heCAgICA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgIHZhciByZWRfc2hpZnQgICA9IHRoaXMuX3NvY2suclFzaGlmdDgoKTtcbiAgICAgICAgdmFyIGdyZWVuX3NoaWZ0ID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB2YXIgYmx1ZV9zaGlmdCAgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMyk7ICAvLyBwYWRkaW5nXG5cbiAgICAgICAgLy8gTkIoZGlyZWN0eG1hbjEyKTogd2UgZG9uJ3Qgd2FudCB0byBjYWxsIGFueSBjYWxsYmFja3Mgb3IgcHJpbnQgbWVzc2FnZXMgdW50aWxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgKmFmdGVyKiB3ZSdyZSBwYXN0IHRoZSBwb2ludCB3aGVyZSB3ZSBjb3VsZCBiYWNrdHJhY2tcblxuICAgICAgICAvKiBDb25uZWN0aW9uIG5hbWUvdGl0bGUgKi9cbiAgICAgICAgdmFyIG5hbWVfbGVuZ3RoID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KCdzZXJ2ZXIgaW5pdCBuYW1lJywgbmFtZV9sZW5ndGgsIDI0KSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fZmJfbmFtZSA9IGRlY29kZVVURjgodGhpcy5fc29jay5yUXNoaWZ0U3RyKG5hbWVfbGVuZ3RoKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JmYl90aWdodHZuYykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KCdUaWdodFZOQyBleHRlbmRlZCBzZXJ2ZXIgaW5pdCBoZWFkZXInLCA4LCAyNCArIG5hbWVfbGVuZ3RoKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIC8vIEluIFRpZ2h0Vk5DIG1vZGUsIFNlcnZlckluaXQgbWVzc2FnZSBpcyBleHRlbmRlZFxuICAgICAgICAgICAgdmFyIG51bVNlcnZlck1lc3NhZ2VzID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHZhciBudW1DbGllbnRNZXNzYWdlcyA9IHRoaXMuX3NvY2suclFzaGlmdDE2KCk7XG4gICAgICAgICAgICB2YXIgbnVtRW5jb2RpbmdzID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAvLyBwYWRkaW5nXG5cbiAgICAgICAgICAgIHZhciB0b3RhbE1lc3NhZ2VzTGVuZ3RoID0gKG51bVNlcnZlck1lc3NhZ2VzICsgbnVtQ2xpZW50TWVzc2FnZXMgKyBudW1FbmNvZGluZ3MpICogMTY7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoJ1RpZ2h0Vk5DIGV4dGVuZGVkIHNlcnZlciBpbml0IGhlYWRlcicsIHRvdGFsTWVzc2FnZXNMZW5ndGgsIDMyICsgbmFtZV9sZW5ndGgpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBhY3R1YWxseSBkbyBhbnl0aGluZyB3aXRoIHRoZSBjYXBhYmlsaXR5IGluZm9ybWF0aW9uIHRoYXQgVElHSFQgc2VuZHMsXG4gICAgICAgICAgICAvLyBzbyB3ZSBqdXN0IHNraXAgdGhlIGFsbCBvZiB0aGlzLlxuXG4gICAgICAgICAgICAvLyBUSUdIVCBzZXJ2ZXIgbWVzc2FnZSBjYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMTYgKiBudW1TZXJ2ZXJNZXNzYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFRJR0hUIGNsaWVudCBtZXNzYWdlIGNhcGFiaWxpdGllc1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxNiAqIG51bUNsaWVudE1lc3NhZ2VzKTtcblxuICAgICAgICAgICAgLy8gVElHSFQgZW5jb2RpbmcgY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDE2ICogbnVtRW5jb2RpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5CKGRpcmVjdHhtYW4xMik6IHRoZXNlIGFyZSBkb3duIGhlcmUgc28gdGhhdCB3ZSBkb24ndCBydW4gdGhlbSBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICBpZiB3ZSBiYWNrdHJhY2tcbiAgICAgICAgTG9nLkluZm8oXCJTY3JlZW46IFwiICsgd2lkdGggKyBcInhcIiArIGhlaWdodCArXG4gICAgICAgICAgICAgICAgICBcIiwgYnBwOiBcIiArIGJwcCArIFwiLCBkZXB0aDogXCIgKyBkZXB0aCArXG4gICAgICAgICAgICAgICAgICBcIiwgYmlnX2VuZGlhbjogXCIgKyBiaWdfZW5kaWFuICtcbiAgICAgICAgICAgICAgICAgIFwiLCB0cnVlX2NvbG9yOiBcIiArIHRydWVfY29sb3IgK1xuICAgICAgICAgICAgICAgICAgXCIsIHJlZF9tYXg6IFwiICsgcmVkX21heCArXG4gICAgICAgICAgICAgICAgICBcIiwgZ3JlZW5fbWF4OiBcIiArIGdyZWVuX21heCArXG4gICAgICAgICAgICAgICAgICBcIiwgYmx1ZV9tYXg6IFwiICsgYmx1ZV9tYXggK1xuICAgICAgICAgICAgICAgICAgXCIsIHJlZF9zaGlmdDogXCIgKyByZWRfc2hpZnQgK1xuICAgICAgICAgICAgICAgICAgXCIsIGdyZWVuX3NoaWZ0OiBcIiArIGdyZWVuX3NoaWZ0ICtcbiAgICAgICAgICAgICAgICAgIFwiLCBibHVlX3NoaWZ0OiBcIiArIGJsdWVfc2hpZnQpO1xuXG4gICAgICAgIGlmIChiaWdfZW5kaWFuICE9PSAwKSB7XG4gICAgICAgICAgICBMb2cuV2FybihcIlNlcnZlciBuYXRpdmUgZW5kaWFuIGlzIG5vdCBsaXR0bGUgZW5kaWFuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZF9zaGlmdCAhPT0gMTYpIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiU2VydmVyIG5hdGl2ZSByZWQtc2hpZnQgaXMgbm90IDE2XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJsdWVfc2hpZnQgIT09IDApIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiU2VydmVyIG5hdGl2ZSBibHVlLXNoaWZ0IGlzIG5vdCAwXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UncmUgcGFzdCB0aGUgcG9pbnQgd2hlcmUgd2UgY291bGQgYmFja3RyYWNrLCBzbyBpdCdzIHNhZmUgdG8gY2FsbCB0aGlzXG4gICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImRlc2t0b3BuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogeyBuYW1lOiB0aGlzLl9mYl9uYW1lIH0gfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgdGhpcy5fcmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmICghdGhpcy5fdmlld09ubHkpIHsgdGhpcy5fa2V5Ym9hcmQuZ3JhYigpOyB9XG4gICAgICAgIGlmICghdGhpcy5fdmlld09ubHkpIHsgdGhpcy5fbW91c2UuZ3JhYigpOyB9XG5cbiAgICAgICAgdGhpcy5fZmJfZGVwdGggPSAyNDtcblxuICAgICAgICBpZiAodGhpcy5fZmJfbmFtZSA9PT0gXCJJbnRlbChyKSBBTVQgS1ZNXCIpIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiSW50ZWwgQU1UIEtWTSBvbmx5IHN1cHBvcnRzIDgvMTYgYml0IGRlcHRocy4gVXNpbmcgbG93IGNvbG9yIG1vZGUuXCIpO1xuICAgICAgICAgICAgdGhpcy5fZmJfZGVwdGggPSA4O1xuICAgICAgICB9XG5cbiAgICAgICAgUkZCLm1lc3NhZ2VzLnBpeGVsRm9ybWF0KHRoaXMuX3NvY2ssIHRoaXMuX2ZiX2RlcHRoLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2VuZEVuY29kaW5ncygpO1xuICAgICAgICBSRkIubWVzc2FnZXMuZmJVcGRhdGVSZXF1ZXN0KHRoaXMuX3NvY2ssIGZhbHNlLCAwLCAwLCB0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5fdGltaW5nLnBpeGVscyA9IDA7XG5cbiAgICAgICAgLy8gQ3Vyc29yIHdpbGwgYmUgc2VydmVyIHNpZGUgdW50aWwgdGhlIHNlcnZlciBkZWNpZGVzIHRvIGhvbm9yXG4gICAgICAgIC8vIG91ciByZXF1ZXN0IGFuZCBzZW5kIG92ZXIgdGhlIGN1cnNvciBpbWFnZVxuICAgICAgICB0aGlzLl9kaXNwbGF5LmRpc2FibGVMb2NhbEN1cnNvcigpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgnY29ubmVjdGVkJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBfc2VuZEVuY29kaW5nczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW5jcyA9IFtdO1xuXG4gICAgICAgIC8vIEluIHByZWZlcmVuY2Ugb3JkZXJcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ0NvcHlSZWN0KTtcbiAgICAgICAgLy8gT25seSBzdXBwb3J0ZWQgd2l0aCBmdWxsIGRlcHRoIHN1cHBvcnRcbiAgICAgICAgaWYgKHRoaXMuX2ZiX2RlcHRoID09IDI0KSB7XG4gICAgICAgICAgICBlbmNzLnB1c2goZW5jb2RpbmdzLmVuY29kaW5nVGlnaHQpO1xuICAgICAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ0hleHRpbGUpO1xuICAgICAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ1JSRSk7XG4gICAgICAgIH1cbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5lbmNvZGluZ1Jhdyk7XG5cbiAgICAgICAgLy8gUHN1ZWRvLWVuY29kaW5nIHNldHRpbmdzXG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdUaWdodFBORyk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdRdWFsaXR5TGV2ZWwwICsgNik7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdDb21wcmVzc0xldmVsMCArIDIpO1xuXG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdEZXNrdG9wU2l6ZSk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdMYXN0UmVjdCk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdRRU1VRXh0ZW5kZWRLZXlFdmVudCk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdFeHRlbmRlZERlc2t0b3BTaXplKTtcbiAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ1h2cCk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdGZW5jZSk7XG4gICAgICAgIGVuY3MucHVzaChlbmNvZGluZ3MucHNldWRvRW5jb2RpbmdDb250aW51b3VzVXBkYXRlcyk7XG5cbiAgICAgICAgaWYgKHN1cHBvcnRzQ3Vyc29yVVJJcygpICYmXG4gICAgICAgICAgICAhaXNUb3VjaERldmljZSAmJiB0aGlzLl9mYl9kZXB0aCA9PSAyNCkge1xuICAgICAgICAgICAgZW5jcy5wdXNoKGVuY29kaW5ncy5wc2V1ZG9FbmNvZGluZ0N1cnNvcik7XG4gICAgICAgIH1cblxuICAgICAgICBSRkIubWVzc2FnZXMuY2xpZW50RW5jb2RpbmdzKHRoaXMuX3NvY2ssIGVuY3MpO1xuICAgIH0sXG5cbiAgICAvKiBSRkIgcHJvdG9jb2wgaW5pdGlhbGl6YXRpb24gc3RhdGVzOlxuICAgICAqICAgUHJvdG9jb2xWZXJzaW9uXG4gICAgICogICBTZWN1cml0eVxuICAgICAqICAgQXV0aGVudGljYXRpb25cbiAgICAgKiAgIFNlY3VyaXR5UmVzdWx0XG4gICAgICogICBDbGllbnRJbml0aWFsaXphdGlvbiAtIG5vdCB0cmlnZ2VyZWQgYnkgc2VydmVyIG1lc3NhZ2VcbiAgICAgKiAgIFNlcnZlckluaXRpYWxpemF0aW9uXG4gICAgICovXG4gICAgX2luaXRfbXNnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fcmZiX2luaXRfc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1Byb3RvY29sVmVyc2lvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25lZ290aWF0ZV9wcm90b2NvbF92ZXJzaW9uKCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ1NlY3VyaXR5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX3NlY3VyaXR5KCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ0F1dGhlbnRpY2F0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmVnb3RpYXRlX2F1dGhlbnRpY2F0aW9uKCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ1NlY3VyaXR5UmVzdWx0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NlY3VyaXR5X3Jlc3VsdCgpO1xuXG4gICAgICAgICAgICBjYXNlICdDbGllbnRJbml0aWFsaXNhdGlvbic6XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5zZW5kKFt0aGlzLl9zaGFyZWQgPyAxIDogMF0pOyAvLyBDbGllbnRJbml0aWFsaXNhdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3JmYl9pbml0X3N0YXRlID0gJ1NlcnZlckluaXRpYWxpc2F0aW9uJztcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgY2FzZSAnU2VydmVySW5pdGlhbGlzYXRpb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uZWdvdGlhdGVfc2VydmVyX2luaXQoKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVua25vd24gaW5pdCBzdGF0ZSAoc3RhdGU6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZmJfaW5pdF9zdGF0ZSArIFwiKVwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfaGFuZGxlX3NldF9jb2xvdXJfbWFwX21zZzogZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2cuRGVidWcoXCJTZXRDb2xvck1hcEVudHJpZXNcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIFNldENvbG9yTWFwRW50cmllcyBtZXNzYWdlXCIpO1xuICAgIH0sXG5cbiAgICBfaGFuZGxlX3NlcnZlcl9jdXRfdGV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2cuRGVidWcoXCJTZXJ2ZXJDdXRUZXh0XCIpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckN1dFRleHQgaGVhZGVyXCIsIDcsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpOyAgLy8gUGFkZGluZ1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5fc29jay5yUXNoaWZ0MzIoKTtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiU2VydmVyQ3V0VGV4dFwiLCBsZW5ndGgsIDgpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fc29jay5yUXNoaWZ0U3RyKGxlbmd0aCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdPbmx5KSB7IHJldHVybiB0cnVlOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY2xpcGJvYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogeyB0ZXh0OiB0ZXh0IH0gfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIF9oYW5kbGVfc2VydmVyX2ZlbmNlX21zZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckZlbmNlIGhlYWRlclwiLCA4LCAxKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygzKTsgLy8gUGFkZGluZ1xuICAgICAgICB2YXIgZmxhZ3MgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlNlcnZlckZlbmNlIHBheWxvYWRcIiwgbGVuZ3RoLCA5KSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICBpZiAobGVuZ3RoID4gNjQpIHtcbiAgICAgICAgICAgIExvZy5XYXJuKFwiQmFkIHBheWxvYWQgbGVuZ3RoIChcIiArIGxlbmd0aCArIFwiKSBpbiBmZW5jZSByZXNwb25zZVwiKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IDY0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBheWxvYWQgPSB0aGlzLl9zb2NrLnJRc2hpZnRTdHIobGVuZ3RoKTtcblxuICAgICAgICB0aGlzLl9zdXBwb3J0c0ZlbmNlID0gdHJ1ZTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBGZW5jZSBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiAgKDE8PDApICAtIEJsb2NrQmVmb3JlXG4gICAgICAgICAqICAoMTw8MSkgIC0gQmxvY2tBZnRlclxuICAgICAgICAgKiAgKDE8PDIpICAtIFN5bmNOZXh0XG4gICAgICAgICAqICAoMTw8MzEpIC0gUmVxdWVzdFxuICAgICAgICAgKi9cblxuICAgICAgICBpZiAoIShmbGFncyAmICgxPDwzMSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFpbChcIlVuZXhwZWN0ZWQgZmVuY2UgcmVzcG9uc2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHVuc3VwcG9ydGVkIGZsYWdzXG4gICAgICAgIC8vIEZJWE1FOiBzdXBwb3J0IHN5bmNOZXh0XG4gICAgICAgIGZsYWdzICY9ICgxPDwwKSB8ICgxPDwxKTtcblxuICAgICAgICAvLyBCbG9ja0JlZm9yZSBhbmQgQmxvY2tBZnRlciBhcmUgYXV0b21hdGljYWxseSBoYW5kbGVkIGJ5XG4gICAgICAgIC8vIHRoZSBmYWN0IHRoYXQgd2UgcHJvY2VzcyBlYWNoIGluY29taW5nIG1lc3NhZ2VcbiAgICAgICAgLy8gc3luY2hyb251b3NseS5cbiAgICAgICAgUkZCLm1lc3NhZ2VzLmNsaWVudEZlbmNlKHRoaXMuX3NvY2ssIGZsYWdzLCBwYXlsb2FkKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX2hhbmRsZV94dnBfbXNnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlhWUCB2ZXJzaW9uIGFuZCBtZXNzYWdlXCIsIDMsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcDgoKTsgIC8vIFBhZGRpbmdcbiAgICAgICAgdmFyIHh2cF92ZXIgPSB0aGlzLl9zb2NrLnJRc2hpZnQ4KCk7XG4gICAgICAgIHZhciB4dnBfbXNnID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuXG4gICAgICAgIHN3aXRjaCAoeHZwX21zZykge1xuICAgICAgICAgICAgY2FzZSAwOiAgLy8gWFZQX0ZBSUxcbiAgICAgICAgICAgICAgICBMb2cuRXJyb3IoXCJYVlAgT3BlcmF0aW9uIEZhaWxlZFwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTogIC8vIFhWUF9JTklUXG4gICAgICAgICAgICAgICAgdGhpcy5fcmZiX3h2cF92ZXIgPSB4dnBfdmVyO1xuICAgICAgICAgICAgICAgIExvZy5JbmZvKFwiWFZQIGV4dGVuc2lvbnMgZW5hYmxlZCAodmVyc2lvbiBcIiArIHRoaXMuX3JmYl94dnBfdmVyICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldENhcGFiaWxpdHkoXCJwb3dlclwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmFpbChcIklsbGVnYWwgc2VydmVyIFhWUCBtZXNzYWdlIChtc2c6IFwiICsgeHZwX21zZyArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBfbm9ybWFsX21zZzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXNnX3R5cGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5yZWN0cyA+IDApIHtcbiAgICAgICAgICAgIG1zZ190eXBlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZ190eXBlID0gdGhpcy5fc29jay5yUXNoaWZ0OCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtc2dfdHlwZSkge1xuICAgICAgICAgICAgY2FzZSAwOiAgLy8gRnJhbWVidWZmZXJVcGRhdGVcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gdGhpcy5fZnJhbWVidWZmZXJVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ICYmICF0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgUkZCLm1lc3NhZ2VzLmZiVXBkYXRlUmVxdWVzdCh0aGlzLl9zb2NrLCB0cnVlLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuXG4gICAgICAgICAgICBjYXNlIDE6ICAvLyBTZXRDb2xvck1hcEVudHJpZXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlX3NldF9jb2xvdXJfbWFwX21zZygpO1xuXG4gICAgICAgICAgICBjYXNlIDI6ICAvLyBCZWxsXG4gICAgICAgICAgICAgICAgTG9nLkRlYnVnKFwiQmVsbFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJiZWxsXCIsIHsgZGV0YWlsOiB7fSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlIDM6ICAvLyBTZXJ2ZXJDdXRUZXh0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZV9zZXJ2ZXJfY3V0X3RleHQoKTtcblxuICAgICAgICAgICAgY2FzZSAxNTA6IC8vIEVuZE9mQ29udGludW91c1VwZGF0ZXNcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSAhKHRoaXMuX3N1cHBvcnRzQ29udGludW91c1VwZGF0ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1cHBvcnRzQ29udGludW91c1VwZGF0ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRDb250aW51b3VzVXBkYXRlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb250aW51b3VzVXBkYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIkVuYWJsaW5nIGNvbnRpbnVvdXMgdXBkYXRlcy5cIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IFdlIG5lZWQgdG8gc2VuZCBhIGZyYW1lYnVmZmVydXBkYXRlcmVxdWVzdCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFkZCBzdXBwb3J0IGZvciB0dXJuaW5nIG9mZiBjb250aW51b3VzIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGNhc2UgMjQ4OiAvLyBTZXJ2ZXJGZW5jZVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfc2VydmVyX2ZlbmNlX21zZygpO1xuXG4gICAgICAgICAgICBjYXNlIDI1MDogIC8vIFhWUFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVfeHZwX21zZygpO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJVbmV4cGVjdGVkIHNlcnZlciBtZXNzYWdlICh0eXBlIFwiICsgbXNnX3R5cGUgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgTG9nLkRlYnVnKFwic29jay5yUXNsaWNlKDAsIDMwKTogXCIgKyB0aGlzLl9zb2NrLnJRc2xpY2UoMCwgMzApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfb25GbHVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIFJlc3VtZSBwcm9jZXNzaW5nXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRbGVuKCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVfbWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9mcmFtZWJ1ZmZlclVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmV0ID0gdHJ1ZTtcbiAgICAgICAgdmFyIG5vdztcblxuICAgICAgICBpZiAodGhpcy5fRkJVLnJlY3RzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJGQlUgaGVhZGVyXCIsIDMsIDEpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXA4KCk7ICAvLyBQYWRkaW5nXG4gICAgICAgICAgICB0aGlzLl9GQlUucmVjdHMgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3RpbWluZy5jdXJfZmJ1ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0ID4gMCkge1xuICAgICAgICAgICAgICAgIG5vdyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJGaXJzdCBGQlUgbGF0ZW5jeTogXCIgKyAobm93IC0gdGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHByZXZpb3VzIGZyYW1lIGlzIGZ1bGx5IHJlbmRlcmVkIGZpcnN0XG4gICAgICAgICAgICAvLyB0byBhdm9pZCBidWlsZGluZyB1cCBhbiBleGNlc3NpdmUgcXVldWVcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwbGF5LnBlbmRpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmZsdXNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX0ZCVS5yZWN0cyA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZmJfY29ubmVjdGlvbl9zdGF0ZSAhPT0gJ2Nvbm5lY3RlZCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkZCVVwiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5ieXRlcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcInJlY3QgaGVhZGVyXCIsIDEyKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICAvKiBOZXcgRnJhbWVidWZmZXJVcGRhdGUgKi9cblxuICAgICAgICAgICAgICAgIHZhciBoZHIgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcygxMik7XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLnggICAgICAgID0gKGhkclswXSA8PCA4KSArIGhkclsxXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUueSAgICAgICAgPSAoaGRyWzJdIDw8IDgpICsgaGRyWzNdO1xuICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS53aWR0aCAgICA9IChoZHJbNF0gPDwgOCkgKyBoZHJbNV07XG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmhlaWdodCAgID0gKGhkcls2XSA8PCA4KSArIGhkcls3XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuZW5jb2RpbmcgPSBwYXJzZUludCgoaGRyWzhdIDw8IDI0KSArIChoZHJbOV0gPDwgMTYpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaGRyWzEwXSA8PCA4KSArIGhkclsxMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZW5jSGFuZGxlcnNbdGhpcy5fRkJVLmVuY29kaW5nXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgZW5jb2RpbmcgKGVuY29kaW5nOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmVuY29kaW5nICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90aW1pbmcubGFzdF9mYnUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICByZXQgPSB0aGlzLl9lbmNIYW5kbGVyc1t0aGlzLl9GQlUuZW5jb2RpbmddKCk7XG5cbiAgICAgICAgICAgIG5vdyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLl90aW1pbmcuY3VyX2ZidSArPSAobm93IC0gdGhpcy5fdGltaW5nLmxhc3RfZmJ1KTtcblxuICAgICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMuX0ZCVS5lbmNvZGluZyBpbiB0aGlzLl9lbmNTdGF0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5jU3RhdHNbdGhpcy5fRkJVLmVuY29kaW5nXSA9IFswLCAwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5jU3RhdHNbdGhpcy5fRkJVLmVuY29kaW5nXVswXSsrO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuY1N0YXRzW3RoaXMuX0ZCVS5lbmNvZGluZ11bMV0rKztcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcucGl4ZWxzICs9IHRoaXMuX0ZCVS53aWR0aCAqIHRoaXMuX0ZCVS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1pbmcucGl4ZWxzID49ICh0aGlzLl9mYl93aWR0aCAqIHRoaXMuX2ZiX2hlaWdodCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX0ZCVS53aWR0aCA9PT0gdGhpcy5fZmJfd2lkdGggJiYgdGhpcy5fRkJVLmhlaWdodCA9PT0gdGhpcy5fZmJfaGVpZ2h0KSB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X3N0YXJ0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZnVsbF9mYnVfdG90YWwgKz0gdGhpcy5fdGltaW5nLmN1cl9mYnU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mdWxsX2ZidV9jbnQrKztcbiAgICAgICAgICAgICAgICAgICAgTG9nLkluZm8oXCJUaW1pbmcgb2YgZnVsbCBGQlUsIGN1cnI6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5jdXJfZmJ1ICsgXCIsIHRvdGFsOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZnVsbF9mYnVfdG90YWwgKyBcIiwgY250OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZnVsbF9mYnVfY250ICsgXCIsIGF2ZzogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3RpbWluZy5mdWxsX2ZidV90b3RhbCAvIHRoaXMuX3RpbWluZy5mdWxsX2ZidV9jbnQpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGltaW5nLmZidV9ydF9zdGFydCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZidV9ydF9kaWZmID0gbm93IC0gdGhpcy5fdGltaW5nLmZidV9ydF9zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF90b3RhbCArPSBmYnVfcnRfZGlmZjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF9jbnQrKztcbiAgICAgICAgICAgICAgICAgICAgTG9nLkluZm8oXCJmdWxsIEZCVSByb3VuZC10cmlwLCBjdXI6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZidV9ydF9kaWZmICsgXCIsIHRvdGFsOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1pbmcuZmJ1X3J0X3RvdGFsICsgXCIsIGNudDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltaW5nLmZidV9ydF9jbnQgKyBcIiwgYXZnOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5fdGltaW5nLmZidV9ydF90b3RhbCAvIHRoaXMuX3RpbWluZy5mYnVfcnRfY250KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFyZXQpIHsgcmV0dXJuIHJldDsgfSAgLy8gbmVlZCBtb3JlIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkuZmxpcCgpO1xuXG4gICAgICAgIHJldHVybiB0cnVlOyAgLy8gV2UgZmluaXNoZWQgdGhpcyBGQlVcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUNvbnRpbnVvdXNVcGRhdGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkQ29udGludW91c1VwZGF0ZXMpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgUkZCLm1lc3NhZ2VzLmVuYWJsZUNvbnRpbnVvdXNVcGRhdGVzKHRoaXMuX3NvY2ssIHRydWUsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYl93aWR0aCwgdGhpcy5fZmJfaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgX3Jlc2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLl9mYl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mYl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5fZGVzdEJ1ZmYgPSBuZXcgVWludDhBcnJheSh0aGlzLl9mYl93aWR0aCAqIHRoaXMuX2ZiX2hlaWdodCAqIDQpO1xuXG4gICAgICAgIHRoaXMuX2Rpc3BsYXkucmVzaXplKHRoaXMuX2ZiX3dpZHRoLCB0aGlzLl9mYl9oZWlnaHQpO1xuXG4gICAgICAgIC8vIEFkanVzdCB0aGUgdmlzaWJsZSB2aWV3cG9ydCBiYXNlZCBvbiB0aGUgbmV3IGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2xpcCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTY2FsZSgpO1xuXG4gICAgICAgIHRoaXMuX3RpbWluZy5mYnVfcnRfc3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGVDb250aW51b3VzVXBkYXRlcygpO1xuICAgIH0sXG5cbiAgICBfeHZwT3A6IGZ1bmN0aW9uICh2ZXIsIG9wKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZmJfeHZwX3ZlciA8IHZlcikgeyByZXR1cm47IH1cbiAgICAgICAgTG9nLkluZm8oXCJTZW5kaW5nIFhWUCBvcGVyYXRpb24gXCIgKyBvcCArIFwiICh2ZXJzaW9uIFwiICsgdmVyICsgXCIpXCIpO1xuICAgICAgICBSRkIubWVzc2FnZXMueHZwT3AodGhpcy5fc29jaywgdmVyLCBvcCk7XG4gICAgfSxcbn07XG5cbk9iamVjdC5hc3NpZ24oUkZCLnByb3RvdHlwZSwgRXZlbnRUYXJnZXRNaXhpbik7XG5cbi8vIENsYXNzIE1ldGhvZHNcblJGQi5tZXNzYWdlcyA9IHtcbiAgICBrZXlFdmVudDogZnVuY3Rpb24gKHNvY2ssIGtleXN5bSwgZG93bikge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gNDsgIC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSBkb3duO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSAwO1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gMDtcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0gKGtleXN5bSA+PiAyNCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSAoa2V5c3ltID4+IDE2KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IChrZXlzeW0gPj4gOCk7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgN10gPSBrZXlzeW07XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gODtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBRRU1VRXh0ZW5kZWRLZXlFdmVudDogZnVuY3Rpb24gKHNvY2ssIGtleXN5bSwgZG93biwga2V5Y29kZSkge1xuICAgICAgICBmdW5jdGlvbiBnZXRSRkJrZXljb2RlKHh0X3NjYW5jb2RlKSB7XG4gICAgICAgICAgICB2YXIgdXBwZXJCeXRlID0gKGtleWNvZGUgPj4gOCk7XG4gICAgICAgICAgICB2YXIgbG93ZXJCeXRlID0gKGtleWNvZGUgJiAweDAwZmYpO1xuICAgICAgICAgICAgaWYgKHVwcGVyQnl0ZSA9PT0gMHhlMCAmJiBsb3dlckJ5dGUgPCAweDdmKSB7XG4gICAgICAgICAgICAgICAgbG93ZXJCeXRlID0gbG93ZXJCeXRlIHwgMHg4MDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG93ZXJCeXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHh0X3NjYW5jb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI1NTsgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHN1YiBtc2ctdHlwZVxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSAoZG93biA+PiA4KTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IGRvd247XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IChrZXlzeW0gPj4gMjQpO1xuICAgICAgICBidWZmW29mZnNldCArIDVdID0gKGtleXN5bSA+PiAxNik7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNl0gPSAoa2V5c3ltID4+IDgpO1xuICAgICAgICBidWZmW29mZnNldCArIDddID0ga2V5c3ltO1xuXG4gICAgICAgIHZhciBSRkJrZXljb2RlID0gZ2V0UkZCa2V5Y29kZShrZXljb2RlKTtcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gKFJGQmtleWNvZGUgPj4gMjQpO1xuICAgICAgICBidWZmW29mZnNldCArIDldID0gKFJGQmtleWNvZGUgPj4gMTYpO1xuICAgICAgICBidWZmW29mZnNldCArIDEwXSA9IChSRkJrZXljb2RlID4+IDgpO1xuICAgICAgICBidWZmW29mZnNldCArIDExXSA9IFJGQmtleWNvZGU7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMTI7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgcG9pbnRlckV2ZW50OiBmdW5jdGlvbiAoc29jaywgeCwgeSwgbWFzaykge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gNTsgLy8gbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gbWFzaztcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0geCA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0geDtcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0geSA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDVdID0geTtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSA2O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIC8vIFRPRE8oZGlyZWN0eG1hbjEyKTogbWFrZSB0aGlzIHVuaWNvZGUgY29tcGF0aWJsZT9cbiAgICBjbGllbnRDdXRUZXh0OiBmdW5jdGlvbiAoc29jaywgdGV4dCkge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gNjsgLy8gbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDJdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIHZhciBuID0gdGV4dC5sZW5ndGg7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA0XSA9IG4gPj4gMjQ7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNV0gPSBuID4+IDE2O1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gbiA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDddID0gbjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgYnVmZltvZmZzZXQgKyA4ICsgaV0gPSAgdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gOCArIG47XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgc2V0RGVza3RvcFNpemU6IGZ1bmN0aW9uIChzb2NrLCB3aWR0aCwgaGVpZ2h0LCBpZCwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI1MTsgICAgICAgICAgICAgIC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSAwOyAgICAgICAgICAgIC8vIHBhZGRpbmdcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyXSA9IHdpZHRoID4+IDg7ICAgLy8gd2lkdGhcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IHdpZHRoO1xuICAgICAgICBidWZmW29mZnNldCArIDRdID0gaGVpZ2h0ID4+IDg7ICAvLyBoZWlnaHRcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IGhlaWdodDtcblxuICAgICAgICBidWZmW29mZnNldCArIDZdID0gMTsgICAgICAgICAgICAvLyBudW1iZXItb2Ytc2NyZWVuc1xuICAgICAgICBidWZmW29mZnNldCArIDddID0gMDsgICAgICAgICAgICAvLyBwYWRkaW5nXG5cbiAgICAgICAgLy8gc2NyZWVuIGFycmF5XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOF0gPSBpZCA+PiAyNDsgICAgIC8vIGlkXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOV0gPSBpZCA+PiAxNjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMF0gPSBpZCA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDExXSA9IGlkO1xuICAgICAgICBidWZmW29mZnNldCArIDEyXSA9IDA7ICAgICAgICAgICAvLyB4LXBvc2l0aW9uXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTNdID0gMDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNF0gPSAwOyAgICAgICAgICAgLy8geS1wb3NpdGlvblxuICAgICAgICBidWZmW29mZnNldCArIDE1XSA9IDA7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTZdID0gd2lkdGggPj4gODsgIC8vIHdpZHRoXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTddID0gd2lkdGg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMThdID0gaGVpZ2h0ID4+IDg7IC8vIGhlaWdodFxuICAgICAgICBidWZmW29mZnNldCArIDE5XSA9IGhlaWdodDtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyMF0gPSBmbGFncyA+PiAyNDsgLy8gZmxhZ3NcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyMV0gPSBmbGFncyA+PiAxNjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyAyMl0gPSBmbGFncyA+PiA4O1xuICAgICAgICBidWZmW29mZnNldCArIDIzXSA9IGZsYWdzO1xuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDI0O1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIGNsaWVudEZlbmNlOiBmdW5jdGlvbiAoc29jaywgZmxhZ3MsIHBheWxvYWQpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI0ODsgLy8gbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDJdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSBmbGFncyA+PiAyNDsgLy8gZmxhZ3NcbiAgICAgICAgYnVmZltvZmZzZXQgKyA1XSA9IGZsYWdzID4+IDE2O1xuICAgICAgICBidWZmW29mZnNldCArIDZdID0gZmxhZ3MgPj4gODtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IGZsYWdzO1xuXG4gICAgICAgIHZhciBuID0gcGF5bG9hZC5sZW5ndGg7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA4XSA9IG47IC8vIGxlbmd0aFxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBidWZmW29mZnNldCArIDkgKyBpXSA9IHBheWxvYWQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvY2suX3NRbGVuICs9IDkgKyBuO1xuICAgICAgICBzb2NrLmZsdXNoKCk7XG4gICAgfSxcblxuICAgIGVuYWJsZUNvbnRpbnVvdXNVcGRhdGVzOiBmdW5jdGlvbiAoc29jaywgZW5hYmxlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAxNTA7ICAgICAgICAgICAgIC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSBlbmFibGU7ICAgICAgLy8gZW5hYmxlLWZsYWdcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0geCA+PiA4OyAgICAgIC8vIHhcbiAgICAgICAgYnVmZltvZmZzZXQgKyAzXSA9IHg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSB5ID4+IDg7ICAgICAgLy8geVxuICAgICAgICBidWZmW29mZnNldCArIDVdID0geTtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IHdpZHRoID4+IDg7ICAvLyB3aWR0aFxuICAgICAgICBidWZmW29mZnNldCArIDddID0gd2lkdGg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOF0gPSBoZWlnaHQgPj4gODsgLy8gaGVpZ2h0XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOV0gPSBoZWlnaHQ7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMTA7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgcGl4ZWxGb3JtYXQ6IGZ1bmN0aW9uIChzb2NrLCBkZXB0aCwgdHJ1ZV9jb2xvcikge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgdmFyIGJwcCwgYml0cztcblxuICAgICAgICBpZiAoZGVwdGggPiAxNikge1xuICAgICAgICAgICAgYnBwID0gMzI7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVwdGggPiA4KSB7XG4gICAgICAgICAgICBicHAgPSAxNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJwcCA9IDg7XG4gICAgICAgIH1cblxuICAgICAgICBiaXRzID0gTWF0aC5mbG9vcihkZXB0aC8zKTtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAwOyAgLy8gbXNnLXR5cGVcblxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDJdID0gMDsgLy8gcGFkZGluZ1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgNF0gPSBicHA7ICAgICAgICAgICAgICAgICAvLyBiaXRzLXBlci1waXhlbFxuICAgICAgICBidWZmW29mZnNldCArIDVdID0gZGVwdGg7ICAgICAgICAgICAgICAgLy8gZGVwdGhcbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIGxpdHRsZS1lbmRpYW5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IHRydWVfY29sb3IgPyAxIDogMDsgIC8vIHRydWUtY29sb3JcblxuICAgICAgICBidWZmW29mZnNldCArIDhdID0gMDsgICAgLy8gcmVkLW1heFxuICAgICAgICBidWZmW29mZnNldCArIDldID0gKDEgPDwgYml0cykgLSAxOyAgLy8gcmVkLW1heFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTBdID0gMDsgICAvLyBncmVlbi1tYXhcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxMV0gPSAoMSA8PCBiaXRzKSAtIDE7IC8vIGdyZWVuLW1heFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTJdID0gMDsgICAvLyBibHVlLW1heFxuICAgICAgICBidWZmW29mZnNldCArIDEzXSA9ICgxIDw8IGJpdHMpIC0gMTsgLy8gYmx1ZS1tYXhcblxuICAgICAgICBidWZmW29mZnNldCArIDE0XSA9IGJpdHMgKiAyOyAvLyByZWQtc2hpZnRcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNV0gPSBiaXRzICogMTsgLy8gZ3JlZW4tc2hpZnRcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxNl0gPSBiaXRzICogMDsgLy8gYmx1ZS1zaGlmdFxuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTddID0gMDsgICAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMThdID0gMDsgICAvLyBwYWRkaW5nXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMTldID0gMDsgICAvLyBwYWRkaW5nXG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gMjA7XG4gICAgICAgIHNvY2suZmx1c2goKTtcbiAgICB9LFxuXG4gICAgY2xpZW50RW5jb2RpbmdzOiBmdW5jdGlvbiAoc29jaywgZW5jb2RpbmdzKSB7XG4gICAgICAgIHZhciBidWZmID0gc29jay5fc1E7XG4gICAgICAgIHZhciBvZmZzZXQgPSBzb2NrLl9zUWxlbjtcblxuICAgICAgICBidWZmW29mZnNldF0gPSAyOyAvLyBtc2ctdHlwZVxuICAgICAgICBidWZmW29mZnNldCArIDFdID0gMDsgLy8gcGFkZGluZ1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSBlbmNvZGluZ3MubGVuZ3RoID4+IDg7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSBlbmNvZGluZ3MubGVuZ3RoO1xuXG4gICAgICAgIHZhciBpLCBqID0gb2Zmc2V0ICsgNDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuY29kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVuYyA9IGVuY29kaW5nc1tpXTtcbiAgICAgICAgICAgIGJ1ZmZbal0gPSBlbmMgPj4gMjQ7XG4gICAgICAgICAgICBidWZmW2ogKyAxXSA9IGVuYyA+PiAxNjtcbiAgICAgICAgICAgIGJ1ZmZbaiArIDJdID0gZW5jID4+IDg7XG4gICAgICAgICAgICBidWZmW2ogKyAzXSA9IGVuYztcblxuICAgICAgICAgICAgaiArPSA0O1xuICAgICAgICB9XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gaiAtIG9mZnNldDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBmYlVwZGF0ZVJlcXVlc3Q6IGZ1bmN0aW9uIChzb2NrLCBpbmNyZW1lbnRhbCwgeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgYnVmZiA9IHNvY2suX3NRO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gc29jay5fc1FsZW47XG5cbiAgICAgICAgaWYgKHR5cGVvZih4KSA9PT0gXCJ1bmRlZmluZWRcIikgeyB4ID0gMDsgfVxuICAgICAgICBpZiAodHlwZW9mKHkpID09PSBcInVuZGVmaW5lZFwiKSB7IHkgPSAwOyB9XG5cbiAgICAgICAgYnVmZltvZmZzZXRdID0gMzsgIC8vIG1zZy10eXBlXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMV0gPSBpbmNyZW1lbnRhbCA/IDEgOiAwO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgMl0gPSAoeCA+PiA4KSAmIDB4RkY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgM10gPSB4ICYgMHhGRjtcblxuICAgICAgICBidWZmW29mZnNldCArIDRdID0gKHkgPj4gOCkgJiAweEZGO1xuICAgICAgICBidWZmW29mZnNldCArIDVdID0geSAmIDB4RkY7XG5cbiAgICAgICAgYnVmZltvZmZzZXQgKyA2XSA9ICh3ID4+IDgpICYgMHhGRjtcbiAgICAgICAgYnVmZltvZmZzZXQgKyA3XSA9IHcgJiAweEZGO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOF0gPSAoaCA+PiA4KSAmIDB4RkY7XG4gICAgICAgIGJ1ZmZbb2Zmc2V0ICsgOV0gPSBoICYgMHhGRjtcblxuICAgICAgICBzb2NrLl9zUWxlbiArPSAxMDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICB4dnBPcDogZnVuY3Rpb24gKHNvY2ssIHZlciwgb3ApIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBzb2NrLl9zUTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHNvY2suX3NRbGVuO1xuXG4gICAgICAgIGJ1ZmZbb2Zmc2V0XSA9IDI1MDsgLy8gbXNnLXR5cGVcbiAgICAgICAgYnVmZltvZmZzZXQgKyAxXSA9IDA7IC8vIHBhZGRpbmdcblxuICAgICAgICBidWZmW29mZnNldCArIDJdID0gdmVyO1xuICAgICAgICBidWZmW29mZnNldCArIDNdID0gb3A7XG5cbiAgICAgICAgc29jay5fc1FsZW4gKz0gNDtcbiAgICAgICAgc29jay5mbHVzaCgpO1xuICAgIH0sXG59O1xuXG5SRkIuZ2VuREVTID0gZnVuY3Rpb24gKHBhc3N3b3JkLCBjaGFsbGVuZ2UpIHtcbiAgICB2YXIgcGFzc3dkID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXNzd29yZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYXNzd2QucHVzaChwYXNzd29yZC5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIChuZXcgREVTKHBhc3N3ZCkpLmVuY3J5cHQoY2hhbGxlbmdlKTtcbn07XG5cblJGQi5lbmNvZGluZ0hhbmRsZXJzID0ge1xuICAgIFJBVzogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fRkJVLmxpbmVzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUubGluZXMgPSB0aGlzLl9GQlUuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBpeGVsU2l6ZSA9IHRoaXMuX2ZiX2RlcHRoID09IDggPyAxIDogNDtcbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gdGhpcy5fRkJVLndpZHRoICogcGl4ZWxTaXplOyAgLy8gYXQgbGVhc3QgYSBsaW5lXG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlJBV1wiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB2YXIgY3VyX3kgPSB0aGlzLl9GQlUueSArICh0aGlzLl9GQlUuaGVpZ2h0IC0gdGhpcy5fRkJVLmxpbmVzKTtcbiAgICAgICAgdmFyIGN1cnJfaGVpZ2h0ID0gTWF0aC5taW4odGhpcy5fRkJVLmxpbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXMuX3NvY2suclFsZW4oKSAvICh0aGlzLl9GQlUud2lkdGggKiBwaXhlbFNpemUpKSk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fc29jay5nZXRfclEoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fc29jay5nZXRfclFpKCk7XG4gICAgICAgIGlmICh0aGlzLl9mYl9kZXB0aCA9PSA4KSB7XG4gICAgICAgICAgICB2YXIgcGl4ZWxzID0gdGhpcy5fRkJVLndpZHRoICogY3Vycl9oZWlnaHRcbiAgICAgICAgICAgIHZhciBuZXdkYXRhID0gbmV3IFVpbnQ4QXJyYXkocGl4ZWxzICogNCk7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7aSA8IHBpeGVscztpKyspIHtcbiAgICAgICAgICAgICAgICBuZXdkYXRhW2kgKiA0ICsgMF0gPSAoKGRhdGFbaW5kZXggKyBpXSA+PiAwKSAmIDB4MykgKiAyNTUgLyAzO1xuICAgICAgICAgICAgICAgIG5ld2RhdGFbaSAqIDQgKyAxXSA9ICgoZGF0YVtpbmRleCArIGldID4+IDIpICYgMHgzKSAqIDI1NSAvIDM7XG4gICAgICAgICAgICAgICAgbmV3ZGF0YVtpICogNCArIDJdID0gKChkYXRhW2luZGV4ICsgaV0gPj4gNCkgJiAweDMpICogMjU1IC8gMztcbiAgICAgICAgICAgICAgICBuZXdkYXRhW2kgKiA0ICsgNF0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YSA9IG5ld2RhdGE7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlzcGxheS5ibGl0SW1hZ2UodGhpcy5fRkJVLngsIGN1cl95LCB0aGlzLl9GQlUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJfaGVpZ2h0LCBkYXRhLCBpbmRleCk7XG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXModGhpcy5fRkJVLndpZHRoICogY3Vycl9oZWlnaHQgKiBwaXhlbFNpemUpO1xuICAgICAgICB0aGlzLl9GQlUubGluZXMgLT0gY3Vycl9oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS5saW5lcyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IHRoaXMuX0ZCVS53aWR0aCAqIHBpeGVsU2l6ZTsgIC8vIEF0IGxlYXN0IGFub3RoZXIgbGluZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIENPUFlSRUNUOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDQ7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkNPUFlSRUNUXCIsIDQpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9kaXNwbGF5LmNvcHlJbWFnZSh0aGlzLl9zb2NrLnJRc2hpZnQxNigpLCB0aGlzLl9zb2NrLnJRc2hpZnQxNigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIHRoaXMuX0ZCVS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBSUkU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbG9yO1xuICAgICAgICBpZiAodGhpcy5fRkJVLnN1YnJlY3RzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSA0ICsgNDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlJSRVwiLCA0ICsgNCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB0aGlzLl9GQlUuc3VicmVjdHMgPSB0aGlzLl9zb2NrLnJRc2hpZnQzMigpO1xuICAgICAgICAgICAgY29sb3IgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyg0KTsgIC8vIEJhY2tncm91bmRcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuZmlsbFJlY3QodGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQsIGNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLl9GQlUuc3VicmVjdHMgPiAwICYmIHRoaXMuX3NvY2suclFsZW4oKSA+PSAoNCArIDgpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKDQpO1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdmFyIHkgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fc29jay5yUXNoaWZ0MTYoKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9zb2NrLnJRc2hpZnQxNigpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5maWxsUmVjdCh0aGlzLl9GQlUueCArIHgsIHRoaXMuX0ZCVS55ICsgeSwgd2lkdGgsIGhlaWdodCwgY29sb3IpO1xuICAgICAgICAgICAgdGhpcy5fRkJVLnN1YnJlY3RzLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fRkJVLnN1YnJlY3RzID4gMCkge1xuICAgICAgICAgICAgdmFyIGNodW5rID0gTWF0aC5taW4odGhpcy5fcnJlX2NodW5rX3N6LCB0aGlzLl9GQlUuc3VicmVjdHMpO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gKDQgKyA4KSAqIGNodW5rO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIEhFWFRJTEU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJRID0gdGhpcy5fc29jay5nZXRfclEoKTtcbiAgICAgICAgdmFyIHJRaSA9IHRoaXMuX3NvY2suZ2V0X3JRaSgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9GQlUudGlsZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS50aWxlc194ID0gTWF0aC5jZWlsKHRoaXMuX0ZCVS53aWR0aCAvIDE2KTtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS50aWxlc195ID0gTWF0aC5jZWlsKHRoaXMuX0ZCVS5oZWlnaHQgLyAxNik7XG4gICAgICAgICAgICB0aGlzLl9GQlUudG90YWxfdGlsZXMgPSB0aGlzLl9GQlUudGlsZXNfeCAqIHRoaXMuX0ZCVS50aWxlc195O1xuICAgICAgICAgICAgdGhpcy5fRkJVLnRpbGVzID0gdGhpcy5fRkJVLnRvdGFsX3RpbGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX0ZCVS50aWxlcyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDE7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJIRVhUSUxFIHN1YmVuY29kaW5nXCIsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB2YXIgc3ViZW5jb2RpbmcgPSByUVtyUWldOyAgLy8gUGVla1xuICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nID4gMzApIHsgIC8vIFJhd1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhaWwoXCJJbGxlZ2FsIGhleHRpbGUgc3ViZW5jb2RpbmcgKHN1YmVuY29kaW5nOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJlbmNvZGluZyArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdWJyZWN0cyA9IDA7XG4gICAgICAgICAgICB2YXIgY3Vycl90aWxlID0gdGhpcy5fRkJVLnRvdGFsX3RpbGVzIC0gdGhpcy5fRkJVLnRpbGVzO1xuICAgICAgICAgICAgdmFyIHRpbGVfeCA9IGN1cnJfdGlsZSAlIHRoaXMuX0ZCVS50aWxlc194O1xuICAgICAgICAgICAgdmFyIHRpbGVfeSA9IE1hdGguZmxvb3IoY3Vycl90aWxlIC8gdGhpcy5fRkJVLnRpbGVzX3gpO1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzLl9GQlUueCArIHRpbGVfeCAqIDE2O1xuICAgICAgICAgICAgdmFyIHkgPSB0aGlzLl9GQlUueSArIHRpbGVfeSAqIDE2O1xuICAgICAgICAgICAgdmFyIHcgPSBNYXRoLm1pbigxNiwgKHRoaXMuX0ZCVS54ICsgdGhpcy5fRkJVLndpZHRoKSAtIHgpO1xuICAgICAgICAgICAgdmFyIGggPSBNYXRoLm1pbigxNiwgKHRoaXMuX0ZCVS55ICsgdGhpcy5fRkJVLmhlaWdodCkgLSB5KTtcblxuICAgICAgICAgICAgLy8gRmlndXJlIG91dCBob3cgbXVjaCB3ZSBhcmUgZXhwZWN0aW5nXG4gICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDAxKSB7ICAvLyBSYXdcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gdyAqIGggKiA0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDAyKSB7ICAvLyBCYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDA0KSB7ICAvLyBGb3JlZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3ViZW5jb2RpbmcgJiAweDA4KSB7ICAvLyBBbnlTdWJyZWN0c1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMrKzsgIC8vIFNpbmNlIHdlIGFyZW4ndCBzaGlmdGluZyBpdCBvZmZcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiaGV4dGlsZSBzdWJyZWN0cyBoZWFkZXJcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICAgICAgc3VicmVjdHMgPSByUVtyUWkgKyB0aGlzLl9GQlUuYnl0ZXMgLSAxXTsgIC8vIFBlZWtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmVuY29kaW5nICYgMHgxMCkgeyAgLy8gU3VicmVjdHNDb2xvdXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IHN1YnJlY3RzICogKDQgKyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyArPSBzdWJyZWN0cyAqIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcImhleHRpbGVcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgLy8gV2Uga25vdyB0aGUgZW5jb2RpbmcgYW5kIGhhdmUgYSB3aG9sZSB0aWxlXG4gICAgICAgICAgICB0aGlzLl9GQlUuc3ViZW5jb2RpbmcgPSByUVtyUWldO1xuICAgICAgICAgICAgclFpKys7XG4gICAgICAgICAgICBpZiAodGhpcy5fRkJVLnN1YmVuY29kaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5sYXN0c3ViZW5jb2RpbmcgJiAweDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlaXJkOiBpZ25vcmUgYmxhbmtzIGFyZSBSQVdcbiAgICAgICAgICAgICAgICAgICAgTG9nLkRlYnVnKFwiICAgICBJZ25vcmluZyBibGFuayBhZnRlciBSQVdcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5maWxsUmVjdCh4LCB5LCB3LCBoLCB0aGlzLl9GQlUuYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9GQlUuc3ViZW5jb2RpbmcgJiAweDAxKSB7ICAvLyBSYXdcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJsaXRJbWFnZSh4LCB5LCB3LCBoLCByUSwgclFpKTtcbiAgICAgICAgICAgICAgICByUWkgKz0gdGhpcy5fRkJVLmJ5dGVzIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJlbmNvZGluZyAmIDB4MDIpIHsgIC8vIEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJhY2tncm91bmQgPSBbclFbclFpXSwgclFbclFpICsgMV0sIHJRW3JRaSArIDJdLCByUVtyUWkgKyAzXV07XG4gICAgICAgICAgICAgICAgICAgIHJRaSArPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fRkJVLnN1YmVuY29kaW5nICYgMHgwNCkgeyAgLy8gRm9yZWdyb3VuZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuZm9yZWdyb3VuZCA9IFtyUVtyUWldLCByUVtyUWkgKyAxXSwgclFbclFpICsgMl0sIHJRW3JRaSArIDNdXTtcbiAgICAgICAgICAgICAgICAgICAgclFpICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5zdGFydFRpbGUoeCwgeSwgdywgaCwgdGhpcy5fRkJVLmJhY2tncm91bmQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9GQlUuc3ViZW5jb2RpbmcgJiAweDA4KSB7ICAvLyBBbnlTdWJyZWN0c1xuICAgICAgICAgICAgICAgICAgICBzdWJyZWN0cyA9IHJRW3JRaV07XG4gICAgICAgICAgICAgICAgICAgIHJRaSsrO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3VicmVjdHM7IHMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX0ZCVS5zdWJlbmNvZGluZyAmIDB4MTApIHsgIC8vIFN1YnJlY3RzQ29sb3VyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFtyUVtyUWldLCByUVtyUWkgKyAxXSwgclFbclFpICsgMl0sIHJRW3JRaSArIDNdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByUWkgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLl9GQlUuZm9yZWdyb3VuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4eSA9IHJRW3JRaV07XG4gICAgICAgICAgICAgICAgICAgICAgICByUWkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzeCA9ICh4eSA+PiA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzeSA9ICh4eSAmIDB4MGYpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2ggPSByUVtyUWldO1xuICAgICAgICAgICAgICAgICAgICAgICAgclFpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3cgPSAod2ggPj4gNCkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoID0gKHdoICYgMHgwZikgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LnN1YlRpbGUoc3gsIHN5LCBzdywgc2gsIGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmZpbmlzaFRpbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NvY2suc2V0X3JRaShyUWkpO1xuICAgICAgICAgICAgdGhpcy5fRkJVLmxhc3RzdWJlbmNvZGluZyA9IHRoaXMuX0ZCVS5zdWJlbmNvZGluZztcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9GQlUudGlsZXMtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9GQlUudGlsZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIFRJR0hUOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDE7ICAvLyBjb21wcmVzc2lvbi1jb250cm9sIGJ5dGVcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiVElHSFQgY29tcHJlc3Npb24tY29udHJvbFwiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHZhciBjaGVja3N1bSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzdW0gPiA2NTUzNikgc3VtIC09IDY1NTM2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1bTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVzZXRTdHJlYW1zID0gMDtcbiAgICAgICAgdmFyIHN0cmVhbUlkID0gLTE7XG4gICAgICAgIHZhciBkZWNvbXByZXNzID0gZnVuY3Rpb24gKGRhdGEsIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICgocmVzZXRTdHJlYW1zID4+IGkpICYgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9GQlUuemxpYnNbaV0ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgTG9nLkluZm8oXCJSZXNldCB6bGliIHN0cmVhbSBcIiArIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy92YXIgdW5jb21wcmVzc2VkID0gdGhpcy5fRkJVLnpsaWJzW3N0cmVhbUlkXS51bmNvbXByZXNzKGRhdGEsIDApO1xuICAgICAgICAgICAgdmFyIHVuY29tcHJlc3NlZCA9IHRoaXMuX0ZCVS56bGlic1tzdHJlYW1JZF0uaW5mbGF0ZShkYXRhLCB0cnVlLCBleHBlY3RlZCk7XG4gICAgICAgICAgICAvKmlmICh1bmNvbXByZXNzZWQuc3RhdHVzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgTG9nLkVycm9yKFwiSW52YWxpZCBkYXRhIGluIHpsaWIgc3RyZWFtXCIpO1xuICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgIC8vcmV0dXJuIHVuY29tcHJlc3NlZC5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHVuY29tcHJlc3NlZDtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHZhciBpbmRleGVkVG9SR0JYMkNvbG9yID0gZnVuY3Rpb24gKGRhdGEsIHBhbGV0dGUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgaW5kZXhlZCAocGFsZXR0ZSBiYXNlZCkgaW1hZ2UgZGF0YSB0byBSR0JcbiAgICAgICAgICAgIC8vIFRPRE86IHJlZHVjZSBudW1iZXIgb2YgY2FsY3VsYXRpb25zIGluc2lkZSBsb29wXG4gICAgICAgICAgICB2YXIgZGVzdCA9IHRoaXMuX2Rlc3RCdWZmO1xuICAgICAgICAgICAgdmFyIHcgPSBNYXRoLmZsb29yKCh3aWR0aCArIDcpIC8gOCk7XG4gICAgICAgICAgICB2YXIgdzEgPSBNYXRoLmZsb29yKHdpZHRoIC8gOCk7XG5cbiAgICAgICAgICAgIC8qZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgIHZhciBiLCB4LCBkcCwgc3A7XG4gICAgICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5ICogd2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIHliaXRvZmZzZXQgPSB5ICogdztcbiAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCwgdGFyZ2V0Ynl0ZTtcbiAgICAgICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgdzE7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0geW9mZnNldCArIHggKiA4O1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRieXRlID0gZGF0YVt5Yml0b2Zmc2V0ICsgeF07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoYiA9IDc7IGIgPj0gMDsgYi0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcCA9ICh4b2Zmc2V0ICsgNyAtIGIpICogMztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwID0gKHRhcmdldGJ5dGUgPj4gYiAmIDEpICogMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHBdID0gcGFsZXR0ZVtzcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMV0gPSBwYWxldHRlW3NwICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB4b2Zmc2V0ID0geW9mZnNldCArIHggKiA4O1xuICAgICAgICAgICAgICAgIHRhcmdldGJ5dGUgPSBkYXRhW3liaXRvZmZzZXQgKyB4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGIgPSA3OyBiID49IDggLSB3aWR0aCAlIDg7IGItLSkge1xuICAgICAgICAgICAgICAgICAgICBkcCA9ICh4b2Zmc2V0ICsgNyAtIGIpICogMztcbiAgICAgICAgICAgICAgICAgICAgc3AgPSAodGFyZ2V0Ynl0ZSA+PiBiICYgMSkgKiAzO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwXSA9IHBhbGV0dGVbc3BdO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgMV0gPSBwYWxldHRlW3NwICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAyXSA9IHBhbGV0dGVbc3AgKyAyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgIHZhciBiLCB4LCBkcCwgc3A7XG4gICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHcxOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChiID0gNzsgYiA+PSAwOyBiLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRwID0gKHkgKiB3aWR0aCArIHggKiA4ICsgNyAtIGIpICogNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwID0gKGRhdGFbeSAqIHcgKyB4XSA+PiBiICYgMSkgKiAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFtkcF0gPSBwYWxldHRlW3NwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAyXSA9IHBhbGV0dGVbc3AgKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAzXSA9IDI1NTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoYiA9IDc7IGIgPj0gOCAtIHdpZHRoICUgODsgYi0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGRwID0gKHkgKiB3aWR0aCArIHggKiA4ICsgNyAtIGIpICogNDtcbiAgICAgICAgICAgICAgICAgICAgc3AgPSAoZGF0YVt5ICogdyArIHhdID4+IGIgJiAxKSAqIDM7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHBdID0gcGFsZXR0ZVtzcF07XG4gICAgICAgICAgICAgICAgICAgIGRlc3RbZHAgKyAxXSA9IHBhbGV0dGVbc3AgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtkcCArIDJdID0gcGFsZXR0ZVtzcCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBkZXN0W2RwICsgM10gPSAyNTU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVzdDtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHZhciBpbmRleGVkVG9SR0JYID0gZnVuY3Rpb24gKGRhdGEsIHBhbGV0dGUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgaW5kZXhlZCAocGFsZXR0ZSBiYXNlZCkgaW1hZ2UgZGF0YSB0byBSR0JcbiAgICAgICAgICAgIHZhciBkZXN0ID0gdGhpcy5fZGVzdEJ1ZmY7XG4gICAgICAgICAgICB2YXIgdG90YWwgPSB3aWR0aCAqIGhlaWdodCAqIDQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbDsgaSArPSA0LCBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3AgPSBkYXRhW2pdICogMztcbiAgICAgICAgICAgICAgICBkZXN0W2ldID0gcGFsZXR0ZVtzcF07XG4gICAgICAgICAgICAgICAgZGVzdFtpICsgMV0gPSBwYWxldHRlW3NwICsgMV07XG4gICAgICAgICAgICAgICAgZGVzdFtpICsgMl0gPSBwYWxldHRlW3NwICsgMl07XG4gICAgICAgICAgICAgICAgZGVzdFtpICsgM10gPSAyNTU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZXN0O1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdmFyIHJRaSA9IHRoaXMuX3NvY2suZ2V0X3JRaSgpO1xuICAgICAgICB2YXIgclEgPSB0aGlzLl9zb2NrLnJRd2hvbGUoKTtcbiAgICAgICAgdmFyIGNtb2RlLCBkYXRhO1xuICAgICAgICB2YXIgY2xfaGVhZGVyLCBjbF9kYXRhO1xuXG4gICAgICAgIHZhciBoYW5kbGVQYWxldHRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG51bUNvbG9ycyA9IHJRW3JRaSArIDJdICsgMTtcbiAgICAgICAgICAgIHZhciBwYWxldHRlU2l6ZSA9IG51bUNvbG9ycyAqIDM7XG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gcGFsZXR0ZVNpemU7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJUSUdIVCBwYWxldHRlIFwiICsgY21vZGUsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIHZhciBicHAgPSAobnVtQ29sb3JzIDw9IDIpID8gMSA6IDg7XG4gICAgICAgICAgICB2YXIgcm93U2l6ZSA9IE1hdGguZmxvb3IoKHRoaXMuX0ZCVS53aWR0aCAqIGJwcCArIDcpIC8gOCk7XG4gICAgICAgICAgICB2YXIgcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocm93U2l6ZSAqIHRoaXMuX0ZCVS5oZWlnaHQgPCAxMikge1xuICAgICAgICAgICAgICAgIHJhdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2xfaGVhZGVyID0gMDtcbiAgICAgICAgICAgICAgICBjbF9kYXRhID0gcm93U2l6ZSAqIHRoaXMuX0ZCVS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy9jbGVuZ3RoID0gWzAsIHJvd1NpemUgKiB0aGlzLl9GQlUuaGVpZ2h0XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYmVnaW4gaW5saW5lIGdldFRpZ2h0Q0xlbmd0aCAocmV0dXJuaW5nIHR3by1pdGVtIGFycmF5cyBpcyBiYWQgZm9yIHBlcmZvcm1hbmNlIHdpdGggR0MpXG4gICAgICAgICAgICAgICAgdmFyIGNsX29mZnNldCA9IHJRaSArIDMgKyBwYWxldHRlU2l6ZTtcbiAgICAgICAgICAgICAgICBjbF9oZWFkZXIgPSAxO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgPSAwO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gclFbY2xfb2Zmc2V0XSAmIDB4N2Y7XG4gICAgICAgICAgICAgICAgaWYgKHJRW2NsX29mZnNldF0gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsX2hlYWRlcisrO1xuICAgICAgICAgICAgICAgICAgICBjbF9kYXRhICs9IChyUVtjbF9vZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyUVtjbF9vZmZzZXQgKyAxXSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsX2hlYWRlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xfZGF0YSArPSByUVtjbF9vZmZzZXQgKyAyXSA8PCAxNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbmQgaW5saW5lIGdldFRpZ2h0Q0xlbmd0aFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gY2xfaGVhZGVyICsgY2xfZGF0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIlRJR0hUIFwiICsgY21vZGUsIHRoaXMuX0ZCVS5ieXRlcykpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgICAgIC8vIFNoaWZ0IGN0bCwgZmlsdGVyIGlkLCBudW0gY29sb3JzLCBwYWxldHRlIGVudHJpZXMsIGFuZCBjbGVuZ3RoIG9mZlxuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygzKTtcbiAgICAgICAgICAgIC8vdmFyIHBhbGV0dGUgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhwYWxldHRlU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2hpZnRUbyh0aGlzLl9wYWxldHRlQnVmZiwgcGFsZXR0ZVNpemUpO1xuICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcyhjbF9oZWFkZXIpO1xuXG4gICAgICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKGNsX2RhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVjb21wcmVzcyh0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhjbF9kYXRhKSwgcm93U2l6ZSAqIHRoaXMuX0ZCVS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGluZGV4ZWQgKHBhbGV0dGUgYmFzZWQpIGltYWdlIGRhdGEgdG8gUkdCXG4gICAgICAgICAgICB2YXIgcmdieDtcbiAgICAgICAgICAgIGlmIChudW1Db2xvcnMgPT0gMikge1xuICAgICAgICAgICAgICAgIHJnYnggPSBpbmRleGVkVG9SR0JYMkNvbG9yKGRhdGEsIHRoaXMuX3BhbGV0dGVCdWZmLCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuYmxpdFJnYnhJbWFnZSh0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCwgcmdieCwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZ2J4ID0gaW5kZXhlZFRvUkdCWChkYXRhLCB0aGlzLl9wYWxldHRlQnVmZiwgdGhpcy5fRkJVLndpZHRoLCB0aGlzLl9GQlUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJsaXRSZ2J4SW1hZ2UodGhpcy5fRkJVLngsIHRoaXMuX0ZCVS55LCB0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQsIHJnYngsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHZhciBoYW5kbGVDb3B5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJhdyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHVuY29tcHJlc3NlZFNpemUgPSB0aGlzLl9GQlUud2lkdGggKiB0aGlzLl9GQlUuaGVpZ2h0ICogMztcbiAgICAgICAgICAgIGlmICh1bmNvbXByZXNzZWRTaXplIDwgMTIpIHtcbiAgICAgICAgICAgICAgICByYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNsX2hlYWRlciA9IDA7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSA9IHVuY29tcHJlc3NlZFNpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJlZ2luIGlubGluZSBnZXRUaWdodENMZW5ndGggKHJldHVybmluZyB0d28taXRlbSBhcnJheXMgaXMgZm9yIHBlZm9ybWFuY2Ugd2l0aCBHQylcbiAgICAgICAgICAgICAgICB2YXIgY2xfb2Zmc2V0ID0gclFpICsgMTtcbiAgICAgICAgICAgICAgICBjbF9oZWFkZXIgPSAxO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgPSAwO1xuICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gclFbY2xfb2Zmc2V0XSAmIDB4N2Y7XG4gICAgICAgICAgICAgICAgaWYgKHJRW2NsX29mZnNldF0gJiAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsX2hlYWRlcisrO1xuICAgICAgICAgICAgICAgICAgICBjbF9kYXRhICs9IChyUVtjbF9vZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyUVtjbF9vZmZzZXQgKyAxXSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsX2hlYWRlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xfZGF0YSArPSByUVtjbF9vZmZzZXQgKyAyXSA8PCAxNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbmQgaW5saW5lIGdldFRpZ2h0Q0xlbmd0aFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMSArIGNsX2hlYWRlciArIGNsX2RhdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJUSUdIVCBcIiArIGNtb2RlLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICAvLyBTaGlmdCBjdGwsIGNsZW5ndGggb2ZmXG4gICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcygxICsgY2xfaGVhZGVyKTtcblxuICAgICAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhjbF9kYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRlY29tcHJlc3ModGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoY2xfZGF0YSksIHVuY29tcHJlc3NlZFNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5LmJsaXRSZ2JJbWFnZSh0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCwgZGF0YSwgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHZhciBjdGwgPSB0aGlzLl9zb2NrLnJRcGVlazgoKTtcblxuICAgICAgICAvLyBLZWVwIHRpZ2h0IHJlc2V0IGJpdHNcbiAgICAgICAgcmVzZXRTdHJlYW1zID0gY3RsICYgMHhGO1xuXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgZmlsdGVyXG4gICAgICAgIGN0bCA9IGN0bCA+PiA0O1xuICAgICAgICBzdHJlYW1JZCA9IGN0bCAmIDB4MztcblxuICAgICAgICBpZiAoY3RsID09PSAweDA4KSAgICAgICBjbW9kZSA9IFwiZmlsbFwiO1xuICAgICAgICBlbHNlIGlmIChjdGwgPT09IDB4MDkpICBjbW9kZSA9IFwianBlZ1wiO1xuICAgICAgICBlbHNlIGlmIChjdGwgPT09IDB4MEEpICBjbW9kZSA9IFwicG5nXCI7XG4gICAgICAgIGVsc2UgaWYgKGN0bCAmIDB4MDQpICAgIGNtb2RlID0gXCJmaWx0ZXJcIjtcbiAgICAgICAgZWxzZSBpZiAoY3RsIDwgMHgwNCkgICAgY21vZGUgPSBcImNvcHlcIjtcbiAgICAgICAgZWxzZSByZXR1cm4gdGhpcy5fZmFpbChcIklsbGVnYWwgdGlnaHQgY29tcHJlc3Npb24gcmVjZWl2ZWQgKGN0bDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bCArIFwiKVwiKTtcblxuICAgICAgICBzd2l0Y2ggKGNtb2RlKSB7XG4gICAgICAgICAgICAvLyBmaWxsIHVzZSBkZXB0aCBiZWNhdXNlIFRQSVhFTHMgZHJvcCB0aGUgcGFkZGluZyBieXRlXG4gICAgICAgICAgICBjYXNlIFwiZmlsbFwiOiAgLy8gVFBJWEVMXG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwianBlZ1wiOiAgLy8gbWF4IGNsZW5ndGhcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwbmdcIjogIC8vIG1heCBjbGVuZ3RoXG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzICs9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmlsdGVyXCI6ICAvLyBmaWx0ZXIgaWQgKyBudW0gY29sb3JzIGlmIHBhbGV0dGVcbiAgICAgICAgICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgKz0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb3B5XCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJUSUdIVCBcIiArIGNtb2RlLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIC8vIERldGVybWluZSBGQlUuYnl0ZXNcbiAgICAgICAgc3dpdGNoIChjbW9kZSkge1xuICAgICAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgICAgICAvLyBza2lwIGN0bCBieXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheS5maWxsUmVjdCh0aGlzLl9GQlUueCwgdGhpcy5fRkJVLnksIHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCwgW3JRW3JRaSArIDNdLCByUVtyUWkgKyAyXSwgclFbclFpICsgMV1dLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcyg0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJqcGVnXCI6XG4gICAgICAgICAgICAgICAgLy8gYmVnaW4gaW5saW5lIGdldFRpZ2h0Q0xlbmd0aCAocmV0dXJuaW5nIHR3by1pdGVtIGFycmF5cyBpcyBmb3IgcGVmb3JtYW5jZSB3aXRoIEdDKVxuICAgICAgICAgICAgICAgIHZhciBjbF9vZmZzZXQgPSByUWkgKyAxO1xuICAgICAgICAgICAgICAgIGNsX2hlYWRlciA9IDE7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSA9IDA7XG4gICAgICAgICAgICAgICAgY2xfZGF0YSArPSByUVtjbF9vZmZzZXRdICYgMHg3ZjtcbiAgICAgICAgICAgICAgICBpZiAoclFbY2xfb2Zmc2V0XSAmIDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xfaGVhZGVyKys7XG4gICAgICAgICAgICAgICAgICAgIGNsX2RhdGEgKz0gKHJRW2NsX29mZnNldCArIDFdICYgMHg3ZikgPDwgNztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJRW2NsX29mZnNldCArIDFdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xfaGVhZGVyKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbF9kYXRhICs9IHJRW2NsX29mZnNldCArIDJdIDw8IDE0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVuZCBpbmxpbmUgZ2V0VGlnaHRDTGVuZ3RoXG4gICAgICAgICAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMSArIGNsX2hlYWRlciArIGNsX2RhdGE7ICAvLyBjdGwgKyBjbGVuZ3RoIHNpemUgKyBqcGVnLWRhdGFcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJUSUdIVCBcIiArIGNtb2RlLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBldmVyeXRoaW5nLCByZW5kZXIgaXRcbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDEgKyBjbF9oZWFkZXIpOyAgLy8gc2hpZnQgb2ZmIGNsdCArIGNvbXBhY3QgbGVuZ3RoXG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX3NvY2suclFzaGlmdEJ5dGVzKGNsX2RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXkuaW1hZ2VSZWN0KHRoaXMuX0ZCVS54LCB0aGlzLl9GQlUueSwgXCJpbWFnZS9cIiArIGNtb2RlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmaWx0ZXJcIjpcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVySWQgPSByUVtyUWkgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVySWQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVQYWxldHRlKCkpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIDAsIENvcHkgY291bGQgYmUgdmFsaWQgaGVyZSwgYnV0IHNlcnZlcnMgZG9uJ3Qgc2VuZCBpdCBhcyBhbiBleHBsaWNpdCBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIDIsIEdyYWRpZW50IGlzIHZhbGlkIGJ1dCBub3QgdXNlIGlmIGpwZWcgaXMgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mYWlsKFwiVW5zdXBwb3J0ZWQgdGlnaHQgc3ViZW5jb2RpbmcgcmVjZWl2ZWQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKGZpbHRlcjogXCIgKyBmaWx0ZXJJZCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlQ29weSgpKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9GQlUucmVjdHMtLTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgbGFzdF9yZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cyA9IDA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBFeHRlbmRlZERlc2t0b3BTaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX0ZCVS5ieXRlcyA9IDE7XG4gICAgICAgIGlmICh0aGlzLl9zb2NrLnJRd2FpdChcIkV4dGVuZGVkRGVza3RvcFNpemVcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICB2YXIgZmlyc3RVcGRhdGUgPSAhdGhpcy5fc3VwcG9ydHNTZXREZXNrdG9wU2l6ZTtcbiAgICAgICAgdGhpcy5fc3VwcG9ydHNTZXREZXNrdG9wU2l6ZSA9IHRydWU7XG5cbiAgICAgICAgLy8gTm9ybWFsbHkgd2Ugb25seSBhcHBseSB0aGUgY3VycmVudCByZXNpemUgbW9kZSBhZnRlciBhXG4gICAgICAgIC8vIHdpbmRvdyByZXNpemUgZXZlbnQuIEhvd2V2ZXIgdGhlcmUgaXMgbm8gc3VjaCB0cmlnZ2VyIG9uIHRoZVxuICAgICAgICAvLyBpbml0aWFsIGNvbm5lY3QuIEFuZCB3ZSBkb24ndCBrbm93IGlmIHRoZSBzZXJ2ZXIgc3VwcG9ydHNcbiAgICAgICAgLy8gcmVzaXppbmcgdW50aWwgd2UndmUgZ290dGVuIGhlcmUuXG4gICAgICAgIGlmIChmaXJzdFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFJlbW90ZVJlc2l6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bWJlcl9vZl9zY3JlZW5zID0gdGhpcy5fc29jay5yUXBlZWs4KCk7XG5cbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gNCArIChudW1iZXJfb2Zfc2NyZWVucyAqIDE2KTtcbiAgICAgICAgaWYgKHRoaXMuX3NvY2suclF3YWl0KFwiRXh0ZW5kZWREZXNrdG9wU2l6ZVwiLCB0aGlzLl9GQlUuYnl0ZXMpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMSk7ICAvLyBudW1iZXItb2Ytc2NyZWVuc1xuICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDMpOyAgLy8gcGFkZGluZ1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyX29mX3NjcmVlbnM7IGkgKz0gMSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgaWQgYW5kIGZsYWdzIG9mIHRoZSBmaXJzdCBzY3JlZW5cbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2NyZWVuX2lkID0gdGhpcy5fc29jay5yUXNoaWZ0Qnl0ZXMoNCk7ICAgIC8vIGlkXG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygyKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHgtcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2tpcEJ5dGVzKDIpOyAgICAgICAgICAgICAgICAgICAgICAgLy8geS1wb3NpdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aFxuICAgICAgICAgICAgICAgIHRoaXMuX3NvY2suclFza2lwQnl0ZXMoMik7ICAgICAgICAgICAgICAgICAgICAgICAvLyBoZWlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JlZW5fZmxhZ3MgPSB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyg0KTsgLy8gZmxhZ3NcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc29jay5yUXNraXBCeXRlcygxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAgKiBUaGUgeC1wb3NpdGlvbiBpbmRpY2F0ZXMgdGhlIHJlYXNvbiBmb3IgdGhlIGNoYW5nZTpcbiAgICAgICAgICpcbiAgICAgICAgICogIDAgLSBzZXJ2ZXIgcmVzaXplZCBvbiBpdHMgb3duXG4gICAgICAgICAqICAxIC0gdGhpcyBjbGllbnQgcmVxdWVzdGVkIHRoZSByZXNpemVcbiAgICAgICAgICogIDIgLSBhbm90aGVyIGNsaWVudCByZXF1ZXN0ZWQgdGhlIHJlc2l6ZVxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBlcnJvcnMgd2hlbiB3ZSByZXF1ZXN0ZWQgdGhlIHJlc2l6ZS5cbiAgICAgICAgaWYgKHRoaXMuX0ZCVS54ID09PSAxICYmIHRoaXMuX0ZCVS55ICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gXCJcIjtcbiAgICAgICAgICAgIC8vIFRoZSB5LXBvc2l0aW9uIGluZGljYXRlcyB0aGUgc3RhdHVzIGNvZGUgZnJvbSB0aGUgc2VydmVyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX0ZCVS55KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbXNnID0gXCJSZXNpemUgaXMgYWRtaW5pc3RyYXRpdmVseSBwcm9oaWJpdGVkXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgbXNnID0gXCJPdXQgb2YgcmVzb3VyY2VzXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgbXNnID0gXCJJbnZhbGlkIHNjcmVlbiBsYXlvdXRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbXNnID0gXCJVbmtub3duIHJlYXNvblwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTG9nLldhcm4oXCJTZXJ2ZXIgZGlkIG5vdCBhY2NlcHQgdGhlIHJlc2l6ZSByZXF1ZXN0OiBcIlxuICAgICAgICAgICAgICAgICAgICAgKyBtc2cpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplKHRoaXMuX0ZCVS53aWR0aCwgdGhpcy5fRkJVLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9GQlUucmVjdHMgLT0gMTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIERlc2t0b3BTaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZSh0aGlzLl9GQlUud2lkdGgsIHRoaXMuX0ZCVS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9GQlUucmVjdHMgLT0gMTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIEN1cnNvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2cuRGVidWcoXCI+PiBzZXRfY3Vyc29yXCIpO1xuICAgICAgICB2YXIgeCA9IHRoaXMuX0ZCVS54OyAgLy8gaG90c3BvdC14XG4gICAgICAgIHZhciB5ID0gdGhpcy5fRkJVLnk7ICAvLyBob3RzcG90LXlcbiAgICAgICAgdmFyIHcgPSB0aGlzLl9GQlUud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGhpcy5fRkJVLmhlaWdodDtcblxuICAgICAgICB2YXIgcGl4ZWxzbGVuZ3RoID0gdyAqIGggKiA0O1xuICAgICAgICB2YXIgbWFza2xlbmd0aCA9IE1hdGguZmxvb3IoKHcgKyA3KSAvIDgpICogaDtcblxuICAgICAgICB0aGlzLl9GQlUuYnl0ZXMgPSBwaXhlbHNsZW5ndGggKyBtYXNrbGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5fc29jay5yUXdhaXQoXCJjdXJzb3IgZW5jb2RpbmdcIiwgdGhpcy5fRkJVLmJ5dGVzKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICB0aGlzLl9kaXNwbGF5LmNoYW5nZUN1cnNvcih0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhwaXhlbHNsZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb2NrLnJRc2hpZnRCeXRlcyhtYXNrbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCwgeSwgdywgaCk7XG5cbiAgICAgICAgdGhpcy5fRkJVLmJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5fRkJVLnJlY3RzLS07XG5cbiAgICAgICAgTG9nLkRlYnVnKFwiPDwgc2V0X2N1cnNvclwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIFFFTVVFeHRlbmRlZEtleUV2ZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX0ZCVS5yZWN0cy0tO1xuXG4gICAgICAgIC8vIE9sZCBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IGNyZWF0aW5nIGtleWJvYXJkIGV2ZW50c1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGtleWJvYXJkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcImtleWJvYXJkRXZlbnRcIik7XG4gICAgICAgICAgICBpZiAoa2V5Ym9hcmRFdmVudC5jb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xZW11RXh0S2V5RXZlbnRTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbmltcG9ydCAqIGFzIExvZyBmcm9tICcuL2xvZ2dpbmcuanMnO1xuXG4vLyBUb3VjaCBkZXRlY3Rpb25cbmV4cG9ydCB2YXIgaXNUb3VjaERldmljZSA9ICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXF1cmllZCBmb3IgQ2hyb21lIGRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQub250b3VjaHN0YXJ0ICE9PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBmb3IgTVMgU3VyZmFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gb25GaXJzdFRvdWNoKCkge1xuICAgIGlzVG91Y2hEZXZpY2UgPSB0cnVlO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25GaXJzdFRvdWNoLCBmYWxzZSk7XG59LCBmYWxzZSk7XG5cbnZhciBfY3Vyc29yX3VyaXNfc3VwcG9ydGVkID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzQ3Vyc29yVVJJcyAoKSB7XG4gICAgaWYgKF9jdXJzb3JfdXJpc19zdXBwb3J0ZWQgPT09IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZS5jdXJzb3IgPSAndXJsKFwiZGF0YTppbWFnZS94LWljb247YmFzZTY0LEFBQUNBQUVBQ0FnQUFBSUFBZ0E0QVFBQUZnQUFBQ2dBQUFBSUFBQUFFQUFBQUFFQUlBQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9BQUFBQUFBQUFBQUFBQUFBQUFBQUFBPT1cIikgMiAyLCBkZWZhdWx0JztcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5zdHlsZS5jdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIkRhdGEgVVJJIHNjaGVtZSBjdXJzb3Igc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgICAgIF9jdXJzb3JfdXJpc19zdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMb2cuV2FybihcIkRhdGEgVVJJIHNjaGVtZSBjdXJzb3Igbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICBfY3Vyc29yX3VyaXNfc3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4Yykge1xuICAgICAgICAgICAgTG9nLkVycm9yKFwiRGF0YSBVUkkgc2NoZW1lIGN1cnNvciB0ZXN0IGV4Y2VwdGlvbjogXCIgKyBleGMpO1xuICAgICAgICAgICAgX2N1cnNvcl91cmlzX3N1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jdXJzb3JfdXJpc19zdXBwb3J0ZWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNNYWMoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiAhISgvbWFjL2kpLmV4ZWMobmF2aWdhdG9yLnBsYXRmb3JtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSUUoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJiAhISgvdHJpZGVudC9pKS5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFZGdlKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IgJiYgISEoL2VkZ2UvaSkuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzV2luZG93cygpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yICYmICEhKC93aW4vaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJT1MoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvciAmJlxuICAgICAgICAgICAoISEoL2lwYWQvaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pIHx8XG4gICAgICAgICAgICAhISgvaXBob25lL2kpLmV4ZWMobmF2aWdhdG9yLnBsYXRmb3JtKSB8fFxuICAgICAgICAgICAgISEoL2lwb2QvaSkuZXhlYyhuYXZpZ2F0b3IucGxhdGZvcm0pKTtcbn1cblxuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgKEMpIDIwMTIgSm9lbCBNYXJ0aW5cbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbi8qXG4gKiBDcm9zcy1icm93c2VyIGV2ZW50IGFuZCBwb3NpdGlvbiByb3V0aW5lc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludGVyRXZlbnQgKGUpIHtcbiAgICByZXR1cm4gZS5jaGFuZ2VkVG91Y2hlcyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0gOiBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BFdmVudCAoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufTtcblxuLy8gRW11bGF0ZSBFbGVtZW50LnNldENhcHR1cmUoKSB3aGVuIG5vdCBzdXBwb3J0ZWRcbnZhciBfY2FwdHVyZVJlY3Vyc2lvbiA9IGZhbHNlO1xudmFyIF9jYXB0dXJlRWxlbSA9IG51bGw7XG5mdW5jdGlvbiBfY2FwdHVyZVByb3h5KGUpIHtcbiAgICAvLyBSZWN1cnNpb24gcHJvdGVjdGlvbiBhcyB3ZSdsbCBzZWUgb3VyIG93biBldmVudFxuICAgIGlmIChfY2FwdHVyZVJlY3Vyc2lvbikgcmV0dXJuO1xuXG4gICAgLy8gQ2xvbmUgdGhlIGV2ZW50IGFzIHdlIGNhbm5vdCBkaXNwYXRjaCBhbiBhbHJlYWR5IGRpc3BhdGNoZWQgZXZlbnRcbiAgICB2YXIgbmV3RXYgPSBuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpO1xuXG4gICAgX2NhcHR1cmVSZWN1cnNpb24gPSB0cnVlO1xuICAgIF9jYXB0dXJlRWxlbS5kaXNwYXRjaEV2ZW50KG5ld0V2KTtcbiAgICBfY2FwdHVyZVJlY3Vyc2lvbiA9IGZhbHNlO1xuXG4gICAgLy8gQXZvaWQgZG91YmxlIGV2ZW50c1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBSZXNwZWN0IHRoZSB3aXNoZXMgb2YgdGhlIHJlZGlyZWN0ZWQgZXZlbnQgaGFuZGxlcnNcbiAgICBpZiAobmV3RXYuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gSW1wbGljaXRseSByZWxlYXNlIHRoZSBjYXB0dXJlIG9uIGJ1dHRvbiByZWxlYXNlXG4gICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZXVwXCIpIHtcbiAgICAgICAgcmVsZWFzZUNhcHR1cmUoKTtcbiAgICB9XG59O1xuXG4vLyBGb2xsb3cgY3Vyc29yIHN0eWxlIG9mIHRhcmdldCBlbGVtZW50XG5mdW5jdGlvbiBfY2FwdHVyZUVsZW1DaGFuZ2VkKCkge1xuICAgIHZhciBjYXB0dXJlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9WTkNfbW91c2VfY2FwdHVyZV9lbGVtXCIpO1xuICAgIGNhcHR1cmVFbGVtLnN0eWxlLmN1cnNvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKF9jYXB0dXJlRWxlbSkuY3Vyc29yO1xufTtcbnZhciBfY2FwdHVyZU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoX2NhcHR1cmVFbGVtQ2hhbmdlZCk7XG5cbnZhciBfY2FwdHVyZUluZGV4ID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldENhcHR1cmUgKGVsZW0pIHtcbiAgICBpZiAoZWxlbS5zZXRDYXB0dXJlKSB7XG5cbiAgICAgICAgZWxlbS5zZXRDYXB0dXJlKCk7XG5cbiAgICAgICAgLy8gSUUgcmVsZWFzZXMgY2FwdHVyZSBvbiAnY2xpY2snIGV2ZW50cyB3aGljaCBtaWdodCBub3QgdHJpZ2dlclxuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCByZWxlYXNlQ2FwdHVyZSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWxlYXNlIGFueSBleGlzdGluZyBjYXB0dXJlIGluIGNhc2UgdGhpcyBtZXRob2QgaXNcbiAgICAgICAgLy8gY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdpdGhvdXQgY29vcmRpbmF0aW9uXG4gICAgICAgIHJlbGVhc2VDYXB0dXJlKCk7XG5cbiAgICAgICAgdmFyIGNhcHR1cmVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub1ZOQ19tb3VzZV9jYXB0dXJlX2VsZW1cIik7XG5cbiAgICAgICAgaWYgKGNhcHR1cmVFbGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5pZCA9IFwibm9WTkNfbW91c2VfY2FwdHVyZV9lbGVtXCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLnpJbmRleCA9IDEwMDAwO1xuICAgICAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYXB0dXJlRWxlbSk7XG5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gbWFrZSBzdXJlIGNhbGxlcnMgZG9uJ3QgZ2V0IGNvbmZ1c2VkIGJ5IGhhdmluZ1xuICAgICAgICAgICAgLy8gb3VyIGJsb2NraW5nIGVsZW1lbnQgYXMgdGhlIHRhcmdldFxuICAgICAgICAgICAgY2FwdHVyZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBfY2FwdHVyZVByb3h5KTtcblxuICAgICAgICAgICAgY2FwdHVyZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX2NhcHR1cmVQcm94eSk7XG4gICAgICAgICAgICBjYXB0dXJlRWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX2NhcHR1cmVQcm94eSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY2FwdHVyZUVsZW0gPSBlbGVtO1xuICAgICAgICBfY2FwdHVyZUluZGV4Kys7XG5cbiAgICAgICAgLy8gVHJhY2sgY3Vyc29yIGFuZCBnZXQgaW5pdGlhbCBjdXJzb3JcbiAgICAgICAgX2NhcHR1cmVPYnNlcnZlci5vYnNlcnZlKGVsZW0sIHthdHRyaWJ1dGVzOnRydWV9KTtcbiAgICAgICAgX2NhcHR1cmVFbGVtQ2hhbmdlZCgpO1xuXG4gICAgICAgIGNhcHR1cmVFbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXG4gICAgICAgIC8vIFdlIGxpc3RlbiB0byBldmVudHMgb24gd2luZG93IGluIG9yZGVyIHRvIGtlZXAgdHJhY2tpbmcgaWYgaXRcbiAgICAgICAgLy8gaGFwcGVucyB0byBsZWF2ZSB0aGUgdmlld3BvcnRcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF9jYXB0dXJlUHJveHkpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9jYXB0dXJlUHJveHkpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlQ2FwdHVyZSAoKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlbGVhc2VDYXB0dXJlKSB7XG5cbiAgICAgICAgZG9jdW1lbnQucmVsZWFzZUNhcHR1cmUoKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghX2NhcHR1cmVFbGVtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBtaWdodCBiZSBldmVudHMgYWxyZWFkeSBxdWV1ZWQsIHNvIHdlIG5lZWQgdG8gd2FpdCBmb3JcbiAgICAgICAgLy8gdGhlbSB0byBmbHVzaC4gRS5nLiBjb250ZXh0bWVudSBpbiBNaWNyb3NvZnQgRWRnZVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbihleHBlY3RlZCkge1xuICAgICAgICAgICAgLy8gT25seSBjbGVhciBpdCBpZiBpdCdzIHRoZSBleHBlY3RlZCBncmFiIChpLmUuIG5vIG9uZVxuICAgICAgICAgICAgLy8gZWxzZSBoYXMgaW5pdGlhdGVkIGEgbmV3IGdyYWIpXG4gICAgICAgICAgICBpZiAoX2NhcHR1cmVJbmRleCA9PT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBfY2FwdHVyZUVsZW0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwLCBfY2FwdHVyZUluZGV4KTtcblxuICAgICAgICBfY2FwdHVyZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblxuICAgICAgICB2YXIgY2FwdHVyZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vVk5DX21vdXNlX2NhcHR1cmVfZWxlbVwiKTtcbiAgICAgICAgY2FwdHVyZUVsZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfY2FwdHVyZVByb3h5KTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfY2FwdHVyZVByb3h5KTtcbiAgICB9XG59O1xuIiwiLypcbiAqIG5vVk5DOiBIVE1MNSBWTkMgY2xpZW50XG4gKiBDb3B5cmlnaHQgMjAxNyBQaWVycmUgT3NzbWFuIGZvciBDZW5kaW8gQUJcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgKHNlZSBMSUNFTlNFLnR4dClcbiAqXG4gKiBTZWUgUkVBRE1FLm1kIGZvciB1c2FnZSBhbmQgaW50ZWdyYXRpb24gaW5zdHJ1Y3Rpb25zLlxuICovXG5cbnZhciBFdmVudFRhcmdldE1peGluID0ge1xuICAgIF9saXN0ZW5lcnM6IG51bGwsXG5cbiAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMuaGFzKHR5cGUpKSB7XG4gICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KHR5cGUsIG5ldyBTZXQoKSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KHR5cGUpLmFkZChjYWxsYmFjayk7XG4gICB9LFxuXG4gICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMgfHwgIXRoaXMuX2xpc3RlbmVycy5oYXModHlwZSkpIHtcbiAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xpc3RlbmVycy5nZXQodHlwZSkuZGVsZXRlKGNhbGxiYWNrKTtcbiAgIH0sXG5cbiAgIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycyB8fCAhdGhpcy5fbGlzdGVuZXJzLmhhcyhldmVudC50eXBlKSkge1xuICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KGV2ZW50LnR5cGUpLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50VGFyZ2V0TWl4aW47XG4iLCIvKlxuICogbm9WTkM6IEhUTUw1IFZOQyBjbGllbnRcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFNlZSBSRUFETUUubWQgZm9yIHVzYWdlIGFuZCBpbnRlZ3JhdGlvbiBpbnN0cnVjdGlvbnMuXG4gKi9cblxuLypcbiAqIExvZ2dpbmcvZGVidWcgcm91dGluZXNcbiAqL1xuXG52YXIgX2xvZ19sZXZlbCA9ICd3YXJuJztcblxudmFyIERlYnVnID0gZnVuY3Rpb24gKG1zZykge307XG52YXIgSW5mbyA9IGZ1bmN0aW9uIChtc2cpIHt9O1xudmFyIFdhcm4gPSBmdW5jdGlvbiAobXNnKSB7fTtcbnZhciBFcnJvciA9IGZ1bmN0aW9uIChtc2cpIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9sb2dnaW5nIChsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxldmVsID0gX2xvZ19sZXZlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfbG9nX2xldmVsID0gbGV2ZWw7XG4gICAgfVxuXG4gICAgRGVidWcgPSBJbmZvID0gV2FybiA9IEVycm9yID0gZnVuY3Rpb24gKG1zZykge307XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgICAgICAgICAgRGVidWcgPSBjb25zb2xlLmRlYnVnLmJpbmQod2luZG93LmNvbnNvbGUpO1xuICAgICAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICAgICAgSW5mbyAgPSBjb25zb2xlLmluZm8uYmluZCh3aW5kb3cuY29uc29sZSk7XG4gICAgICAgICAgICBjYXNlICd3YXJuJzpcbiAgICAgICAgICAgICAgICBXYXJuICA9IGNvbnNvbGUud2Fybi5iaW5kKHdpbmRvdy5jb25zb2xlKTtcbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICBFcnJvciA9IGNvbnNvbGUuZXJyb3IuYmluZCh3aW5kb3cuY29uc29sZSk7XG4gICAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBsb2dnaW5nIHR5cGUgJ1wiICsgbGV2ZWwgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9sb2dnaW5nICgpIHtcbiAgICByZXR1cm4gX2xvZ19sZXZlbDtcbn07XG5leHBvcnQgeyBEZWJ1ZywgSW5mbywgV2FybiwgRXJyb3IgfTtcblxuLy8gSW5pdGlhbGl6ZSBsb2dnaW5nIGxldmVsXG5pbml0X2xvZ2dpbmcoKTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IDIwMTcgUGllcnJlIE9zc21hbiBmb3Igbm9WTkNcbiAqIExpY2Vuc2VkIHVuZGVyIE1QTCAyLjAgb3IgYW55IGxhdGVyIHZlcnNpb24gKHNlZSBMSUNFTlNFLnR4dClcbiAqL1xuXG4vKiBQb2x5ZmlsbHMgdG8gcHJvdmlkZSBuZXcgQVBJcyBpbiBvbGQgYnJvd3NlcnMgKi9cblxuLyogT2JqZWN0LmFzc2lnbigpICh0YWtlbiBmcm9tIE1ETikgKi9cbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gTXVzdCBiZSB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsIFwiYXNzaWduXCIsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHZhckFyZ3MpIHsgLy8gLmxlbmd0aCBvZiBmdW5jdGlvbiBpcyAyXG4gICAgICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHsgLy8gVHlwZUVycm9yIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHsgLy8gU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgYnVncyB3aGVuIGhhc093blByb3BlcnR5IGlzIHNoYWRvd2VkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG59XG5cbi8qIEN1c3RvbUV2ZW50IGNvbnN0cnVjdG9yICh0YWtlbiBmcm9tIE1ETikgKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKCBldmVudCwgcGFyYW1zICkge1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkIH07XG4gICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCggJ0N1c3RvbUV2ZW50JyApO1xuICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsICk7XG4gICAgICAgIHJldHVybiBldnQ7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG4gICAgfVxufSkoKTtcbiIsIi8qXG4gKiBub1ZOQzogSFRNTDUgVk5DIGNsaWVudFxuICogQ29weXJpZ2h0IChDKSAyMDEyIEpvZWwgTWFydGluXG4gKiBMaWNlbnNlZCB1bmRlciBNUEwgMi4wIChzZWUgTElDRU5TRS50eHQpXG4gKlxuICogU2VlIFJFQURNRS5tZCBmb3IgdXNhZ2UgYW5kIGludGVncmF0aW9uIGluc3RydWN0aW9ucy5cbiAqL1xuXG4vKlxuICogRGVjb2RlIGZyb20gVVRGLThcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVVURjggKHV0ZjhzdHJpbmcpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZSh1dGY4c3RyaW5nKSk7XG59O1xuIiwiLypcbiAqIFdlYnNvY2s6IGhpZ2gtcGVyZm9ybWFuY2UgYmluYXJ5IFdlYlNvY2tldHNcbiAqIENvcHlyaWdodCAoQykgMjAxMiBKb2VsIE1hcnRpblxuICogTGljZW5zZWQgdW5kZXIgTVBMIDIuMCAoc2VlIExJQ0VOU0UudHh0KVxuICpcbiAqIFdlYnNvY2sgaXMgc2ltaWxhciB0byB0aGUgc3RhbmRhcmQgV2ViU29ja2V0IG9iamVjdCBidXQgd2l0aCBleHRyYVxuICogYnVmZmVyIGhhbmRsaW5nLlxuICpcbiAqIFdlYnNvY2sgaGFzIGJ1aWx0LWluIHJlY2VpdmUgcXVldWUgYnVmZmVyaW5nOyB0aGUgbWVzc2FnZSBldmVudFxuICogZG9lcyBub3QgY29udGFpbiBhY3R1YWwgZGF0YSBidXQgaXMgc2ltcGx5IGEgbm90aWZpY2F0aW9uIHRoYXRcbiAqIHRoZXJlIGlzIG5ldyBkYXRhIGF2YWlsYWJsZS4gU2V2ZXJhbCByUSogbWV0aG9kcyBhcmUgYXZhaWxhYmxlIHRvXG4gKiByZWFkIGJpbmFyeSBkYXRhIG9mZiBvZiB0aGUgcmVjZWl2ZSBxdWV1ZS5cbiAqL1xuXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnLi91dGlsL2xvZ2dpbmcuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXZWJzb2NrKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdGhpcy5fd2Vic29ja2V0ID0gbnVsbDsgIC8vIFdlYlNvY2tldCBvYmplY3RcblxuICAgIHRoaXMuX3JRaSA9IDA7ICAgICAgICAgICAvLyBSZWNlaXZlIHF1ZXVlIGluZGV4XG4gICAgdGhpcy5fclFsZW4gPSAwOyAgICAgICAgIC8vIE5leHQgd3JpdGUgcG9zaXRpb24gaW4gdGhlIHJlY2VpdmUgcXVldWVcbiAgICB0aGlzLl9yUWJ1ZmZlclNpemUgPSAxMDI0ICogMTAyNCAqIDQ7IC8vIFJlY2VpdmUgcXVldWUgYnVmZmVyIHNpemUgKDQgTWlCKVxuICAgIHRoaXMuX3JRbWF4ID0gdGhpcy5fclFidWZmZXJTaXplIC8gODtcbiAgICAvLyBjYWxsZWQgaW4gaW5pdDogdGhpcy5fclEgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yUWJ1ZmZlclNpemUpO1xuICAgIHRoaXMuX3JRID0gbnVsbDsgLy8gUmVjZWl2ZSBxdWV1ZVxuXG4gICAgdGhpcy5fc1FidWZmZXJTaXplID0gMTAyNCAqIDEwOyAgLy8gMTAgS2lCXG4gICAgLy8gY2FsbGVkIGluIGluaXQ6IHRoaXMuX3NRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc1FidWZmZXJTaXplKTtcbiAgICB0aGlzLl9zUWxlbiA9IDA7XG4gICAgdGhpcy5fc1EgPSBudWxsOyAgLy8gU2VuZCBxdWV1ZVxuXG4gICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgICAgJ21lc3NhZ2UnOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgJ29wZW4nOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgJ2Nsb3NlJzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgICdlcnJvcic6IGZ1bmN0aW9uICgpIHt9XG4gICAgfTtcbn07XG5cbi8vIHRoaXMgaGFzIHBlcmZvcm1hbmNlIGlzc3VlcyBpbiBzb21lIHZlcnNpb25zIENocm9taXVtLCBhbmRcbi8vIGRvZXNuJ3QgZ2FpbiBhIHRyZW1lbmRvdXMgYW1vdW50IG9mIHBlcmZvcm1hbmNlIGluY3JlYXNlIGluIEZpcmVmb3hcbi8vIGF0IHRoZSBtb21lbnQuICBJdCBtYXkgYmUgdmFsdWFibGUgdG8gdHVybiBpdCBvbiBpbiB0aGUgZnV0dXJlLlxudmFyIEVOQUJMRV9DT1BZV0lUSElOID0gZmFsc2U7XG5cbnZhciBNQVhfUlFfR1JPV19TSVpFID0gNDAgKiAxMDI0ICogMTAyNDsgIC8vIDQwIE1pQlxuXG52YXIgdHlwZWRBcnJheVRvU3RyaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaGlzIGlzIG9ubHkgZm9yIFBoYW50b21KUywgd2hpY2ggZG9lc24ndCBsaWtlIGFwcGx5LWluZ1xuICAgIC8vIHdpdGggVHlwZWQgQXJyYXlzXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KFsxLCAyLCAzXSk7XG4gICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYXJyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGEpOyB9O1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICAgICAgICAgICAgbnVsbCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSkpO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG5cbldlYnNvY2sucHJvdG90eXBlID0ge1xuICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnNcbiAgICBnZXRfc1E6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NRO1xuICAgIH0sXG5cbiAgICBnZXRfclE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRO1xuICAgIH0sXG5cbiAgICBnZXRfclFpOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUWk7XG4gICAgfSxcblxuICAgIHNldF9yUWk6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgdGhpcy5fclFpID0gdmFsO1xuICAgIH0sXG5cbiAgICAvLyBSZWNlaXZlIFF1ZXVlXG4gICAgclFsZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JRbGVuIC0gdGhpcy5fclFpO1xuICAgIH0sXG5cbiAgICByUXBlZWs4OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yUVt0aGlzLl9yUWldO1xuICAgIH0sXG5cbiAgICByUXNoaWZ0ODogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fclFbdGhpcy5fclFpKytdO1xuICAgIH0sXG5cbiAgICByUXNraXA4OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3JRaSsrO1xuICAgIH0sXG5cbiAgICByUXNraXBCeXRlczogZnVuY3Rpb24gKG51bSkge1xuICAgICAgICB0aGlzLl9yUWkgKz0gbnVtO1xuICAgIH0sXG5cbiAgICAvLyBUT0RPKGRpcmVjdHhtYW4xMik6IHRlc3QgcGVyZm9ybWFuY2Ugd2l0aCB0aGVzZSB2cyBhIERhdGFWaWV3XG4gICAgclFzaGlmdDE2OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fclFbdGhpcy5fclFpKytdIDw8IDgpICtcbiAgICAgICAgICAgICAgIHRoaXMuX3JRW3RoaXMuX3JRaSsrXTtcbiAgICB9LFxuXG4gICAgclFzaGlmdDMyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fclFbdGhpcy5fclFpKytdIDw8IDI0KSArXG4gICAgICAgICAgICAgICAodGhpcy5fclFbdGhpcy5fclFpKytdIDw8IDE2KSArXG4gICAgICAgICAgICAgICAodGhpcy5fclFbdGhpcy5fclFpKytdIDw8IDgpICtcbiAgICAgICAgICAgICAgIHRoaXMuX3JRW3RoaXMuX3JRaSsrXTtcbiAgICB9LFxuXG4gICAgclFzaGlmdFN0cjogZnVuY3Rpb24gKGxlbikge1xuICAgICAgICBpZiAodHlwZW9mKGxlbikgPT09ICd1bmRlZmluZWQnKSB7IGxlbiA9IHRoaXMuclFsZW4oKTsgfVxuICAgICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWksIGxlbik7XG4gICAgICAgIHRoaXMuX3JRaSArPSBsZW47XG4gICAgICAgIHJldHVybiB0eXBlZEFycmF5VG9TdHJpbmcoYXJyKTtcbiAgICB9LFxuXG4gICAgclFzaGlmdEJ5dGVzOiBmdW5jdGlvbiAobGVuKSB7XG4gICAgICAgIGlmICh0eXBlb2YobGVuKSA9PT0gJ3VuZGVmaW5lZCcpIHsgbGVuID0gdGhpcy5yUWxlbigpOyB9XG4gICAgICAgIHRoaXMuX3JRaSArPSBsZW47XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIHRoaXMuX3JRaSAtIGxlbiwgbGVuKTtcbiAgICB9LFxuXG4gICAgclFzaGlmdFRvOiBmdW5jdGlvbiAodGFyZ2V0LCBsZW4pIHtcbiAgICAgICAgaWYgKGxlbiA9PT0gdW5kZWZpbmVkKSB7IGxlbiA9IHRoaXMuclFsZW4oKTsgfVxuICAgICAgICAvLyBUT0RPOiBtYWtlIHRoaXMganVzdCB1c2Ugc2V0IHdpdGggdmlld3Mgd2hlbiB1c2luZyBhIEFycmF5QnVmZmVyIHRvIHN0b3JlIHRoZSByUVxuICAgICAgICB0YXJnZXQuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuX3JRLmJ1ZmZlciwgdGhpcy5fclFpLCBsZW4pKTtcbiAgICAgICAgdGhpcy5fclFpICs9IGxlbjtcbiAgICB9LFxuXG4gICAgclF3aG9sZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCAwLCB0aGlzLl9yUWxlbik7XG4gICAgfSxcblxuICAgIHJRc2xpY2U6IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChlbmQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIHRoaXMuX3JRaSArIHN0YXJ0LCBlbmQgLSBzdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5fclEuYnVmZmVyLCB0aGlzLl9yUWkgKyBzdGFydCwgdGhpcy5fclFsZW4gLSB0aGlzLl9yUWkgLSBzdGFydCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIG11c3Qgd2FpdCBmb3IgJ251bScgYnl0ZXMgKGRlZmF1bHQgdG8gRkJVLmJ5dGVzKVxuICAgIC8vIHRvIGJlIGF2YWlsYWJsZSBpbiB0aGUgcmVjZWl2ZSBxdWV1ZS4gUmV0dXJuIHRydWUgaWYgd2UgbmVlZCB0b1xuICAgIC8vIHdhaXQgKGFuZCBwb3NzaWJseSBwcmludCBhIGRlYnVnIG1lc3NhZ2UpLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgclF3YWl0OiBmdW5jdGlvbiAobXNnLCBudW0sIGdvYmFjaykge1xuICAgICAgICB2YXIgclFsZW4gPSB0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaTsgLy8gU2tpcCByUWxlbigpIGZ1bmN0aW9uIGNhbGxcbiAgICAgICAgaWYgKHJRbGVuIDwgbnVtKSB7XG4gICAgICAgICAgICBpZiAoZ29iYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JRaSA8IGdvYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyUXdhaXQgY2Fubm90IGJhY2t1cCBcIiArIGdvYmFjayArIFwiIGJ5dGVzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9yUWkgLT0gZ29iYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIHRydWUgbWVhbnMgbmVlZCBtb3JlIGRhdGFcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIFNlbmQgUXVldWVcblxuICAgIGZsdXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zUWxlbiA+IDAgJiYgdGhpcy5fd2Vic29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWJzb2NrZXQuc2VuZCh0aGlzLl9lbmNvZGVfbWVzc2FnZSgpKTtcbiAgICAgICAgICAgIHRoaXMuX3NRbGVuID0gMDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzZW5kOiBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIHRoaXMuX3NRLnNldChhcnIsIHRoaXMuX3NRbGVuKTtcbiAgICAgICAgdGhpcy5fc1FsZW4gKz0gYXJyLmxlbmd0aDtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH0sXG5cbiAgICBzZW5kX3N0cmluZzogZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB0aGlzLnNlbmQoc3RyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGNocikge1xuICAgICAgICAgICAgcmV0dXJuIGNoci5jaGFyQ29kZUF0KDApO1xuICAgICAgICB9KSk7XG4gICAgfSxcblxuICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgb2ZmOiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnNbZXZ0XSA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIH0sXG5cbiAgICBvbjogZnVuY3Rpb24gKGV2dCwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzW2V2dF0gPSBoYW5kbGVyO1xuICAgIH0sXG5cbiAgICBfYWxsb2NhdGVfYnVmZmVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yUSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3JRYnVmZmVyU2l6ZSk7XG4gICAgICAgIHRoaXMuX3NRID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc1FidWZmZXJTaXplKTtcbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9hbGxvY2F0ZV9idWZmZXJzKCk7XG4gICAgICAgIHRoaXMuX3JRaSA9IDA7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldCA9IG51bGw7XG4gICAgfSxcblxuICAgIG9wZW46IGZ1bmN0aW9uICh1cmksIHByb3RvY29scykge1xuICAgICAgICB2YXIgd3Nfc2NoZW1hID0gdXJpLm1hdGNoKC9eKFthLXpdKyk6XFwvXFwvLylbMV07XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuX3dlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMpO1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICAgICAgdGhpcy5fd2Vic29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMuX3JlY3ZfbWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25vcGVuID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIExvZy5EZWJ1ZygnPj4gV2ViU29jay5vbm9wZW4nKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl93ZWJzb2NrZXQucHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICBMb2cuSW5mbyhcIlNlcnZlciBjaG9vc2Ugc3ViLXByb3RvY29sOiBcIiArIHRoaXMuX3dlYnNvY2tldC5wcm90b2NvbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcnMub3BlbigpO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPDwgV2ViU29jay5vbm9wZW5cIik7XG4gICAgICAgIH0pLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3dlYnNvY2tldC5vbmNsb3NlID0gKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBMb2cuRGVidWcoXCI+PiBXZWJTb2NrLm9uY2xvc2VcIik7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXJzLmNsb3NlKGUpO1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPDwgV2ViU29jay5vbmNsb3NlXCIpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25lcnJvciA9IChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiPj4gV2ViU29jay5vbmVycm9yOiBcIiArIGUpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycy5lcnJvcihlKTtcbiAgICAgICAgICAgIExvZy5EZWJ1ZyhcIjw8IFdlYlNvY2sub25lcnJvcjogXCIgKyBlKTtcbiAgICAgICAgfSkuYmluZCh0aGlzKTtcbiAgICB9LFxuXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dlYnNvY2tldCkge1xuICAgICAgICAgICAgaWYgKCh0aGlzLl93ZWJzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl93ZWJzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpKSB7XG4gICAgICAgICAgICAgICAgTG9nLkluZm8oXCJDbG9zaW5nIFdlYlNvY2tldCBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlYnNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl93ZWJzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuOyB9O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGUgbWV0aG9kc1xuICAgIF9lbmNvZGVfbWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBQdXQgaW4gYSBiaW5hcnkgYXJyYXlidWZmZXJcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIHRoZSBzcGVjLCB5b3UgY2FuIHNlbmQgQXJyYXlCdWZmZXJWaWV3cyB3aXRoIHRoZSBzZW5kIG1ldGhvZFxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc1EuYnVmZmVyLCAwLCB0aGlzLl9zUWxlbik7XG4gICAgfSxcblxuICAgIF9leHBhbmRfY29tcGFjdF9yUTogZnVuY3Rpb24gKG1pbl9maXQpIHtcbiAgICAgICAgdmFyIHJlc2l6ZU5lZWRlZCA9IG1pbl9maXQgfHwgdGhpcy5fclFsZW4gLSB0aGlzLl9yUWkgPiB0aGlzLl9yUWJ1ZmZlclNpemUgLyAyO1xuICAgICAgICBpZiAocmVzaXplTmVlZGVkKSB7XG4gICAgICAgICAgICBpZiAoIW1pbl9maXQpIHtcbiAgICAgICAgICAgICAgICAvLyBqdXN0IGRvdWJsZSB0aGUgc2l6ZSBpZiB3ZSBuZWVkIHRvIGRvIGNvbXBhY3Rpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9yUWJ1ZmZlclNpemUgKj0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBtYWtlIHN1cmUgd2Ugc2F0aXN5IHJRbGVuIC0gclFpICsgbWluX2ZpdCA8IHJRYnVmZmVyU2l6ZSAvIDhcbiAgICAgICAgICAgICAgICB0aGlzLl9yUWJ1ZmZlclNpemUgPSAodGhpcy5fclFsZW4gLSB0aGlzLl9yUWkgKyBtaW5fZml0KSAqIDg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGdyb3cgdW5ib3VuZGVkbHlcbiAgICAgICAgaWYgKHRoaXMuX3JRYnVmZmVyU2l6ZSA+IE1BWF9SUV9HUk9XX1NJWkUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JRYnVmZmVyU2l6ZSA9IE1BWF9SUV9HUk9XX1NJWkU7XG4gICAgICAgICAgICBpZiAodGhpcy5fclFidWZmZXJTaXplIC0gdGhpcy5fclFsZW4gLSB0aGlzLl9yUWkgPCBtaW5fZml0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlJlY2VpdmUgUXVldWUgYnVmZmVyIGV4Y2VlZGVkIFwiICsgTUFYX1JRX0dST1dfU0laRSArIFwiIGJ5dGVzLCBhbmQgdGhlIG5ldyBtZXNzYWdlIGNvdWxkIG5vdCBmaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzaXplTmVlZGVkKSB7XG4gICAgICAgICAgICB2YXIgb2xkX3JRYnVmZmVyID0gdGhpcy5fclEuYnVmZmVyO1xuICAgICAgICAgICAgdGhpcy5fclFtYXggPSB0aGlzLl9yUWJ1ZmZlclNpemUgLyA4O1xuICAgICAgICAgICAgdGhpcy5fclEgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yUWJ1ZmZlclNpemUpO1xuICAgICAgICAgICAgdGhpcy5fclEuc2V0KG5ldyBVaW50OEFycmF5KG9sZF9yUWJ1ZmZlciwgdGhpcy5fclFpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoRU5BQkxFX0NPUFlXSVRISU4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yUS5jb3B5V2l0aGluKDAsIHRoaXMuX3JRaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JRLnNldChuZXcgVWludDhBcnJheSh0aGlzLl9yUS5idWZmZXIsIHRoaXMuX3JRaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fclFsZW4gPSB0aGlzLl9yUWxlbiAtIHRoaXMuX3JRaTtcbiAgICAgICAgdGhpcy5fclFpID0gMDtcbiAgICB9LFxuXG4gICAgX2RlY29kZV9tZXNzYWdlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBwdXNoIGFycmF5YnVmZmVyIHZhbHVlcyBvbnRvIHRoZSBlbmRcbiAgICAgICAgdmFyIHU4ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgIGlmICh1OC5sZW5ndGggPiB0aGlzLl9yUWJ1ZmZlclNpemUgLSB0aGlzLl9yUWxlbikge1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5kX2NvbXBhY3RfclEodTgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yUS5zZXQodTgsIHRoaXMuX3JRbGVuKTtcbiAgICAgICAgdGhpcy5fclFsZW4gKz0gdTgubGVuZ3RoO1xuICAgIH0sXG5cbiAgICBfcmVjdl9tZXNzYWdlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLl9kZWNvZGVfbWVzc2FnZShlLmRhdGEpO1xuICAgICAgICBpZiAodGhpcy5yUWxlbigpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVycy5tZXNzYWdlKCk7XG4gICAgICAgICAgICAvLyBDb21wYWN0IHRoZSByZWNlaXZlIHF1ZXVlXG4gICAgICAgICAgICBpZiAodGhpcy5fclFsZW4gPT0gdGhpcy5fclFpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fclFsZW4gPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JRaSA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3JRbGVuID4gdGhpcy5fclFtYXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRfY29tcGFjdF9yUSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTG9nLkRlYnVnKFwiSWdub3JpbmcgZW1wdHkgbWVzc2FnZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCIvLyByZWR1Y2UgYnVmZmVyIHNpemUsIGF2b2lkaW5nIG1lbSBjb3B5XG5leHBvcnQgZnVuY3Rpb24gc2hyaW5rQnVmIChidWYsIHNpemUpIHtcbiAgaWYgKGJ1Zi5sZW5ndGggPT09IHNpemUpIHsgcmV0dXJuIGJ1ZjsgfVxuICBpZiAoYnVmLnN1YmFycmF5KSB7IHJldHVybiBidWYuc3ViYXJyYXkoMCwgc2l6ZSk7IH1cbiAgYnVmLmxlbmd0aCA9IHNpemU7XG4gIHJldHVybiBidWY7XG59O1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVNldCAoZGVzdCwgc3JjLCBzcmNfb2ZmcywgbGVuLCBkZXN0X29mZnMpIHtcbiAgaWYgKHNyYy5zdWJhcnJheSAmJiBkZXN0LnN1YmFycmF5KSB7XG4gICAgZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY19vZmZzLCBzcmNfb2ZmcyArIGxlbiksIGRlc3Rfb2Zmcyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIEZhbGxiYWNrIHRvIG9yZGluYXJ5IGFycmF5XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZXN0W2Rlc3Rfb2ZmcyArIGldID0gc3JjW3NyY19vZmZzICsgaV07XG4gIH1cbn1cblxuLy8gSm9pbiBhcnJheSBvZiBjaHVua3MgdG8gc2luZ2xlIGFycmF5LlxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5DaHVua3MgKGNodW5rcykge1xuICB2YXIgaSwgbCwgbGVuLCBwb3MsIGNodW5rLCByZXN1bHQ7XG5cbiAgLy8gY2FsY3VsYXRlIGRhdGEgbGVuZ3RoXG4gIGxlbiA9IDA7XG4gIGZvciAoaSA9IDAsIGwgPSBjaHVua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgbGVuICs9IGNodW5rc1tpXS5sZW5ndGg7XG4gIH1cblxuICAvLyBqb2luIGNodW5rc1xuICByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICBwb3MgPSAwO1xuICBmb3IgKGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNodW5rID0gY2h1bmtzW2ldO1xuICAgIHJlc3VsdC5zZXQoY2h1bmssIHBvcyk7XG4gICAgcG9zICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB2YXIgQnVmOCAgPSBVaW50OEFycmF5O1xuZXhwb3J0IHZhciBCdWYxNiA9IFVpbnQxNkFycmF5O1xuZXhwb3J0IHZhciBCdWYzMiA9IEludDMyQXJyYXk7XG4iLCIvLyBOb3RlOiBhZGxlcjMyIHRha2VzIDEyJSBmb3IgbGV2ZWwgMCBhbmQgMiUgZm9yIGxldmVsIDYuXG4vLyBJdCBkb2Vzbid0IHdvcnRoIHRvIG1ha2UgYWRkaXRpb25hbCBvcHRpbWl6YXRpb25hIGFzIGluIG9yaWdpbmFsLlxuLy8gU21hbGwgc2l6ZSBpcyBwcmVmZXJhYmxlLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGxlcjMyKGFkbGVyLCBidWYsIGxlbiwgcG9zKSB7XG4gIHZhciBzMSA9IChhZGxlciAmIDB4ZmZmZikgfDAsXG4gICAgICBzMiA9ICgoYWRsZXIgPj4+IDE2KSAmIDB4ZmZmZikgfDAsXG4gICAgICBuID0gMDtcblxuICB3aGlsZSAobGVuICE9PSAwKSB7XG4gICAgLy8gU2V0IGxpbWl0IH4gdHdpY2UgbGVzcyB0aGFuIDU1NTIsIHRvIGtlZXBcbiAgICAvLyBzMiBpbiAzMS1iaXRzLCBiZWNhdXNlIHdlIGZvcmNlIHNpZ25lZCBpbnRzLlxuICAgIC8vIGluIG90aGVyIGNhc2UgJT0gd2lsbCBmYWlsLlxuICAgIG4gPSBsZW4gPiAyMDAwID8gMjAwMCA6IGxlbjtcbiAgICBsZW4gLT0gbjtcblxuICAgIGRvIHtcbiAgICAgIHMxID0gKHMxICsgYnVmW3BvcysrXSkgfDA7XG4gICAgICBzMiA9IChzMiArIHMxKSB8MDtcbiAgICB9IHdoaWxlICgtLW4pO1xuXG4gICAgczEgJT0gNjU1MjE7XG4gICAgczIgJT0gNjU1MjE7XG4gIH1cblxuICByZXR1cm4gKHMxIHwgKHMyIDw8IDE2KSkgfDA7XG59XG4iLCIvLyBOb3RlOiB3ZSBjYW4ndCBnZXQgc2lnbmlmaWNhbnQgc3BlZWQgYm9vc3QgaGVyZS5cbi8vIFNvIHdyaXRlIGNvZGUgdG8gbWluaW1pemUgc2l6ZSAtIG5vIHByZWdlbmVyYXRlZCB0YWJsZXNcbi8vIGFuZCBhcnJheSB0b29scyBkZXBlbmRlbmNpZXMuXG5cblxuLy8gVXNlIG9yZGluYXJ5IGFycmF5LCBzaW5jZSB1bnR5cGVkIG1ha2VzIG5vIGJvb3N0IGhlcmVcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VUYWJsZSgpIHtcbiAgdmFyIGMsIHRhYmxlID0gW107XG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCAyNTY7IG4rKykge1xuICAgIGMgPSBuO1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgODsgaysrKSB7XG4gICAgICBjID0gKChjICYgMSkgPyAoMHhFREI4ODMyMCBeIChjID4+PiAxKSkgOiAoYyA+Pj4gMSkpO1xuICAgIH1cbiAgICB0YWJsZVtuXSA9IGM7XG4gIH1cblxuICByZXR1cm4gdGFibGU7XG59XG5cbi8vIENyZWF0ZSB0YWJsZSBvbiBsb2FkLiBKdXN0IDI1NSBzaWduZWQgbG9uZ3MuIE5vdCBhIHByb2JsZW0uXG52YXIgY3JjVGFibGUgPSBtYWtlVGFibGUoKTtcblxuXG5mdW5jdGlvbiBjcmMzMihjcmMsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgdmFyIHQgPSBjcmNUYWJsZSxcbiAgICAgIGVuZCA9IHBvcyArIGxlbjtcblxuICBjcmMgXj0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IHBvczsgaSA8IGVuZDsgaSsrKSB7XG4gICAgY3JjID0gKGNyYyA+Pj4gOCkgXiB0WyhjcmMgXiBidWZbaV0pICYgMHhGRl07XG4gIH1cblxuICByZXR1cm4gKGNyYyBeICgtMSkpOyAvLyA+Pj4gMDtcbn1cbiIsIi8vIFNlZSBzdGF0ZSBkZWZzIGZyb20gaW5mbGF0ZS5qc1xudmFyIEJBRCA9IDMwOyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgVFlQRSA9IDEyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cblxuLypcbiAgIERlY29kZSBsaXRlcmFsLCBsZW5ndGgsIGFuZCBkaXN0YW5jZSBjb2RlcyBhbmQgd3JpdGUgb3V0IHRoZSByZXN1bHRpbmdcbiAgIGxpdGVyYWwgYW5kIG1hdGNoIGJ5dGVzIHVudGlsIGVpdGhlciBub3QgZW5vdWdoIGlucHV0IG9yIG91dHB1dCBpc1xuICAgYXZhaWxhYmxlLCBhbiBlbmQtb2YtYmxvY2sgaXMgZW5jb3VudGVyZWQsIG9yIGEgZGF0YSBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgIFdoZW4gbGFyZ2UgZW5vdWdoIGlucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBhcmUgc3VwcGxpZWQgdG8gaW5mbGF0ZSgpLCBmb3JcbiAgIGV4YW1wbGUsIGEgMTZLIGlucHV0IGJ1ZmZlciBhbmQgYSA2NEsgb3V0cHV0IGJ1ZmZlciwgbW9yZSB0aGFuIDk1JSBvZiB0aGVcbiAgIGluZmxhdGUgZXhlY3V0aW9uIHRpbWUgaXMgc3BlbnQgaW4gdGhpcyByb3V0aW5lLlxuXG4gICBFbnRyeSBhc3N1bXB0aW9uczpcblxuICAgICAgICBzdGF0ZS5tb2RlID09PSBMRU5cbiAgICAgICAgc3RybS5hdmFpbF9pbiA+PSA2XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID49IDI1OFxuICAgICAgICBzdGFydCA+PSBzdHJtLmF2YWlsX291dFxuICAgICAgICBzdGF0ZS5iaXRzIDwgOFxuXG4gICBPbiByZXR1cm4sIHN0YXRlLm1vZGUgaXMgb25lIG9mOlxuXG4gICAgICAgIExFTiAtLSByYW4gb3V0IG9mIGVub3VnaCBvdXRwdXQgc3BhY2Ugb3IgZW5vdWdoIGF2YWlsYWJsZSBpbnB1dFxuICAgICAgICBUWVBFIC0tIHJlYWNoZWQgZW5kIG9mIGJsb2NrIGNvZGUsIGluZmxhdGUoKSB0byBpbnRlcnByZXQgbmV4dCBibG9ja1xuICAgICAgICBCQUQgLS0gZXJyb3IgaW4gYmxvY2sgZGF0YVxuXG4gICBOb3RlczpcblxuICAgIC0gVGhlIG1heGltdW0gaW5wdXQgYml0cyB1c2VkIGJ5IGEgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgaXMgMTUgYml0cyBmb3IgdGhlXG4gICAgICBsZW5ndGggY29kZSwgNSBiaXRzIGZvciB0aGUgbGVuZ3RoIGV4dHJhLCAxNSBiaXRzIGZvciB0aGUgZGlzdGFuY2UgY29kZSxcbiAgICAgIGFuZCAxMyBiaXRzIGZvciB0aGUgZGlzdGFuY2UgZXh0cmEuICBUaGlzIHRvdGFscyA0OCBiaXRzLCBvciBzaXggYnl0ZXMuXG4gICAgICBUaGVyZWZvcmUgaWYgc3RybS5hdmFpbF9pbiA+PSA2LCB0aGVuIHRoZXJlIGlzIGVub3VnaCBpbnB1dCB0byBhdm9pZFxuICAgICAgY2hlY2tpbmcgZm9yIGF2YWlsYWJsZSBpbnB1dCB3aGlsZSBkZWNvZGluZy5cblxuICAgIC0gVGhlIG1heGltdW0gYnl0ZXMgdGhhdCBhIHNpbmdsZSBsZW5ndGgvZGlzdGFuY2UgcGFpciBjYW4gb3V0cHV0IGlzIDI1OFxuICAgICAgYnl0ZXMsIHdoaWNoIGlzIHRoZSBtYXhpbXVtIGxlbmd0aCB0aGF0IGNhbiBiZSBjb2RlZC4gIGluZmxhdGVfZmFzdCgpXG4gICAgICByZXF1aXJlcyBzdHJtLmF2YWlsX291dCA+PSAyNTggZm9yIGVhY2ggbG9vcCB0byBhdm9pZCBjaGVja2luZyBmb3JcbiAgICAgIG91dHB1dCBzcGFjZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5mbGF0ZV9mYXN0KHN0cm0sIHN0YXJ0KSB7XG4gIHZhciBzdGF0ZTtcbiAgdmFyIF9pbjsgICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaW5wdXQgKi9cbiAgdmFyIGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIGhhdmUgZW5vdWdoIGlucHV0IHdoaWxlIGluIDwgbGFzdCAqL1xuICB2YXIgX291dDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5vdXRwdXQgKi9cbiAgdmFyIGJlZzsgICAgICAgICAgICAgICAgICAgIC8qIGluZmxhdGUoKSdzIGluaXRpYWwgc3RybS5vdXRwdXQgKi9cbiAgdmFyIGVuZDsgICAgICAgICAgICAgICAgICAgIC8qIHdoaWxlIG91dCA8IGVuZCwgZW5vdWdoIHNwYWNlIGF2YWlsYWJsZSAqL1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgdmFyIGRtYXg7ICAgICAgICAgICAgICAgICAgIC8qIG1heGltdW0gZGlzdGFuY2UgZnJvbSB6bGliIGhlYWRlciAqL1xuLy8jZW5kaWZcbiAgdmFyIHdzaXplOyAgICAgICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICB2YXIgd2hhdmU7ICAgICAgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICB2YXIgd25leHQ7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIC8vIFVzZSBgc193aW5kb3dgIGluc3RlYWQgYHdpbmRvd2AsIGF2b2lkIGNvbmZsaWN0IHdpdGggaW5zdHJ1bWVudGF0aW9uIHRvb2xzXG4gIHZhciBzX3dpbmRvdzsgICAgICAgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIHdzaXplICE9IDAgKi9cbiAgdmFyIGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaG9sZCAqL1xuICB2YXIgYml0czsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5iaXRzICovXG4gIHZhciBsY29kZTsgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmxlbmNvZGUgKi9cbiAgdmFyIGRjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uZGlzdGNvZGUgKi9cbiAgdmFyIGxtYXNrOyAgICAgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGZpcnN0IGxldmVsIG9mIGxlbmd0aCBjb2RlcyAqL1xuICB2YXIgZG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgZGlzdGFuY2UgY29kZXMgKi9cbiAgdmFyIGhlcmU7ICAgICAgICAgICAgICAgICAgIC8qIHJldHJpZXZlZCB0YWJsZSBlbnRyeSAqL1xuICB2YXIgb3A7ICAgICAgICAgICAgICAgICAgICAgLyogY29kZSBiaXRzLCBvcGVyYXRpb24sIGV4dHJhIGJpdHMsIG9yICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAgd2luZG93IHBvc2l0aW9uLCB3aW5kb3cgYnl0ZXMgdG8gY29weSAqL1xuICB2YXIgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggbGVuZ3RoLCB1bnVzZWQgYnl0ZXMgKi9cbiAgdmFyIGRpc3Q7ICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoIGRpc3RhbmNlICovXG4gIHZhciBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGZyb20gKi9cbiAgdmFyIGZyb21fc291cmNlO1xuXG5cbiAgdmFyIGlucHV0LCBvdXRwdXQ7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcblxuICAvKiBjb3B5IHN0YXRlIHRvIGxvY2FsIHZhcmlhYmxlcyAqL1xuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIC8vaGVyZSA9IHN0YXRlLmhlcmU7XG4gIF9pbiA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBsYXN0ID0gX2luICsgKHN0cm0uYXZhaWxfaW4gLSA1KTtcbiAgX291dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBiZWcgPSBfb3V0IC0gKHN0YXJ0IC0gc3RybS5hdmFpbF9vdXQpO1xuICBlbmQgPSBfb3V0ICsgKHN0cm0uYXZhaWxfb3V0IC0gMjU3KTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gIGRtYXggPSBzdGF0ZS5kbWF4O1xuLy8jZW5kaWZcbiAgd3NpemUgPSBzdGF0ZS53c2l6ZTtcbiAgd2hhdmUgPSBzdGF0ZS53aGF2ZTtcbiAgd25leHQgPSBzdGF0ZS53bmV4dDtcbiAgc193aW5kb3cgPSBzdGF0ZS53aW5kb3c7XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgbGNvZGUgPSBzdGF0ZS5sZW5jb2RlO1xuICBkY29kZSA9IHN0YXRlLmRpc3Rjb2RlO1xuICBsbWFzayA9ICgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMTtcbiAgZG1hc2sgPSAoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxO1xuXG5cbiAgLyogZGVjb2RlIGxpdGVyYWxzIGFuZCBsZW5ndGgvZGlzdGFuY2VzIHVudGlsIGVuZC1vZi1ibG9jayBvciBub3QgZW5vdWdoXG4gICAgIGlucHV0IGRhdGEgb3Igb3V0cHV0IHNwYWNlICovXG5cbiAgdG9wOlxuICBkbyB7XG4gICAgaWYgKGJpdHMgPCAxNSkge1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICBiaXRzICs9IDg7XG4gICAgfVxuXG4gICAgaGVyZSA9IGxjb2RlW2hvbGQgJiBsbWFza107XG5cbiAgICBkb2xlbjpcbiAgICBmb3IgKDs7KSB7IC8vIEdvdG8gZW11bGF0aW9uXG4gICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgIGJpdHMgLT0gb3A7XG4gICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG4gICAgICBpZiAob3AgPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGxpdGVyYWwgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgb3V0cHV0W19vdXQrK10gPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBiYXNlICovXG4gICAgICAgIGxlbiA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgIGlmIChvcCkge1xuICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbiArPSBob2xkICYgKCgxIDw8IG9wKSAtIDEpO1xuICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIGxlbikpO1xuICAgICAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgaGVyZSA9IGRjb2RlW2hvbGQgJiBkbWFza107XG5cbiAgICAgICAgZG9kaXN0OlxuICAgICAgICBmb3IgKDs7KSB7IC8vIGdvdG8gZW11bGF0aW9uXG4gICAgICAgICAgb3AgPSBoZXJlID4+PiAyNC8qaGVyZS5iaXRzKi87XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZi8qaGVyZS5vcCovO1xuXG4gICAgICAgICAgaWYgKG9wICYgMTYpIHsgICAgICAgICAgICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFzZSAqL1xuICAgICAgICAgICAgZGlzdCA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgICAgICBvcCAmPSAxNTsgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXN0ICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgICAgICAgaWYgKGRpc3QgPiBkbWF4KSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIGRpc3QpKTtcbiAgICAgICAgICAgIG9wID0gX291dCAtIGJlZzsgICAgICAgICAgICAgICAgLyogbWF4IGRpc3RhbmNlIGluIG91dHB1dCAqL1xuICAgICAgICAgICAgaWYgKGRpc3QgPiBvcCkgeyAgICAgICAgICAgICAgICAvKiBzZWUgaWYgY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBvcCA9IGRpc3QgLSBvcDsgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBpZiAob3AgPiB3aGF2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgICAgIH1cblxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhaWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgICAgICAgaWYgKGxlbiA8PSBvcCAtIHdoYXZlKSB7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IDA7XG4vLyAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbGVuKTtcbi8vICAgICAgICAgICAgICAgICAgY29udGludWUgdG9wO1xuLy8gICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgbGVuIC09IG9wIC0gd2hhdmU7XG4vLyAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3AgPiB3aGF2ZSk7XG4vLyAgICAgICAgICAgICAgICBpZiAob3AgPT09IDApIHtcbi8vICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0O1xuLy8gICAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyb20gPSAwOyAvLyB3aW5kb3cgaW5kZXhcbiAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBzX3dpbmRvdztcbiAgICAgICAgICAgICAgaWYgKHduZXh0ID09PSAwKSB7ICAgICAgICAgICAvKiB2ZXJ5IGNvbW1vbiBjYXNlICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAod25leHQgPCBvcCkgeyAgICAgIC8qIHdyYXAgYXJvdW5kIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd3NpemUgKyB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIG9wIC09IHduZXh0O1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSBlbmQgb2Ygd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgICAgICAgICAgICBpZiAod25leHQgPCBsZW4pIHsgIC8qIHNvbWUgZnJvbSBzdGFydCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgICAgb3AgPSB3bmV4dDtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAvKiBjb250aWd1b3VzIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd25leHQgLSBvcDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdoaWxlIChsZW4gPiAyKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgICAgICAgICAgLyogY29weSBkaXJlY3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgZG8geyAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1pbmltdW0gbGVuZ3RoIGlzIHRocmVlICovXG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGxlbiA+IDIpO1xuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoKG9wICYgNjQpID09PSAwKSB7ICAgICAgICAgIC8qIDJuZCBsZXZlbCBkaXN0YW5jZSBjb2RlICovXG4gICAgICAgICAgICBoZXJlID0gZGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgICAgIGNvbnRpbnVlIGRvZGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhazsgLy8gbmVlZCB0byBlbXVsYXRlIGdvdG8gdmlhIFwiY29udGludWVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgICAgIC8qIDJuZCBsZXZlbCBsZW5ndGggY29kZSAqL1xuICAgICAgICBoZXJlID0gbGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgY29udGludWUgZG9sZW47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDMyKSB7ICAgICAgICAgICAgICAgICAgICAgLyogZW5kLW9mLWJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhayB0b3A7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgfVxuICB9IHdoaWxlIChfaW4gPCBsYXN0ICYmIF9vdXQgPCBlbmQpO1xuXG4gIC8qIHJldHVybiB1bnVzZWQgYnl0ZXMgKG9uIGVudHJ5LCBiaXRzIDwgOCwgc28gaW4gd29uJ3QgZ28gdG9vIGZhciBiYWNrKSAqL1xuICBsZW4gPSBiaXRzID4+IDM7XG4gIF9pbiAtPSBsZW47XG4gIGJpdHMgLT0gbGVuIDw8IDM7XG4gIGhvbGQgJj0gKDEgPDwgYml0cykgLSAxO1xuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmV0dXJuICovXG4gIHN0cm0ubmV4dF9pbiA9IF9pbjtcbiAgc3RybS5uZXh0X291dCA9IF9vdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSAoX2luIDwgbGFzdCA/IDUgKyAobGFzdCAtIF9pbikgOiA1IC0gKF9pbiAtIGxhc3QpKTtcbiAgc3RybS5hdmFpbF9vdXQgPSAoX291dCA8IGVuZCA/IDI1NyArIChlbmQgLSBfb3V0KSA6IDI1NyAtIChfb3V0IC0gZW5kKSk7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgcmV0dXJuO1xufTtcbiIsImltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuLi91dGlscy9jb21tb24uanNcIjtcbmltcG9ydCBhZGxlcjMyIGZyb20gXCIuL2FkbGVyMzIuanNcIjtcbmltcG9ydCBjcmMzMiBmcm9tIFwiLi9jcmMzMi5qc1wiO1xuaW1wb3J0IGluZmxhdGVfZmFzdCBmcm9tIFwiLi9pbmZmYXN0LmpzXCI7XG5pbXBvcnQgaW5mbGF0ZV90YWJsZSBmcm9tIFwiLi9pbmZ0cmVlcy5qc1wiO1xuXG52YXIgQ09ERVMgPSAwO1xudmFyIExFTlMgPSAxO1xudmFyIERJU1RTID0gMjtcblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuLyogQWxsb3dlZCBmbHVzaCB2YWx1ZXM7IHNlZSBkZWZsYXRlKCkgYW5kIGluZmxhdGUoKSBiZWxvdyBmb3IgZGV0YWlscyAqL1xuLy92YXIgWl9OT19GTFVTSCAgICAgID0gMDtcbi8vdmFyIFpfUEFSVElBTF9GTFVTSCA9IDE7XG4vL3ZhciBaX1NZTkNfRkxVU0ggICAgPSAyO1xuLy92YXIgWl9GVUxMX0ZMVVNIICAgID0gMztcbnZhciBaX0ZJTklTSCAgICAgICAgPSA0O1xudmFyIFpfQkxPQ0sgICAgICAgICA9IDU7XG52YXIgWl9UUkVFUyAgICAgICAgID0gNjtcblxuXG4vKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gKi9cbnZhciBaX09LICAgICAgICAgICAgPSAwO1xudmFyIFpfU1RSRUFNX0VORCAgICA9IDE7XG52YXIgWl9ORUVEX0RJQ1QgICAgID0gMjtcbi8vdmFyIFpfRVJSTk8gICAgICAgICA9IC0xO1xudmFyIFpfU1RSRUFNX0VSUk9SICA9IC0yO1xudmFyIFpfREFUQV9FUlJPUiAgICA9IC0zO1xudmFyIFpfTUVNX0VSUk9SICAgICA9IC00O1xudmFyIFpfQlVGX0VSUk9SICAgICA9IC01O1xuLy92YXIgWl9WRVJTSU9OX0VSUk9SID0gLTY7XG5cbi8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xudmFyIFpfREVGTEFURUQgID0gODtcblxuXG4vKiBTVEFURVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG52YXIgICAgSEVBRCA9IDE7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1hZ2ljIGhlYWRlciAqL1xudmFyICAgIEZMQUdTID0gMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtZXRob2QgYW5kIGZsYWdzIChnemlwKSAqL1xudmFyICAgIFRJTUUgPSAzOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtb2RpZmljYXRpb24gdGltZSAoZ3ppcCkgKi9cbnZhciAgICBPUyA9IDQ7ICAgICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgZmxhZ3MgYW5kIG9wZXJhdGluZyBzeXN0ZW0gKGd6aXApICovXG52YXIgICAgRVhMRU4gPSA1OyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGxlbmd0aCAoZ3ppcCkgKi9cbnZhciAgICBFWFRSQSA9IDY7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgYnl0ZXMgKGd6aXApICovXG52YXIgICAgTkFNRSA9IDc7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBmaWxlIG5hbWUgKGd6aXApICovXG52YXIgICAgQ09NTUVOVCA9IDg7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBjb21tZW50IChnemlwKSAqL1xudmFyICAgIEhDUkMgPSA5OyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBoZWFkZXIgY3JjIChnemlwKSAqL1xudmFyICAgIERJQ1RJRCA9IDEwOyAgICAvKiBpOiB3YWl0aW5nIGZvciBkaWN0aW9uYXJ5IGNoZWNrIHZhbHVlICovXG52YXIgICAgRElDVCA9IDExOyAgICAgIC8qIHdhaXRpbmcgZm9yIGluZmxhdGVTZXREaWN0aW9uYXJ5KCkgY2FsbCAqL1xudmFyICAgICAgICBUWVBFID0gMTI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgdHlwZSBiaXRzLCBpbmNsdWRpbmcgbGFzdC1mbGFnIGJpdCAqL1xudmFyICAgICAgICBUWVBFRE8gPSAxMzsgICAgLyogaTogc2FtZSwgYnV0IHNraXAgY2hlY2sgdG8gZXhpdCBpbmZsYXRlIG9uIG5ldyBibG9jayAqL1xudmFyICAgICAgICBTVE9SRUQgPSAxNDsgICAgLyogaTogd2FpdGluZyBmb3Igc3RvcmVkIHNpemUgKGxlbmd0aCBhbmQgY29tcGxlbWVudCkgKi9cbnZhciAgICAgICAgQ09QWV8gPSAxNTsgICAgIC8qIGkvbzogc2FtZSBhcyBDT1BZIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG52YXIgICAgICAgIENPUFkgPSAxNjsgICAgICAvKiBpL286IHdhaXRpbmcgZm9yIGlucHV0IG9yIG91dHB1dCB0byBjb3B5IHN0b3JlZCBibG9jayAqL1xudmFyICAgICAgICBUQUJMRSA9IDE3OyAgICAgLyogaTogd2FpdGluZyBmb3IgZHluYW1pYyBibG9jayB0YWJsZSBsZW5ndGhzICovXG52YXIgICAgICAgIExFTkxFTlMgPSAxODsgICAvKiBpOiB3YWl0aW5nIGZvciBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbnZhciAgICAgICAgQ09ERUxFTlMgPSAxOTsgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aC9saXQgYW5kIGRpc3RhbmNlIGNvZGUgbGVuZ3RocyAqL1xudmFyICAgICAgICAgICAgTEVOXyA9IDIwOyAgICAgIC8qIGk6IHNhbWUgYXMgTEVOIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG52YXIgICAgICAgICAgICBMRU4gPSAyMTsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdC9lb2IgY29kZSAqL1xudmFyICAgICAgICAgICAgTEVORVhUID0gMjI7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aCBleHRyYSBiaXRzICovXG52YXIgICAgICAgICAgICBESVNUID0gMjM7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZGlzdGFuY2UgY29kZSAqL1xudmFyICAgICAgICAgICAgRElTVEVYVCA9IDI0OyAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpc3RhbmNlIGV4dHJhIGJpdHMgKi9cbnZhciAgICAgICAgICAgIE1BVENIID0gMjU7ICAgICAvKiBvOiB3YWl0aW5nIGZvciBvdXRwdXQgc3BhY2UgdG8gY29weSBzdHJpbmcgKi9cbnZhciAgICAgICAgICAgIExJVCA9IDI2OyAgICAgICAvKiBvOiB3YWl0aW5nIGZvciBvdXRwdXQgc3BhY2UgdG8gd3JpdGUgbGl0ZXJhbCAqL1xudmFyICAgIENIRUNLID0gMjc7ICAgICAvKiBpOiB3YWl0aW5nIGZvciAzMi1iaXQgY2hlY2sgdmFsdWUgKi9cbnZhciAgICBMRU5HVEggPSAyODsgICAgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGxlbmd0aCAoZ3ppcCkgKi9cbnZhciAgICBET05FID0gMjk7ICAgICAgLyogZmluaXNoZWQgY2hlY2ssIGRvbmUgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciAgICBCQUQgPSAzMDsgICAgICAgLyogZ290IGEgZGF0YSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyICAgIE1FTSA9IDMxOyAgICAgICAvKiBnb3QgYW4gaW5mbGF0ZSgpIG1lbW9yeSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyICAgIFNZTkMgPSAzMjsgICAgICAvKiBsb29raW5nIGZvciBzeW5jaHJvbml6YXRpb24gYnl0ZXMgdG8gcmVzdGFydCBpbmZsYXRlKCkgKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5cbnZhciBFTk9VR0hfTEVOUyA9IDg1MjtcbnZhciBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL3ZhciBFTk9VR0ggPSAgKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbnZhciBNQVhfV0JJVFMgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xudmFyIERFRl9XQklUUyA9IE1BWF9XQklUUztcblxuXG5mdW5jdGlvbiB6c3dhcDMyKHEpIHtcbiAgcmV0dXJuICAoKChxID4+PiAyNCkgJiAweGZmKSArXG4gICAgICAgICAgKChxID4+PiA4KSAmIDB4ZmYwMCkgK1xuICAgICAgICAgICgocSAmIDB4ZmYwMCkgPDwgOCkgK1xuICAgICAgICAgICgocSAmIDB4ZmYpIDw8IDI0KSk7XG59XG5cblxuZnVuY3Rpb24gSW5mbGF0ZVN0YXRlKCkge1xuICB0aGlzLm1vZGUgPSAwOyAgICAgICAgICAgICAvKiBjdXJyZW50IGluZmxhdGUgbW9kZSAqL1xuICB0aGlzLmxhc3QgPSBmYWxzZTsgICAgICAgICAgLyogdHJ1ZSBpZiBwcm9jZXNzaW5nIGxhc3QgYmxvY2sgKi9cbiAgdGhpcy53cmFwID0gMDsgICAgICAgICAgICAgIC8qIGJpdCAwIHRydWUgZm9yIHpsaWIsIGJpdCAxIHRydWUgZm9yIGd6aXAgKi9cbiAgdGhpcy5oYXZlZGljdCA9IGZhbHNlOyAgICAgIC8qIHRydWUgaWYgZGljdGlvbmFyeSBwcm92aWRlZCAqL1xuICB0aGlzLmZsYWdzID0gMDsgICAgICAgICAgICAgLyogZ3ppcCBoZWFkZXIgbWV0aG9kIGFuZCBmbGFncyAoMCBpZiB6bGliKSAqL1xuICB0aGlzLmRtYXggPSAwOyAgICAgICAgICAgICAgLyogemxpYiBoZWFkZXIgbWF4IGRpc3RhbmNlIChJTkZMQVRFX1NUUklDVCkgKi9cbiAgdGhpcy5jaGVjayA9IDA7ICAgICAgICAgICAgIC8qIHByb3RlY3RlZCBjb3B5IG9mIGNoZWNrIHZhbHVlICovXG4gIHRoaXMudG90YWwgPSAwOyAgICAgICAgICAgICAvKiBwcm90ZWN0ZWQgY29weSBvZiBvdXRwdXQgY291bnQgKi9cbiAgLy8gVE9ETzogbWF5IGJlIHt9XG4gIHRoaXMuaGVhZCA9IG51bGw7ICAgICAgICAgICAvKiB3aGVyZSB0byBzYXZlIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uICovXG5cbiAgLyogc2xpZGluZyB3aW5kb3cgKi9cbiAgdGhpcy53Yml0cyA9IDA7ICAgICAgICAgICAgIC8qIGxvZyBiYXNlIDIgb2YgcmVxdWVzdGVkIHdpbmRvdyBzaXplICovXG4gIHRoaXMud3NpemUgPSAwOyAgICAgICAgICAgICAvKiB3aW5kb3cgc2l6ZSBvciB6ZXJvIGlmIG5vdCB1c2luZyB3aW5kb3cgKi9cbiAgdGhpcy53aGF2ZSA9IDA7ICAgICAgICAgICAgIC8qIHZhbGlkIGJ5dGVzIGluIHRoZSB3aW5kb3cgKi9cbiAgdGhpcy53bmV4dCA9IDA7ICAgICAgICAgICAgIC8qIHdpbmRvdyB3cml0ZSBpbmRleCAqL1xuICB0aGlzLndpbmRvdyA9IG51bGw7ICAgICAgICAgLyogYWxsb2NhdGVkIHNsaWRpbmcgd2luZG93LCBpZiBuZWVkZWQgKi9cblxuICAvKiBiaXQgYWNjdW11bGF0b3IgKi9cbiAgdGhpcy5ob2xkID0gMDsgICAgICAgICAgICAgIC8qIGlucHV0IGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmJpdHMgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGJpdHMgaW4gXCJpblwiICovXG5cbiAgLyogZm9yIHN0cmluZyBhbmQgc3RvcmVkIGJsb2NrIGNvcHlpbmcgKi9cbiAgdGhpcy5sZW5ndGggPSAwOyAgICAgICAgICAgIC8qIGxpdGVyYWwgb3IgbGVuZ3RoIG9mIGRhdGEgdG8gY29weSAqL1xuICB0aGlzLm9mZnNldCA9IDA7ICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFjayB0byBjb3B5IHN0cmluZyBmcm9tICovXG5cbiAgLyogZm9yIHRhYmxlIGFuZCBjb2RlIGRlY29kaW5nICovXG4gIHRoaXMuZXh0cmEgPSAwOyAgICAgICAgICAgICAvKiBleHRyYSBiaXRzIG5lZWRlZCAqL1xuXG4gIC8qIGZpeGVkIGFuZCBkeW5hbWljIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuY29kZSA9IG51bGw7ICAgICAgICAgIC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBsZW5ndGgvbGl0ZXJhbCBjb2RlcyAqL1xuICB0aGlzLmRpc3Rjb2RlID0gbnVsbDsgICAgICAgICAvKiBzdGFydGluZyB0YWJsZSBmb3IgZGlzdGFuY2UgY29kZXMgKi9cbiAgdGhpcy5sZW5iaXRzID0gMDsgICAgICAgICAgIC8qIGluZGV4IGJpdHMgZm9yIGxlbmNvZGUgKi9cbiAgdGhpcy5kaXN0Yml0cyA9IDA7ICAgICAgICAgIC8qIGluZGV4IGJpdHMgZm9yIGRpc3Rjb2RlICovXG5cbiAgLyogZHluYW1pYyB0YWJsZSBidWlsZGluZyAqL1xuICB0aGlzLm5jb2RlID0gMDsgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLm5sZW4gPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5uZGlzdCA9IDA7ICAgICAgICAgICAgIC8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5oYXZlID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aHMgaW4gbGVuc1tdICovXG4gIHRoaXMubmV4dCA9IG51bGw7ICAgICAgICAgICAgICAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiBjb2Rlc1tdICovXG5cbiAgdGhpcy5sZW5zID0gbmV3IHV0aWxzLkJ1ZjE2KDMyMCk7IC8qIHRlbXBvcmFyeSBzdG9yYWdlIGZvciBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy53b3JrID0gbmV3IHV0aWxzLkJ1ZjE2KDI4OCk7IC8qIHdvcmsgYXJlYSBmb3IgY29kZSB0YWJsZSBidWlsZGluZyAqL1xuXG4gIC8qXG4gICBiZWNhdXNlIHdlIGRvbid0IGhhdmUgcG9pbnRlcnMgaW4ganMsIHdlIHVzZSBsZW5jb2RlIGFuZCBkaXN0Y29kZSBkaXJlY3RseVxuICAgYXMgYnVmZmVycyBzbyB3ZSBkb24ndCBuZWVkIGNvZGVzXG4gICovXG4gIC8vdGhpcy5jb2RlcyA9IG5ldyB1dGlscy5CdWYzMihFTk9VR0gpOyAgICAgICAvKiBzcGFjZSBmb3IgY29kZSB0YWJsZXMgKi9cbiAgdGhpcy5sZW5keW4gPSBudWxsOyAgICAgICAgICAgICAgLyogZHluYW1pYyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLmRpc3RkeW4gPSBudWxsOyAgICAgICAgICAgICAvKiBkeW5hbWljIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuc2FuZSA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGlmIGZhbHNlLCBhbGxvdyBpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgKi9cbiAgdGhpcy5iYWNrID0gMDsgICAgICAgICAgICAgICAgICAgLyogYml0cyBiYWNrIG9mIGxhc3QgdW5wcm9jZXNzZWQgbGVuZ3RoL2xpdCAqL1xuICB0aGlzLndhcyA9IDA7ICAgICAgICAgICAgICAgICAgICAvKiBpbml0aWFsIGxlbmd0aCBvZiBtYXRjaCAqL1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pIHtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBzdHJtLnRvdGFsX2luID0gc3RybS50b3RhbF9vdXQgPSBzdGF0ZS50b3RhbCA9IDA7XG4gIHN0cm0ubXNnID0gJyc7IC8qWl9OVUxMKi9cbiAgaWYgKHN0YXRlLndyYXApIHsgICAgICAgLyogdG8gc3VwcG9ydCBpbGwtY29uY2VpdmVkIEphdmEgdGVzdCBzdWl0ZSAqL1xuICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS53cmFwICYgMTtcbiAgfVxuICBzdGF0ZS5tb2RlID0gSEVBRDtcbiAgc3RhdGUubGFzdCA9IDA7XG4gIHN0YXRlLmhhdmVkaWN0ID0gMDtcbiAgc3RhdGUuZG1heCA9IDMyNzY4O1xuICBzdGF0ZS5oZWFkID0gbnVsbC8qWl9OVUxMKi87XG4gIHN0YXRlLmhvbGQgPSAwO1xuICBzdGF0ZS5iaXRzID0gMDtcbiAgLy9zdGF0ZS5sZW5jb2RlID0gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5sZW5keW4gPSBuZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0xFTlMpO1xuICBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLmRpc3RkeW4gPSBuZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0RJU1RTKTtcblxuICBzdGF0ZS5zYW5lID0gMTtcbiAgc3RhdGUuYmFjayA9IC0xO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IHJlc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVSZXNldChzdHJtKSB7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgc3RhdGUud3NpemUgPSAwO1xuICBzdGF0ZS53aGF2ZSA9IDA7XG4gIHN0YXRlLnduZXh0ID0gMDtcbiAgcmV0dXJuIGluZmxhdGVSZXNldEtlZXAoc3RybSk7XG5cbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVJlc2V0MihzdHJtLCB3aW5kb3dCaXRzKSB7XG4gIHZhciB3cmFwO1xuICB2YXIgc3RhdGU7XG5cbiAgLyogZ2V0IHRoZSBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICAvKiBleHRyYWN0IHdyYXAgcmVxdWVzdCBmcm9tIHdpbmRvd0JpdHMgcGFyYW1ldGVyICovXG4gIGlmICh3aW5kb3dCaXRzIDwgMCkge1xuICAgIHdyYXAgPSAwO1xuICAgIHdpbmRvd0JpdHMgPSAtd2luZG93Qml0cztcbiAgfVxuICBlbHNlIHtcbiAgICB3cmFwID0gKHdpbmRvd0JpdHMgPj4gNCkgKyAxO1xuICAgIGlmICh3aW5kb3dCaXRzIDwgNDgpIHtcbiAgICAgIHdpbmRvd0JpdHMgJj0gMTU7XG4gICAgfVxuICB9XG5cbiAgLyogc2V0IG51bWJlciBvZiB3aW5kb3cgYml0cywgZnJlZSB3aW5kb3cgaWYgZGlmZmVyZW50ICovXG4gIGlmICh3aW5kb3dCaXRzICYmICh3aW5kb3dCaXRzIDwgOCB8fCB3aW5kb3dCaXRzID4gMTUpKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG4gIGlmIChzdGF0ZS53aW5kb3cgIT09IG51bGwgJiYgc3RhdGUud2JpdHMgIT09IHdpbmRvd0JpdHMpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXNldCB0aGUgcmVzdCBvZiBpdCAqL1xuICBzdGF0ZS53cmFwID0gd3JhcDtcbiAgc3RhdGUud2JpdHMgPSB3aW5kb3dCaXRzO1xuICByZXR1cm4gaW5mbGF0ZVJlc2V0KHN0cm0pO1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlSW5pdDIoc3RybSwgd2luZG93Qml0cykge1xuICB2YXIgcmV0O1xuICB2YXIgc3RhdGU7XG5cbiAgaWYgKCFzdHJtKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICAvL3N0cm0ubXNnID0gWl9OVUxMOyAgICAgICAgICAgICAgICAgLyogaW4gY2FzZSB3ZSByZXR1cm4gYW4gZXJyb3IgKi9cblxuICBzdGF0ZSA9IG5ldyBJbmZsYXRlU3RhdGUoKTtcblxuICAvL2lmIChzdGF0ZSA9PT0gWl9OVUxMKSByZXR1cm4gWl9NRU1fRVJST1I7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogYWxsb2NhdGVkXFxuXCIpKTtcbiAgc3RybS5zdGF0ZSA9IHN0YXRlO1xuICBzdGF0ZS53aW5kb3cgPSBudWxsLypaX05VTEwqLztcbiAgcmV0ID0gaW5mbGF0ZVJlc2V0MihzdHJtLCB3aW5kb3dCaXRzKTtcbiAgaWYgKHJldCAhPT0gWl9PSykge1xuICAgIHN0cm0uc3RhdGUgPSBudWxsLypaX05VTEwqLztcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlSW5pdChzdHJtKSB7XG4gIHJldHVybiBpbmZsYXRlSW5pdDIoc3RybSwgREVGX1dCSVRTKTtcbn1cblxuXG4vKlxuIFJldHVybiBzdGF0ZSB3aXRoIGxlbmd0aCBhbmQgZGlzdGFuY2UgZGVjb2RpbmcgdGFibGVzIGFuZCBpbmRleCBzaXplcyBzZXQgdG9cbiBmaXhlZCBjb2RlIGRlY29kaW5nLiAgTm9ybWFsbHkgdGhpcyByZXR1cm5zIGZpeGVkIHRhYmxlcyBmcm9tIGluZmZpeGVkLmguXG4gSWYgQlVJTERGSVhFRCBpcyBkZWZpbmVkLCB0aGVuIGluc3RlYWQgdGhpcyByb3V0aW5lIGJ1aWxkcyB0aGUgdGFibGVzIHRoZVxuIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCByZXR1cm5zIHRob3NlIHRhYmxlcyB0aGUgZmlyc3QgdGltZSBhbmRcbiB0aGVyZWFmdGVyLiAgVGhpcyByZWR1Y2VzIHRoZSBzaXplIG9mIHRoZSBjb2RlIGJ5IGFib3V0IDJLIGJ5dGVzLCBpblxuIGV4Y2hhbmdlIGZvciBhIGxpdHRsZSBleGVjdXRpb24gdGltZS4gIEhvd2V2ZXIsIEJVSUxERklYRUQgc2hvdWxkIG5vdCBiZVxuIHVzZWQgZm9yIHRocmVhZGVkIGFwcGxpY2F0aW9ucywgc2luY2UgdGhlIHJld3JpdGluZyBvZiB0aGUgdGFibGVzIGFuZCB2aXJnaW5cbiBtYXkgbm90IGJlIHRocmVhZC1zYWZlLlxuICovXG52YXIgdmlyZ2luID0gdHJ1ZTtcblxudmFyIGxlbmZpeCwgZGlzdGZpeDsgLy8gV2UgaGF2ZSBubyBwb2ludGVycyBpbiBKUywgc28ga2VlcCB0YWJsZXMgc2VwYXJhdGVcblxuZnVuY3Rpb24gZml4ZWR0YWJsZXMoc3RhdGUpIHtcbiAgLyogYnVpbGQgZml4ZWQgaHVmZm1hbiB0YWJsZXMgaWYgZmlyc3QgY2FsbCAobWF5IG5vdCBiZSB0aHJlYWQgc2FmZSkgKi9cbiAgaWYgKHZpcmdpbikge1xuICAgIHZhciBzeW07XG5cbiAgICBsZW5maXggPSBuZXcgdXRpbHMuQnVmMzIoNTEyKTtcbiAgICBkaXN0Zml4ID0gbmV3IHV0aWxzLkJ1ZjMyKDMyKTtcblxuICAgIC8qIGxpdGVyYWwvbGVuZ3RoIHRhYmxlICovXG4gICAgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMTQ0KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gODsgfVxuICAgIHdoaWxlIChzeW0gPCAyNTYpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA5OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI4MCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDc7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjg4KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gODsgfVxuXG4gICAgaW5mbGF0ZV90YWJsZShMRU5TLCAgc3RhdGUubGVucywgMCwgMjg4LCBsZW5maXgsICAgMCwgc3RhdGUud29yaywgeyBiaXRzOiA5IH0pO1xuXG4gICAgLyogZGlzdGFuY2UgdGFibGUgKi9cbiAgICBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAzMikgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDU7IH1cblxuICAgIGluZmxhdGVfdGFibGUoRElTVFMsIHN0YXRlLmxlbnMsIDAsIDMyLCAgIGRpc3RmaXgsIDAsIHN0YXRlLndvcmssIHsgYml0czogNSB9KTtcblxuICAgIC8qIGRvIHRoaXMganVzdCBvbmNlICovXG4gICAgdmlyZ2luID0gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5sZW5jb2RlID0gbGVuZml4O1xuICBzdGF0ZS5sZW5iaXRzID0gOTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBkaXN0Zml4O1xuICBzdGF0ZS5kaXN0Yml0cyA9IDU7XG59XG5cblxuLypcbiBVcGRhdGUgdGhlIHdpbmRvdyB3aXRoIHRoZSBsYXN0IHdzaXplIChub3JtYWxseSAzMkspIGJ5dGVzIHdyaXR0ZW4gYmVmb3JlXG4gcmV0dXJuaW5nLiAgSWYgd2luZG93IGRvZXMgbm90IGV4aXN0IHlldCwgY3JlYXRlIGl0LiAgVGhpcyBpcyBvbmx5IGNhbGxlZFxuIHdoZW4gYSB3aW5kb3cgaXMgYWxyZWFkeSBpbiB1c2UsIG9yIHdoZW4gb3V0cHV0IGhhcyBiZWVuIHdyaXR0ZW4gZHVyaW5nIHRoaXNcbiBpbmZsYXRlIGNhbGwsIGJ1dCB0aGUgZW5kIG9mIHRoZSBkZWZsYXRlIHN0cmVhbSBoYXMgbm90IGJlZW4gcmVhY2hlZCB5ZXQuXG4gSXQgaXMgYWxzbyBjYWxsZWQgdG8gY3JlYXRlIGEgd2luZG93IGZvciBkaWN0aW9uYXJ5IGRhdGEgd2hlbiBhIGRpY3Rpb25hcnlcbiBpcyBsb2FkZWQuXG5cbiBQcm92aWRpbmcgb3V0cHV0IGJ1ZmZlcnMgbGFyZ2VyIHRoYW4gMzJLIHRvIGluZmxhdGUoKSBzaG91bGQgcHJvdmlkZSBhIHNwZWVkXG4gYWR2YW50YWdlLCBzaW5jZSBvbmx5IHRoZSBsYXN0IDMySyBvZiBvdXRwdXQgaXMgY29waWVkIHRvIHRoZSBzbGlkaW5nIHdpbmRvd1xuIHVwb24gcmV0dXJuIGZyb20gaW5mbGF0ZSgpLCBhbmQgc2luY2UgYWxsIGRpc3RhbmNlcyBhZnRlciB0aGUgZmlyc3QgMzJLIG9mXG4gb3V0cHV0IHdpbGwgZmFsbCBpbiB0aGUgb3V0cHV0IGRhdGEsIG1ha2luZyBtYXRjaCBjb3BpZXMgc2ltcGxlciBhbmQgZmFzdGVyLlxuIFRoZSBhZHZhbnRhZ2UgbWF5IGJlIGRlcGVuZGVudCBvbiB0aGUgc2l6ZSBvZiB0aGUgcHJvY2Vzc29yJ3MgZGF0YSBjYWNoZXMuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZXdpbmRvdyhzdHJtLCBzcmMsIGVuZCwgY29weSkge1xuICB2YXIgZGlzdDtcbiAgdmFyIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICAvKiBpZiBpdCBoYXNuJ3QgYmVlbiBkb25lIGFscmVhZHksIGFsbG9jYXRlIHNwYWNlIGZvciB0aGUgd2luZG93ICovXG4gIGlmIChzdGF0ZS53aW5kb3cgPT09IG51bGwpIHtcbiAgICBzdGF0ZS53c2l6ZSA9IDEgPDwgc3RhdGUud2JpdHM7XG4gICAgc3RhdGUud25leHQgPSAwO1xuICAgIHN0YXRlLndoYXZlID0gMDtcblxuICAgIHN0YXRlLndpbmRvdyA9IG5ldyB1dGlscy5CdWY4KHN0YXRlLndzaXplKTtcbiAgfVxuXG4gIC8qIGNvcHkgc3RhdGUtPndzaXplIG9yIGxlc3Mgb3V0cHV0IGJ5dGVzIGludG8gdGhlIGNpcmN1bGFyIHdpbmRvdyAqL1xuICBpZiAoY29weSA+PSBzdGF0ZS53c2l6ZSkge1xuICAgIHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBzdGF0ZS53c2l6ZSwgc3RhdGUud3NpemUsIDApO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IHN0YXRlLndzaXplO1xuICB9XG4gIGVsc2Uge1xuICAgIGRpc3QgPSBzdGF0ZS53c2l6ZSAtIHN0YXRlLnduZXh0O1xuICAgIGlmIChkaXN0ID4gY29weSkge1xuICAgICAgZGlzdCA9IGNvcHk7XG4gICAgfVxuICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93ICsgc3RhdGUtPnduZXh0LCBlbmQgLSBjb3B5LCBkaXN0KTtcbiAgICB1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gY29weSwgZGlzdCwgc3RhdGUud25leHQpO1xuICAgIGNvcHkgLT0gZGlzdDtcbiAgICBpZiAoY29weSkge1xuICAgICAgLy96bWVtY3B5KHN0YXRlLT53aW5kb3csIGVuZCAtIGNvcHksIGNvcHkpO1xuICAgICAgdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIGNvcHksIGNvcHksIDApO1xuICAgICAgc3RhdGUud25leHQgPSBjb3B5O1xuICAgICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdGF0ZS53bmV4dCArPSBkaXN0O1xuICAgICAgaWYgKHN0YXRlLnduZXh0ID09PSBzdGF0ZS53c2l6ZSkgeyBzdGF0ZS53bmV4dCA9IDA7IH1cbiAgICAgIGlmIChzdGF0ZS53aGF2ZSA8IHN0YXRlLndzaXplKSB7IHN0YXRlLndoYXZlICs9IGRpc3Q7IH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGUoc3RybSwgZmx1c2gpIHtcbiAgdmFyIHN0YXRlO1xuICB2YXIgaW5wdXQsIG91dHB1dDsgICAgICAgICAgLy8gaW5wdXQvb3V0cHV0IGJ1ZmZlcnNcbiAgdmFyIG5leHQ7ICAgICAgICAgICAgICAgICAgIC8qIG5leHQgaW5wdXQgSU5ERVggKi9cbiAgdmFyIHB1dDsgICAgICAgICAgICAgICAgICAgIC8qIG5leHQgb3V0cHV0IElOREVYICovXG4gIHZhciBoYXZlLCBsZWZ0OyAgICAgICAgICAgICAvKiBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dCAqL1xuICB2YXIgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogYml0IGJ1ZmZlciAqL1xuICB2YXIgYml0czsgICAgICAgICAgICAgICAgICAgLyogYml0cyBpbiBiaXQgYnVmZmVyICovXG4gIHZhciBfaW4sIF9vdXQ7ICAgICAgICAgICAgICAvKiBzYXZlIHN0YXJ0aW5nIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIHZhciBjb3B5OyAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2Ygc3RvcmVkIG9yIG1hdGNoIGJ5dGVzIHRvIGNvcHkgKi9cbiAgdmFyIGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggYnl0ZXMgZnJvbSAqL1xuICB2YXIgZnJvbV9zb3VyY2U7XG4gIHZhciBoZXJlID0gMDsgICAgICAgICAgICAgICAvKiBjdXJyZW50IGRlY29kaW5nIHRhYmxlIGVudHJ5ICovXG4gIHZhciBoZXJlX2JpdHMsIGhlcmVfb3AsIGhlcmVfdmFsOyAvLyBwYWtlZCBcImhlcmVcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICAvL3ZhciBsYXN0OyAgICAgICAgICAgICAgICAgICAvKiBwYXJlbnQgdGFibGUgZW50cnkgKi9cbiAgdmFyIGxhc3RfYml0cywgbGFzdF9vcCwgbGFzdF92YWw7IC8vIHBha2VkIFwibGFzdFwiIGRlbm9ybWFsaXplZCAoSlMgc3BlY2lmaWMpXG4gIHZhciBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBsZW5ndGggdG8gY29weSBmb3IgcmVwZWF0cywgYml0cyB0byBkcm9wICovXG4gIHZhciByZXQ7ICAgICAgICAgICAgICAgICAgICAvKiByZXR1cm4gY29kZSAqL1xuICB2YXIgaGJ1ZiA9IG5ldyB1dGlscy5CdWY4KDQpOyAgICAvKiBidWZmZXIgZm9yIGd6aXAgaGVhZGVyIGNyYyBjYWxjdWxhdGlvbiAqL1xuICB2YXIgb3B0cztcblxuICB2YXIgbjsgLy8gdGVtcG9yYXJ5IHZhciBmb3IgTkVFRF9CSVRTXG5cbiAgdmFyIG9yZGVyID0gLyogcGVybXV0YXRpb24gb2YgY29kZSBsZW5ndGhzICovXG4gICAgWyAxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1IF07XG5cblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgfHwgIXN0cm0ub3V0cHV0IHx8XG4gICAgICAoIXN0cm0uaW5wdXQgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7IHN0YXRlLm1vZGUgPSBUWVBFRE87IH0gICAgLyogc2tpcCBjaGVjayAqL1xuXG5cbiAgLy8tLS0gTE9BRCgpIC0tLVxuICBwdXQgPSBzdHJtLm5leHRfb3V0O1xuICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgbGVmdCA9IHN0cm0uYXZhaWxfb3V0O1xuICBuZXh0ID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGhhdmUgPSBzdHJtLmF2YWlsX2luO1xuICBob2xkID0gc3RhdGUuaG9sZDtcbiAgYml0cyA9IHN0YXRlLmJpdHM7XG4gIC8vLS0tXG5cbiAgX2luID0gaGF2ZTtcbiAgX291dCA9IGxlZnQ7XG4gIHJldCA9IFpfT0s7XG5cbiAgaW5mX2xlYXZlOiAvLyBnb3RvIGVtdWxhdGlvblxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChzdGF0ZS5tb2RlKSB7XG4gICAgY2FzZSBIRUFEOlxuICAgICAgaWYgKHN0YXRlLndyYXAgPT09IDApIHtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEVETztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLz09PSBORUVEQklUUygxNik7XG4gICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoKHN0YXRlLndyYXAgJiAyKSAmJiBob2xkID09PSAweDhiMWYpIHsgIC8qIGd6aXAgaGVhZGVyICovXG4gICAgICAgIHN0YXRlLmNoZWNrID0gMC8qY3JjMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAvLz09PS8vXG5cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBGTEFHUztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5mbGFncyA9IDA7ICAgICAgICAgICAvKiBleHBlY3QgemxpYiBoZWFkZXIgKi9cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQuZG9uZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCEoc3RhdGUud3JhcCAmIDEpIHx8ICAgLyogY2hlY2sgaWYgemxpYiBoZWFkZXIgYWxsb3dlZCAqL1xuICAgICAgICAoKChob2xkICYgMHhmZikvKkJJVFMoOCkqLyA8PCA4KSArIChob2xkID4+IDgpKSAlIDMxKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBoZWFkZXIgY2hlY2snO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICgoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gNDtcbiAgICAgIGJpdHMgLT0gNDtcbiAgICAgIC8vLS0tLy9cbiAgICAgIGxlbiA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDg7XG4gICAgICBpZiAoc3RhdGUud2JpdHMgPT09IDApIHtcbiAgICAgICAgc3RhdGUud2JpdHMgPSBsZW47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW4gPiBzdGF0ZS53Yml0cykge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHdpbmRvdyBzaXplJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5kbWF4ID0gMSA8PCBsZW47XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgemxpYiBoZWFkZXIgb2tcXG5cIikpO1xuICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgc3RhdGUubW9kZSA9IGhvbGQgJiAweDIwMCA/IERJQ1RJRCA6IFRZUEU7XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRkxBR1M6XG4gICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5mbGFncyA9IGhvbGQ7XG4gICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHhmZikgIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4ZTAwMCkge1xuICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGhlYWRlciBmbGFncyBzZXQnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQudGV4dCA9ICgoaG9sZCA+PiA4KSAmIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgLy89PT0vL1xuICAgICAgfVxuICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgIGhvbGQgPSAwO1xuICAgICAgYml0cyA9IDA7XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5tb2RlID0gVElNRTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIFRJTUU6XG4gICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLnRpbWUgPSBob2xkO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IENSQzQoc3RhdGUuY2hlY2ssIGhvbGQpXG4gICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgIGhidWZbMl0gPSAoaG9sZCA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgaGJ1ZlszXSA9IChob2xkID4+PiAyNCkgJiAweGZmO1xuICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCA0LCAwKTtcbiAgICAgICAgLy89PT1cbiAgICAgIH1cbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IE9TO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgT1M6XG4gICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLnhmbGFncyA9IChob2xkICYgMHhmZik7XG4gICAgICAgIHN0YXRlLmhlYWQub3MgPSAoaG9sZCA+PiA4KTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgIH1cbiAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICBob2xkID0gMDtcbiAgICAgIGJpdHMgPSAwO1xuICAgICAgLy89PT0vL1xuICAgICAgc3RhdGUubW9kZSA9IEVYTEVOO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRVhMRU46XG4gICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQ7XG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9sZW4gPSBob2xkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgIHN0YXRlLmhlYWQuZXh0cmEgPSBudWxsLypaX05VTEwqLztcbiAgICAgIH1cbiAgICAgIHN0YXRlLm1vZGUgPSBFWFRSQTtcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIEVYVFJBOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwNDAwKSB7XG4gICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgICBsZW4gPSBzdGF0ZS5oZWFkLmV4dHJhX2xlbiAtIHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICghc3RhdGUuaGVhZC5leHRyYSkge1xuICAgICAgICAgICAgICAvLyBVc2UgdW50eXBlZCBhcnJheSBmb3IgbW9yZSBjb252ZW5pZW5kIHByb2Nlc3NpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG5ldyBBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dGlscy5hcnJheVNldChcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICAgIC8vIGV4dHJhIGZpZWxkIGlzIGxpbWl0ZWQgdG8gNjU1MzYgYnl0ZXNcbiAgICAgICAgICAgICAgLy8gLSBubyBuZWVkIGZvciBhZGRpdGlvbmFsIHNpemUgY2hlY2tcbiAgICAgICAgICAgICAgY29weSxcbiAgICAgICAgICAgICAgLypsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gPyBzdGF0ZS5oZWFkLmV4dHJhX21heCA6IGNvcHksKi9cbiAgICAgICAgICAgICAgbGVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy96bWVtY3B5KHN0YXRlLmhlYWQuZXh0cmEgKyBsZW4sIG5leHQsXG4gICAgICAgICAgICAvLyAgICAgICAgbGVuICsgY29weSA+IHN0YXRlLmhlYWQuZXh0cmFfbWF4ID9cbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA6IGNvcHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUubGVuZ3RoKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgfVxuICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBOQU1FO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDgwMCkge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgY29weSA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvLyBUT0RPOiAyIG9yIDEgYnl0ZXM/XG4gICAgICAgICAgbGVuID0gaW5wdXRbbmV4dCArIGNvcHkrK107XG4gICAgICAgICAgLyogdXNlIGNvbnN0YW50IGxpbWl0IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnkgKi9cbiAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5uYW1lX21heCovKSkge1xuICAgICAgICAgICAgc3RhdGUuaGVhZC5uYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGxlbiAmJiBjb3B5IDwgaGF2ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLm5hbWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBDT01NRU5UO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgQ09NTUVOVDpcbiAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MTAwMCkge1xuICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgY29weSA9IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAvKiB1c2UgY29uc3RhbnQgbGltaXQgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeSAqL1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkICYmIGxlbiAmJlxuICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLmNvbW1fbWF4Ki8pKSB7XG4gICAgICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgc3RhdGUubW9kZSA9IEhDUkM7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBIQ1JDOlxuICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoaG9sZCAhPT0gKHN0YXRlLmNoZWNrICYgMHhmZmZmKSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2hlYWRlciBjcmMgbWlzbWF0Y2gnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICBzdGF0ZS5oZWFkLmhjcmMgPSAoKHN0YXRlLmZsYWdzID4+IDkpICYgMSk7XG4gICAgICAgIHN0YXRlLmhlYWQuZG9uZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAwO1xuICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIERJQ1RJRDpcbiAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IHpzd2FwMzIoaG9sZCk7XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBESUNUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRElDVDpcbiAgICAgIGlmIChzdGF0ZS5oYXZlZGljdCA9PT0gMCkge1xuICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgLy8tLS1cbiAgICAgICAgcmV0dXJuIFpfTkVFRF9ESUNUO1xuICAgICAgfVxuICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBUWVBFOlxuICAgICAgaWYgKGZsdXNoID09PSBaX0JMT0NLIHx8IGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgVFlQRURPOlxuICAgICAgaWYgKHN0YXRlLmxhc3QpIHtcbiAgICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gYml0cyAmIDc7XG4gICAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUubW9kZSA9IENIRUNLO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vPT09IE5FRURCSVRTKDMpOyAqL1xuICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5sYXN0ID0gKGhvbGQgJiAweDAxKS8qQklUUygxKSovO1xuICAgICAgLy8tLS0gRFJPUEJJVFMoMSkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSAxO1xuICAgICAgYml0cyAtPSAxO1xuICAgICAgLy8tLS0vL1xuXG4gICAgICBzd2l0Y2ggKChob2xkICYgMHgwMykvKkJJVFMoMikqLykge1xuICAgICAgY2FzZSAwOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogc3RvcmVkIGJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIHN0b3JlZCBibG9jayVzXFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBTVE9SRUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZml4ZWQgYmxvY2sgKi9cbiAgICAgICAgZml4ZWR0YWJsZXMoc3RhdGUpO1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBmaXhlZCBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5fOyAgICAgICAgICAgICAvKiBkZWNvZGUgY29kZXMgKi9cbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGR5bmFtaWMgYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZHluYW1pYyBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUQUJMRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYmxvY2sgdHlwZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICB9XG4gICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICBiaXRzIC09IDI7XG4gICAgICAvLy0tLS8vXG4gICAgICBicmVhaztcbiAgICBjYXNlIFNUT1JFRDpcbiAgICAgIC8vLS0tIEJZVEVCSVRTKCkgLS0tLy8gLyogZ28gdG8gYnl0ZSBib3VuZGFyeSAqL1xuICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgYml0cyAtPSBiaXRzICYgNztcbiAgICAgIC8vLS0tLy9cbiAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGhhdmUtLTtcbiAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgIGJpdHMgKz0gODtcbiAgICAgIH1cbiAgICAgIC8vPT09Ly9cbiAgICAgIGlmICgoaG9sZCAmIDB4ZmZmZikgIT09ICgoaG9sZCA+Pj4gMTYpIF4gMHhmZmZmKSkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGF0ZS5sZW5ndGggPSBob2xkICYgMHhmZmZmO1xuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgbGVuZ3RoICV1XFxuXCIsXG4gICAgICAvLyAgICAgICAgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgaG9sZCA9IDA7XG4gICAgICBiaXRzID0gMDtcbiAgICAgIC8vPT09Ly9cbiAgICAgIHN0YXRlLm1vZGUgPSBDT1BZXztcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIENPUFlfOlxuICAgICAgc3RhdGUubW9kZSA9IENPUFk7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBDT1BZOlxuICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbiAgICAgICAgaWYgKGNvcHkgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIC8vLS0tIHptZW1jcHkocHV0LCBuZXh0LCBjb3B5KTsgLS0tXG4gICAgICAgIHV0aWxzLmFycmF5U2V0KG91dHB1dCwgaW5wdXQsIG5leHQsIGNvcHksIHB1dCk7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgICAgcHV0ICs9IGNvcHk7XG4gICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGVuZFxcblwiKSk7XG4gICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVEFCTEU6XG4gICAgICAvLz09PSBORUVEQklUUygxNCk7ICovXG4gICAgICB3aGlsZSAoYml0cyA8IDE0KSB7XG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICB9XG4gICAgICAvLz09PS8vXG4gICAgICBzdGF0ZS5ubGVuID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMjU3O1xuICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgYml0cyAtPSA1O1xuICAgICAgLy8tLS0vL1xuICAgICAgc3RhdGUubmRpc3QgPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAxO1xuICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgYml0cyAtPSA1O1xuICAgICAgLy8tLS0vL1xuICAgICAgc3RhdGUubmNvZGUgPSAoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gKyA0O1xuICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgYml0cyAtPSA0O1xuICAgICAgLy8tLS0vL1xuLy8jaWZuZGVmIFBLWklQX0JVR19XT1JLQVJPVU5EXG4gICAgICBpZiAoc3RhdGUubmxlbiA+IDI4NiB8fCBzdGF0ZS5uZGlzdCA+IDMwKSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ3RvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4vLyNlbmRpZlxuICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICB0YWJsZSBzaXplcyBva1xcblwiKSk7XG4gICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU5MRU5TO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVOTEVOUzpcbiAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgc3RhdGUubmNvZGUpIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dID0gKGhvbGQgJiAweDA3KTsvL0JJVFMoMyk7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICBiaXRzIC09IDM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgIH1cbiAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgMTkpIHtcbiAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IDA7XG4gICAgICB9XG4gICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgLy9zdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gICAgICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuICAgICAgLy8gU3dpdGNoIHRvIHVzZSBkeW5hbWljIHRhYmxlXG4gICAgICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluO1xuICAgICAgc3RhdGUubGVuYml0cyA9IDc7XG5cbiAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoQ09ERVMsIHN0YXRlLmxlbnMsIDAsIDE5LCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG5cbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIGNvZGUgbGVuZ3RocyBva1xcblwiKSk7XG4gICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgIHN0YXRlLm1vZGUgPSBDT0RFTEVOUztcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIENPREVMRU5TOlxuICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5ubGVuICsgc3RhdGUubmRpc3QpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07LypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfdmFsIDwgMTYpIHtcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gaGVyZV92YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGhlcmVfdmFsID09PSAxNikge1xuICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMik7XG4gICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMjtcbiAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVuID0gc3RhdGUubGVuc1tzdGF0ZS5oYXZlIC0gMV07XG4gICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwMyk7Ly9CSVRTKDIpO1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChoZXJlX3ZhbCA9PT0gMTcpIHtcbiAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDMpO1xuICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDM7XG4gICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDcpO1xuICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDc7XG4gICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICBjb3B5ID0gMTEgKyAoaG9sZCAmIDB4N2YpOy8vQklUUyg3KTtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDcpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gNztcbiAgICAgICAgICAgIGJpdHMgLT0gNztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmhhdmUgKyBjb3B5ID4gc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGNvcHktLSkge1xuICAgICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gbGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBoYW5kbGUgZXJyb3IgYnJlYWtzIGluIHdoaWxlICovXG4gICAgICBpZiAoc3RhdGUubW9kZSA9PT0gQkFEKSB7IGJyZWFrOyB9XG5cbiAgICAgIC8qIGNoZWNrIGZvciBlbmQtb2YtYmxvY2sgY29kZSAoYmV0dGVyIGhhdmUgb25lKSAqL1xuICAgICAgaWYgKHN0YXRlLmxlbnNbMjU2XSA9PT0gMCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2snO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLyogYnVpbGQgY29kZSB0YWJsZXMgLS0gbm90ZTogZG8gbm90IGNoYW5nZSB0aGUgbGVuYml0cyBvciBkaXN0Yml0c1xuICAgICAgICAgdmFsdWVzIGhlcmUgKDkgYW5kIDYpIHdpdGhvdXQgcmVhZGluZyB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgICAgICAgY29uY2VybmluZyB0aGUgRU5PVUdIIGNvbnN0YW50cywgd2hpY2ggZGVwZW5kIG9uIHRob3NlIHZhbHVlcyAqL1xuICAgICAgc3RhdGUubGVuYml0cyA9IDk7XG5cbiAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoTEVOUywgc3RhdGUubGVucywgMCwgc3RhdGUubmxlbiwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuICAgICAgLy8gc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLmRpc3RiaXRzID0gNjtcbiAgICAgIC8vc3RhdGUuZGlzdGNvZGUuY29weShzdGF0ZS5jb2Rlcyk7XG4gICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5bjtcbiAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmRpc3RiaXRzIH07XG4gICAgICByZXQgPSBpbmZsYXRlX3RhYmxlKERJU1RTLCBzdGF0ZS5sZW5zLCBzdGF0ZS5ubGVuLCBzdGF0ZS5uZGlzdCwgc3RhdGUuZGlzdGNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgc3RhdGUuZGlzdGJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAvLyBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZXMgc2V0JztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvL1RyYWNldigoc3RkZXJyLCAnaW5mbGF0ZTogICAgICAgY29kZXMgb2tcXG4nKSk7XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOXztcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBjYXNlIExFTl86XG4gICAgICBzdGF0ZS5tb2RlID0gTEVOO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVOOlxuICAgICAgaWYgKGhhdmUgPj0gNiAmJiBsZWZ0ID49IDI1OCkge1xuICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgLy8tLS1cbiAgICAgICAgaW5mbGF0ZV9mYXN0KHN0cm0sIF9vdXQpO1xuICAgICAgICAvLy0tLSBMT0FEKCkgLS0tXG4gICAgICAgIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gICAgICAgIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICAgICAgICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gICAgICAgIG5leHQgPSBzdHJtLm5leHRfaW47XG4gICAgICAgIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgICAgICAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gICAgICAgIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICAgICAgICBiaXRzID0gc3RhdGUuYml0cztcbiAgICAgICAgLy8tLS1cblxuICAgICAgICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkge1xuICAgICAgICAgIHN0YXRlLmJhY2sgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLmJhY2sgPSAwO1xuICAgICAgZm9yICg7Oykge1xuICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMSldOyAgLypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgIGlmIChoZXJlX2JpdHMgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgIH1cbiAgICAgIGlmIChoZXJlX29wICYmIChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgbGFzdF9iaXRzID0gaGVyZV9iaXRzO1xuICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2xhc3RfdmFsICtcbiAgICAgICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpLypCSVRTKGxhc3QuYml0cyArIGxhc3Qub3ApKi8gPj4gbGFzdF9iaXRzKV07XG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgYml0cyAtPSBsYXN0X2JpdHM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICB9XG4gICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAvLy0tLS8vXG4gICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgIHN0YXRlLmxlbmd0aCA9IGhlcmVfdmFsO1xuICAgICAgaWYgKGhlcmVfb3AgPT09IDApIHtcbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExJVDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaGVyZV9vcCAmIDMyKSB7XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3RhdGUuZXh0cmEgPSBoZXJlX29wICYgMTU7XG4gICAgICBzdGF0ZS5tb2RlID0gTEVORVhUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTEVORVhUOlxuICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgIC8vPT09IE5FRURCSVRTKHN0YXRlLmV4dHJhKTtcbiAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubGVuZ3RoICs9IGhvbGQgJiAoKDEgPDwgc3RhdGUuZXh0cmEpIC0gMSkvKkJJVFMoc3RhdGUuZXh0cmEpKi87XG4gICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgIGJpdHMgLT0gc3RhdGUuZXh0cmE7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgIH1cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIHN0YXRlLmxlbmd0aCkpO1xuICAgICAgc3RhdGUud2FzID0gc3RhdGUubGVuZ3RoO1xuICAgICAgc3RhdGUubW9kZSA9IERJU1Q7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBESVNUOlxuICAgICAgZm9yICg7Oykge1xuICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxKV07LypCSVRTKHN0YXRlLmRpc3RiaXRzKSovXG4gICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBoYXZlLS07XG4gICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgIH1cbiAgICAgIGlmICgoaGVyZV9vcCAmIDB4ZjApID09PSAwKSB7XG4gICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgIGxhc3RfdmFsID0gaGVyZV92YWw7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgKChob2xkICYgKCgxIDw8IChsYXN0X2JpdHMgKyBsYXN0X29wKSkgLSAxKSkvKkJJVFMobGFzdC5iaXRzICsgbGFzdC5vcCkqLyA+PiBsYXN0X2JpdHMpXTtcbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChsYXN0X2JpdHMgKyBoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMobGFzdC5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgIH1cbiAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgIC8vLS0tLy9cbiAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXRlLm9mZnNldCA9IGhlcmVfdmFsO1xuICAgICAgc3RhdGUuZXh0cmEgPSAoaGVyZV9vcCkgJiAxNTtcbiAgICAgIHN0YXRlLm1vZGUgPSBESVNURVhUO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgRElTVEVYVDpcbiAgICAgIGlmIChzdGF0ZS5leHRyYSkge1xuICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm9mZnNldCArPSBob2xkICYgKCgxIDw8IHN0YXRlLmV4dHJhKSAtIDEpLypCSVRTKHN0YXRlLmV4dHJhKSovO1xuICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IHN0YXRlLmV4dHJhO1xuICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gc3RhdGUuZXh0cmE7XG4gICAgICB9XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgaWYgKHN0YXRlLm9mZnNldCA+IHN0YXRlLmRtYXgpIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIHN0YXRlLm9mZnNldCkpO1xuICAgICAgc3RhdGUubW9kZSA9IE1BVENIO1xuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgTUFUQ0g6XG4gICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgIGNvcHkgPSBfb3V0IC0gbGVmdDtcbiAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBjb3B5KSB7ICAgICAgICAgLyogY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICBjb3B5ID0gc3RhdGUub2Zmc2V0IC0gY29weTtcbiAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53aGF2ZSkge1xuICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhaWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgVHJhY2UoKHN0ZGVyciwgXCJpbmZsYXRlLmMgdG9vIGZhclxcblwiKSk7XG4vLyAgICAgICAgICBjb3B5IC09IHN0YXRlLndoYXZlO1xuLy8gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuLy8gICAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4vLyAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4vLyAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbi8vICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IDA7XG4vLyAgICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuLy8gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4vLyAgICAgICAgICBicmVhaztcbi8vI2VuZGlmXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53bmV4dCkge1xuICAgICAgICAgIGNvcHkgLT0gc3RhdGUud25leHQ7XG4gICAgICAgICAgZnJvbSA9IHN0YXRlLndzaXplIC0gY29weTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmcm9tID0gc3RhdGUud25leHQgLSBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3B5ID4gc3RhdGUubGVuZ3RoKSB7IGNvcHkgPSBzdGF0ZS5sZW5ndGg7IH1cbiAgICAgICAgZnJvbV9zb3VyY2UgPSBzdGF0ZS53aW5kb3c7XG4gICAgICB9XG4gICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjb3B5IGZyb20gb3V0cHV0ICovXG4gICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICBmcm9tID0gcHV0IC0gc3RhdGUub2Zmc2V0O1xuICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgIGRvIHtcbiAgICAgICAgb3V0cHV0W3B1dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICB9IHdoaWxlICgtLWNvcHkpO1xuICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIExJVDpcbiAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgb3V0cHV0W3B1dCsrXSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgIGxlZnQtLTtcbiAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICBicmVhaztcbiAgICBjYXNlIENIRUNLOlxuICAgICAgaWYgKHN0YXRlLndyYXApIHtcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIC8vIFVzZSAnfCcgaW5zZGVhZCBvZiAnKycgdG8gbWFrZSBzdXJlIHRoYXQgcmVzdWx0IGlzIHNpZ25lZFxuICAgICAgICAgIGhvbGQgfD0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIF9vdXQgLT0gbGVmdDtcbiAgICAgICAgc3RybS50b3RhbF9vdXQgKz0gX291dDtcbiAgICAgICAgc3RhdGUudG90YWwgKz0gX291dDtcbiAgICAgICAgaWYgKF9vdXQpIHtcbiAgICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPVxuICAgICAgICAgICAgICAvKlVQREFURShzdGF0ZS5jaGVjaywgcHV0IC0gX291dCwgX291dCk7Ki9cbiAgICAgICAgICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkgOiBhZGxlcjMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHB1dCAtIF9vdXQpKTtcblxuICAgICAgICB9XG4gICAgICAgIF9vdXQgPSBsZWZ0O1xuICAgICAgICAvLyBOQjogY3JjMzIgc3RvcmVkIGFzIHNpZ25lZCAzMi1iaXQgaW50LCB6c3dhcDMyIHJldHVybnMgc2lnbmVkIHRvb1xuICAgICAgICBpZiAoKHN0YXRlLmZsYWdzID8gaG9sZCA6IHpzd2FwMzIoaG9sZCkpICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBkYXRhIGNoZWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgY2hlY2sgbWF0Y2hlcyB0cmFpbGVyXFxuXCIpKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLm1vZGUgPSBMRU5HVEg7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBMRU5HVEg6XG4gICAgICBpZiAoc3RhdGUud3JhcCAmJiBzdGF0ZS5mbGFncykge1xuICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS50b3RhbCAmIDB4ZmZmZmZmZmYpKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGxlbmd0aCBjaGVjayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGxlbmd0aCBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgfVxuICAgICAgc3RhdGUubW9kZSA9IERPTkU7XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgY2FzZSBET05FOlxuICAgICAgcmV0ID0gWl9TVFJFQU1fRU5EO1xuICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgIGNhc2UgQkFEOlxuICAgICAgcmV0ID0gWl9EQVRBX0VSUk9SO1xuICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgIGNhc2UgTUVNOlxuICAgICAgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAgIGNhc2UgU1lOQzpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgIH1cbiAgfVxuXG4gIC8vIGluZl9sZWF2ZSA8LSBoZXJlIGlzIHJlYWwgcGxhY2UgZm9yIFwiZ290byBpbmZfbGVhdmVcIiwgZW11bGF0ZWQgdmlhIFwiYnJlYWsgaW5mX2xlYXZlXCJcblxuICAvKlxuICAgICBSZXR1cm4gZnJvbSBpbmZsYXRlKCksIHVwZGF0aW5nIHRoZSB0b3RhbCBjb3VudHMgYW5kIHRoZSBjaGVjayB2YWx1ZS5cbiAgICAgSWYgdGhlcmUgd2FzIG5vIHByb2dyZXNzIGR1cmluZyB0aGUgaW5mbGF0ZSgpIGNhbGwsIHJldHVybiBhIGJ1ZmZlclxuICAgICBlcnJvci4gIENhbGwgdXBkYXRld2luZG93KCkgdG8gY3JlYXRlIGFuZC9vciB1cGRhdGUgdGhlIHdpbmRvdyBzdGF0ZS5cbiAgICAgTm90ZTogYSBtZW1vcnkgZXJyb3IgZnJvbSBpbmZsYXRlKCkgaXMgbm9uLXJlY292ZXJhYmxlLlxuICAgKi9cblxuICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgLy8tLS1cblxuICBpZiAoc3RhdGUud3NpemUgfHwgKF9vdXQgIT09IHN0cm0uYXZhaWxfb3V0ICYmIHN0YXRlLm1vZGUgPCBCQUQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA8IENIRUNLIHx8IGZsdXNoICE9PSBaX0ZJTklTSCkpKSB7XG4gICAgaWYgKHVwZGF0ZXdpbmRvdyhzdHJtLCBzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCwgX291dCAtIHN0cm0uYXZhaWxfb3V0KSkge1xuICAgICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgX2luIC09IHN0cm0uYXZhaWxfaW47XG4gIF9vdXQgLT0gc3RybS5hdmFpbF9vdXQ7XG4gIHN0cm0udG90YWxfaW4gKz0gX2luO1xuICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICBpZiAoc3RhdGUud3JhcCAmJiBfb3V0KSB7XG4gICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gLypVUERBVEUoc3RhdGUuY2hlY2ssIHN0cm0ubmV4dF9vdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpIDogYWRsZXIzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkpO1xuICB9XG4gIHN0cm0uZGF0YV90eXBlID0gc3RhdGUuYml0cyArIChzdGF0ZS5sYXN0ID8gNjQgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBUWVBFID8gMTI4IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA9PT0gTEVOXyB8fCBzdGF0ZS5tb2RlID09PSBDT1BZXyA/IDI1NiA6IDApO1xuICBpZiAoKChfaW4gPT09IDAgJiYgX291dCA9PT0gMCkgfHwgZmx1c2ggPT09IFpfRklOSVNIKSAmJiByZXQgPT09IFpfT0spIHtcbiAgICByZXQgPSBaX0JVRl9FUlJPUjtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlRW5kKHN0cm0pIHtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgLyp8fCBzdHJtLT56ZnJlZSA9PSAoZnJlZV9mdW5jKTAqLykge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS53aW5kb3cpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUdldEhlYWRlcihzdHJtLCBoZWFkKSB7XG4gIHZhciBzdGF0ZTtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKChzdGF0ZS53cmFwICYgMikgPT09IDApIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG5cbiAgLyogc2F2ZSBoZWFkZXIgc3RydWN0dXJlICovXG4gIHN0YXRlLmhlYWQgPSBoZWFkO1xuICBoZWFkLmRvbmUgPSBmYWxzZTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpIHtcbiAgdmFyIGRpY3RMZW5ndGggPSBkaWN0aW9uYXJ5Lmxlbmd0aDtcblxuICB2YXIgc3RhdGU7XG4gIHZhciBkaWN0aWQ7XG4gIHZhciByZXQ7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIC8qID09IFpfTlVMTCAqLyB8fCAhc3RybS5zdGF0ZSAvKiA9PSBaX05VTEwgKi8pIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICBpZiAoc3RhdGUud3JhcCAhPT0gMCAmJiBzdGF0ZS5tb2RlICE9PSBESUNUKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGNvcnJlY3QgZGljdGlvbmFyeSBpZGVudGlmaWVyICovXG4gIGlmIChzdGF0ZS5tb2RlID09PSBESUNUKSB7XG4gICAgZGljdGlkID0gMTsgLyogYWRsZXIzMigwLCBudWxsLCAwKSovXG4gICAgLyogZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIGRpY3RpZCA9IGFkbGVyMzIoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgICBpZiAoZGljdGlkICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgcmV0dXJuIFpfREFUQV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgLyogY29weSBkaWN0aW9uYXJ5IHRvIHdpbmRvdyB1c2luZyB1cGRhdGV3aW5kb3coKSwgd2hpY2ggd2lsbCBhbWVuZCB0aGVcbiAgIGV4aXN0aW5nIGRpY3Rpb25hcnkgaWYgYXBwcm9wcmlhdGUgKi9cbiAgcmV0ID0gdXBkYXRld2luZG93KHN0cm0sIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIGRpY3RMZW5ndGgpO1xuICBpZiAocmV0KSB7XG4gICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICByZXR1cm4gWl9NRU1fRVJST1I7XG4gIH1cbiAgc3RhdGUuaGF2ZWRpY3QgPSAxO1xuICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGRpY3Rpb25hcnkgc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmV4cG9ydCB7IGluZmxhdGVSZXNldCwgaW5mbGF0ZVJlc2V0MiwgaW5mbGF0ZVJlc2V0S2VlcCwgaW5mbGF0ZUluaXQsIGluZmxhdGVJbml0MiwgaW5mbGF0ZSwgaW5mbGF0ZUVuZCwgaW5mbGF0ZUdldEhlYWRlciwgaW5mbGF0ZVNldERpY3Rpb25hcnkgfTtcbmV4cG9ydCB2YXIgaW5mbGF0ZUluZm8gPSAncGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxuZXhwb3J0cy5pbmZsYXRlQ29weSA9IGluZmxhdGVDb3B5O1xuZXhwb3J0cy5pbmZsYXRlR2V0RGljdGlvbmFyeSA9IGluZmxhdGVHZXREaWN0aW9uYXJ5O1xuZXhwb3J0cy5pbmZsYXRlTWFyayA9IGluZmxhdGVNYXJrO1xuZXhwb3J0cy5pbmZsYXRlUHJpbWUgPSBpbmZsYXRlUHJpbWU7XG5leHBvcnRzLmluZmxhdGVTeW5jID0gaW5mbGF0ZVN5bmM7XG5leHBvcnRzLmluZmxhdGVTeW5jUG9pbnQgPSBpbmZsYXRlU3luY1BvaW50O1xuZXhwb3J0cy5pbmZsYXRlVW5kZXJtaW5lID0gaW5mbGF0ZVVuZGVybWluZTtcbiovXG4iLCJpbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi4vdXRpbHMvY29tbW9uLmpzXCI7XG5cbnZhciBNQVhCSVRTID0gMTU7XG52YXIgRU5PVUdIX0xFTlMgPSA4NTI7XG52YXIgRU5PVUdIX0RJU1RTID0gNTkyO1xuLy92YXIgRU5PVUdIID0gKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbnZhciBDT0RFUyA9IDA7XG52YXIgTEVOUyA9IDE7XG52YXIgRElTVFMgPSAyO1xuXG52YXIgbGJhc2UgPSBbIC8qIExlbmd0aCBjb2RlcyAyNTcuLjI4NSBiYXNlICovXG4gIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTMsIDE1LCAxNywgMTksIDIzLCAyNywgMzEsXG4gIDM1LCA0MywgNTEsIDU5LCA2NywgODMsIDk5LCAxMTUsIDEzMSwgMTYzLCAxOTUsIDIyNywgMjU4LCAwLCAwXG5dO1xuXG52YXIgbGV4dCA9IFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxNywgMTcsIDE4LCAxOCwgMTgsIDE4LFxuICAxOSwgMTksIDE5LCAxOSwgMjAsIDIwLCAyMCwgMjAsIDIxLCAyMSwgMjEsIDIxLCAxNiwgNzIsIDc4XG5dO1xuXG52YXIgZGJhc2UgPSBbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGJhc2UgKi9cbiAgMSwgMiwgMywgNCwgNSwgNywgOSwgMTMsIDE3LCAyNSwgMzMsIDQ5LCA2NSwgOTcsIDEyOSwgMTkzLFxuICAyNTcsIDM4NSwgNTEzLCA3NjksIDEwMjUsIDE1MzcsIDIwNDksIDMwNzMsIDQwOTcsIDYxNDUsXG4gIDgxOTMsIDEyMjg5LCAxNjM4NSwgMjQ1NzcsIDAsIDBcbl07XG5cbnZhciBkZXh0ID0gWyAvKiBEaXN0YW5jZSBjb2RlcyAwLi4yOSBleHRyYSAqL1xuICAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxOCwgMTgsIDE5LCAxOSwgMjAsIDIwLCAyMSwgMjEsIDIyLCAyMixcbiAgMjMsIDIzLCAyNCwgMjQsIDI1LCAyNSwgMjYsIDI2LCAyNywgMjcsXG4gIDI4LCAyOCwgMjksIDI5LCA2NCwgNjRcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluZmxhdGVfdGFibGUodHlwZSwgbGVucywgbGVuc19pbmRleCwgY29kZXMsIHRhYmxlLCB0YWJsZV9pbmRleCwgd29yaywgb3B0cylcbntcbiAgdmFyIGJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAvL2hlcmUgPSBvcHRzLmhlcmU7IC8qIHRhYmxlIGVudHJ5IGZvciBkdXBsaWNhdGlvbiAqL1xuXG4gIHZhciBsZW4gPSAwOyAgICAgICAgICAgICAgIC8qIGEgY29kZSdzIGxlbmd0aCBpbiBiaXRzICovXG4gIHZhciBzeW0gPSAwOyAgICAgICAgICAgICAgIC8qIGluZGV4IG9mIGNvZGUgc3ltYm9scyAqL1xuICB2YXIgbWluID0gMCwgbWF4ID0gMDsgICAgICAgICAgLyogbWluaW11bSBhbmQgbWF4aW11bSBjb2RlIGxlbmd0aHMgKi9cbiAgdmFyIHJvb3QgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHJvb3QgdGFibGUgKi9cbiAgdmFyIGN1cnIgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIGN1cnJlbnQgdGFibGUgKi9cbiAgdmFyIGRyb3AgPSAwOyAgICAgICAgICAgICAgLyogY29kZSBiaXRzIHRvIGRyb3AgZm9yIHN1Yi10YWJsZSAqL1xuICB2YXIgbGVmdCA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBwcmVmaXggY29kZXMgYXZhaWxhYmxlICovXG4gIHZhciB1c2VkID0gMDsgICAgICAgICAgICAgIC8qIGNvZGUgZW50cmllcyBpbiB0YWJsZSB1c2VkICovXG4gIHZhciBodWZmID0gMDsgICAgICAgICAgICAgIC8qIEh1ZmZtYW4gY29kZSAqL1xuICB2YXIgaW5jcjsgICAgICAgICAgICAgIC8qIGZvciBpbmNyZW1lbnRpbmcgY29kZSwgaW5kZXggKi9cbiAgdmFyIGZpbGw7ICAgICAgICAgICAgICAvKiBpbmRleCBmb3IgcmVwbGljYXRpbmcgZW50cmllcyAqL1xuICB2YXIgbG93OyAgICAgICAgICAgICAgIC8qIGxvdyBiaXRzIGZvciBjdXJyZW50IHJvb3QgZW50cnkgKi9cbiAgdmFyIG1hc2s7ICAgICAgICAgICAgICAvKiBtYXNrIGZvciBsb3cgcm9vdCBiaXRzICovXG4gIHZhciBuZXh0OyAgICAgICAgICAgICAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiB0YWJsZSAqL1xuICB2YXIgYmFzZSA9IG51bGw7ICAgICAvKiBiYXNlIHZhbHVlIHRhYmxlIHRvIHVzZSAqL1xuICB2YXIgYmFzZV9pbmRleCA9IDA7XG4vLyAgdmFyIHNob2V4dHJhOyAgICAvKiBleHRyYSBiaXRzIHRhYmxlIHRvIHVzZSAqL1xuICB2YXIgZW5kOyAgICAgICAgICAgICAgICAgICAgLyogdXNlIGJhc2UgYW5kIGV4dHJhIGZvciBzeW1ib2wgPiBlbmQgKi9cbiAgdmFyIGNvdW50ID0gbmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgLyogbnVtYmVyIG9mIGNvZGVzIG9mIGVhY2ggbGVuZ3RoICovXG4gIHZhciBvZmZzID0gbmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgIC8qIG9mZnNldHMgaW4gdGFibGUgZm9yIGVhY2ggbGVuZ3RoICovXG4gIHZhciBleHRyYSA9IG51bGw7XG4gIHZhciBleHRyYV9pbmRleCA9IDA7XG5cbiAgdmFyIGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7XG5cbiAgLypcbiAgIFByb2Nlc3MgYSBzZXQgb2YgY29kZSBsZW5ndGhzIHRvIGNyZWF0ZSBhIGNhbm9uaWNhbCBIdWZmbWFuIGNvZGUuICBUaGVcbiAgIGNvZGUgbGVuZ3RocyBhcmUgbGVuc1swLi5jb2Rlcy0xXS4gIEVhY2ggbGVuZ3RoIGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgc3ltYm9scyAwLi5jb2Rlcy0xLiAgVGhlIEh1ZmZtYW4gY29kZSBpcyBnZW5lcmF0ZWQgYnkgZmlyc3Qgc29ydGluZyB0aGVcbiAgIHN5bWJvbHMgYnkgbGVuZ3RoIGZyb20gc2hvcnQgdG8gbG9uZywgYW5kIHJldGFpbmluZyB0aGUgc3ltYm9sIG9yZGVyXG4gICBmb3IgY29kZXMgd2l0aCBlcXVhbCBsZW5ndGhzLiAgVGhlbiB0aGUgY29kZSBzdGFydHMgd2l0aCBhbGwgemVybyBiaXRzXG4gICBmb3IgdGhlIGZpcnN0IGNvZGUgb2YgdGhlIHNob3J0ZXN0IGxlbmd0aCwgYW5kIHRoZSBjb2RlcyBhcmUgaW50ZWdlclxuICAgaW5jcmVtZW50cyBmb3IgdGhlIHNhbWUgbGVuZ3RoLCBhbmQgemVyb3MgYXJlIGFwcGVuZGVkIGFzIHRoZSBsZW5ndGhcbiAgIGluY3JlYXNlcy4gIEZvciB0aGUgZGVmbGF0ZSBmb3JtYXQsIHRoZXNlIGJpdHMgYXJlIHN0b3JlZCBiYWNrd2FyZHNcbiAgIGZyb20gdGhlaXIgbW9yZSBuYXR1cmFsIGludGVnZXIgaW5jcmVtZW50IG9yZGVyaW5nLCBhbmQgc28gd2hlbiB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcyBhcmUgYnVpbHQgaW4gdGhlIGxhcmdlIGxvb3AgYmVsb3csIHRoZSBpbnRlZ2VyIGNvZGVzXG4gICBhcmUgaW5jcmVtZW50ZWQgYmFja3dhcmRzLlxuXG4gICBUaGlzIHJvdXRpbmUgYXNzdW1lcywgYnV0IGRvZXMgbm90IGNoZWNrLCB0aGF0IGFsbCBvZiB0aGUgZW50cmllcyBpblxuICAgbGVuc1tdIGFyZSBpbiB0aGUgcmFuZ2UgMC4uTUFYQklUUy4gIFRoZSBjYWxsZXIgbXVzdCBhc3N1cmUgdGhpcy5cbiAgIDEuLk1BWEJJVFMgaXMgaW50ZXJwcmV0ZWQgYXMgdGhhdCBjb2RlIGxlbmd0aC4gIHplcm8gbWVhbnMgdGhhdCB0aGF0XG4gICBzeW1ib2wgZG9lcyBub3Qgb2NjdXIgaW4gdGhpcyBjb2RlLlxuXG4gICBUaGUgY29kZXMgYXJlIHNvcnRlZCBieSBjb21wdXRpbmcgYSBjb3VudCBvZiBjb2RlcyBmb3IgZWFjaCBsZW5ndGgsXG4gICBjcmVhdGluZyBmcm9tIHRoYXQgYSB0YWJsZSBvZiBzdGFydGluZyBpbmRpY2VzIGZvciBlYWNoIGxlbmd0aCBpbiB0aGVcbiAgIHNvcnRlZCB0YWJsZSwgYW5kIHRoZW4gZW50ZXJpbmcgdGhlIHN5bWJvbHMgaW4gb3JkZXIgaW4gdGhlIHNvcnRlZFxuICAgdGFibGUuICBUaGUgc29ydGVkIHRhYmxlIGlzIHdvcmtbXSwgd2l0aCB0aGF0IHNwYWNlIGJlaW5nIHByb3ZpZGVkIGJ5XG4gICB0aGUgY2FsbGVyLlxuXG4gICBUaGUgbGVuZ3RoIGNvdW50cyBhcmUgdXNlZCBmb3Igb3RoZXIgcHVycG9zZXMgYXMgd2VsbCwgaS5lLiBmaW5kaW5nXG4gICB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggY29kZXMsIGRldGVybWluaW5nIGlmIHRoZXJlIGFyZSBhbnlcbiAgIGNvZGVzIGF0IGFsbCwgY2hlY2tpbmcgZm9yIGEgdmFsaWQgc2V0IG9mIGxlbmd0aHMsIGFuZCBsb29raW5nIGFoZWFkXG4gICBhdCBsZW5ndGggY291bnRzIHRvIGRldGVybWluZSBzdWItdGFibGUgc2l6ZXMgd2hlbiBidWlsZGluZyB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcy5cbiAgICovXG5cbiAgLyogYWNjdW11bGF0ZSBsZW5ndGhzIGZvciBjb2RlcyAoYXNzdW1lcyBsZW5zW10gYWxsIGluIDAuLk1BWEJJVFMpICovXG4gIGZvciAobGVuID0gMDsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgY291bnRbbGVuXSA9IDA7XG4gIH1cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBjb3VudFtsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrO1xuICB9XG5cbiAgLyogYm91bmQgY29kZSBsZW5ndGhzLCBmb3JjZSByb290IHRvIGJlIHdpdGhpbiBjb2RlIGxlbmd0aHMgKi9cbiAgcm9vdCA9IGJpdHM7XG4gIGZvciAobWF4ID0gTUFYQklUUzsgbWF4ID49IDE7IG1heC0tKSB7XG4gICAgaWYgKGNvdW50W21heF0gIT09IDApIHsgYnJlYWs7IH1cbiAgfVxuICBpZiAocm9vdCA+IG1heCkge1xuICAgIHJvb3QgPSBtYXg7XG4gIH1cbiAgaWYgKG1heCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgIC8qIG5vIHN5bWJvbHMgdG8gY29kZSBhdCBhbGwgKi9cbiAgICAvL3RhYmxlLm9wW29wdHMudGFibGVfaW5kZXhdID0gNjQ7ICAvL2hlcmUub3AgPSAodmFyIGNoYXIpNjQ7ICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbb3B0cy50YWJsZV9pbmRleF0gPSAxOyAgIC8vaGVyZS5iaXRzID0gKHZhciBjaGFyKTE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7ICAgLy9oZXJlLnZhbCA9ICh2YXIgc2hvcnQpMDtcbiAgICB0YWJsZVt0YWJsZV9pbmRleCsrXSA9ICgxIDw8IDI0KSB8ICg2NCA8PCAxNikgfCAwO1xuXG5cbiAgICAvL3RhYmxlLm9wW29wdHMudGFibGVfaW5kZXhdID0gNjQ7XG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTtcbiAgICAvL3RhYmxlLnZhbFtvcHRzLnRhYmxlX2luZGV4KytdID0gMDtcbiAgICB0YWJsZVt0YWJsZV9pbmRleCsrXSA9ICgxIDw8IDI0KSB8ICg2NCA8PCAxNikgfCAwO1xuXG4gICAgb3B0cy5iaXRzID0gMTtcbiAgICByZXR1cm4gMDsgICAgIC8qIG5vIHN5bWJvbHMsIGJ1dCB3YWl0IGZvciBkZWNvZGluZyB0byByZXBvcnQgZXJyb3IgKi9cbiAgfVxuICBmb3IgKG1pbiA9IDE7IG1pbiA8IG1heDsgbWluKyspIHtcbiAgICBpZiAoY291bnRbbWluXSAhPT0gMCkgeyBicmVhazsgfVxuICB9XG4gIGlmIChyb290IDwgbWluKSB7XG4gICAgcm9vdCA9IG1pbjtcbiAgfVxuXG4gIC8qIGNoZWNrIGZvciBhbiBvdmVyLXN1YnNjcmliZWQgb3IgaW5jb21wbGV0ZSBzZXQgb2YgbGVuZ3RocyAqL1xuICBsZWZ0ID0gMTtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBsZWZ0IDw8PSAxO1xuICAgIGxlZnQgLT0gY291bnRbbGVuXTtcbiAgICBpZiAobGVmdCA8IDApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9ICAgICAgICAvKiBvdmVyLXN1YnNjcmliZWQgKi9cbiAgfVxuICBpZiAobGVmdCA+IDAgJiYgKHR5cGUgPT09IENPREVTIHx8IG1heCAhPT0gMSkpIHtcbiAgICByZXR1cm4gLTE7ICAgICAgICAgICAgICAgICAgICAgIC8qIGluY29tcGxldGUgc2V0ICovXG4gIH1cblxuICAvKiBnZW5lcmF0ZSBvZmZzZXRzIGludG8gc3ltYm9sIHRhYmxlIGZvciBlYWNoIGxlbmd0aCBmb3Igc29ydGluZyAqL1xuICBvZmZzWzFdID0gMDtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPCBNQVhCSVRTOyBsZW4rKykge1xuICAgIG9mZnNbbGVuICsgMV0gPSBvZmZzW2xlbl0gKyBjb3VudFtsZW5dO1xuICB9XG5cbiAgLyogc29ydCBzeW1ib2xzIGJ5IGxlbmd0aCwgYnkgc3ltYm9sIG9yZGVyIHdpdGhpbiBlYWNoIGxlbmd0aCAqL1xuICBmb3IgKHN5bSA9IDA7IHN5bSA8IGNvZGVzOyBzeW0rKykge1xuICAgIGlmIChsZW5zW2xlbnNfaW5kZXggKyBzeW1dICE9PSAwKSB7XG4gICAgICB3b3JrW29mZnNbbGVuc1tsZW5zX2luZGV4ICsgc3ltXV0rK10gPSBzeW07XG4gICAgfVxuICB9XG5cbiAgLypcbiAgIENyZWF0ZSBhbmQgZmlsbCBpbiBkZWNvZGluZyB0YWJsZXMuICBJbiB0aGlzIGxvb3AsIHRoZSB0YWJsZSBiZWluZ1xuICAgZmlsbGVkIGlzIGF0IG5leHQgYW5kIGhhcyBjdXJyIGluZGV4IGJpdHMuICBUaGUgY29kZSBiZWluZyB1c2VkIGlzIGh1ZmZcbiAgIHdpdGggbGVuZ3RoIGxlbi4gIFRoYXQgY29kZSBpcyBjb252ZXJ0ZWQgdG8gYW4gaW5kZXggYnkgZHJvcHBpbmcgZHJvcFxuICAgYml0cyBvZmYgb2YgdGhlIGJvdHRvbS4gIEZvciBjb2RlcyB3aGVyZSBsZW4gaXMgbGVzcyB0aGFuIGRyb3AgKyBjdXJyLFxuICAgdGhvc2UgdG9wIGRyb3AgKyBjdXJyIC0gbGVuIGJpdHMgYXJlIGluY3JlbWVudGVkIHRocm91Z2ggYWxsIHZhbHVlcyB0b1xuICAgZmlsbCB0aGUgdGFibGUgd2l0aCByZXBsaWNhdGVkIGVudHJpZXMuXG5cbiAgIHJvb3QgaXMgdGhlIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciB0aGUgcm9vdCB0YWJsZS4gIFdoZW4gbGVuIGV4Y2VlZHNcbiAgIHJvb3QsIHN1Yi10YWJsZXMgYXJlIGNyZWF0ZWQgcG9pbnRlZCB0byBieSB0aGUgcm9vdCBlbnRyeSB3aXRoIGFuIGluZGV4XG4gICBvZiB0aGUgbG93IHJvb3QgYml0cyBvZiBodWZmLiAgVGhpcyBpcyBzYXZlZCBpbiBsb3cgdG8gY2hlY2sgZm9yIHdoZW4gYVxuICAgbmV3IHN1Yi10YWJsZSBzaG91bGQgYmUgc3RhcnRlZC4gIGRyb3AgaXMgemVybyB3aGVuIHRoZSByb290IHRhYmxlIGlzXG4gICBiZWluZyBmaWxsZWQsIGFuZCBkcm9wIGlzIHJvb3Qgd2hlbiBzdWItdGFibGVzIGFyZSBiZWluZyBmaWxsZWQuXG5cbiAgIFdoZW4gYSBuZXcgc3ViLXRhYmxlIGlzIG5lZWRlZCwgaXQgaXMgbmVjZXNzYXJ5IHRvIGxvb2sgYWhlYWQgaW4gdGhlXG4gICBjb2RlIGxlbmd0aHMgdG8gZGV0ZXJtaW5lIHdoYXQgc2l6ZSBzdWItdGFibGUgaXMgbmVlZGVkLiAgVGhlIGxlbmd0aFxuICAgY291bnRzIGFyZSB1c2VkIGZvciB0aGlzLCBhbmQgc28gY291bnRbXSBpcyBkZWNyZW1lbnRlZCBhcyBjb2RlcyBhcmVcbiAgIGVudGVyZWQgaW4gdGhlIHRhYmxlcy5cblxuICAgdXNlZCBrZWVwcyB0cmFjayBvZiBob3cgbWFueSB0YWJsZSBlbnRyaWVzIGhhdmUgYmVlbiBhbGxvY2F0ZWQgZnJvbSB0aGVcbiAgIHByb3ZpZGVkICp0YWJsZSBzcGFjZS4gIEl0IGlzIGNoZWNrZWQgZm9yIExFTlMgYW5kIERJU1QgdGFibGVzIGFnYWluc3RcbiAgIHRoZSBjb25zdGFudHMgRU5PVUdIX0xFTlMgYW5kIEVOT1VHSF9ESVNUUyB0byBndWFyZCBhZ2FpbnN0IGNoYW5nZXMgaW5cbiAgIHRoZSBpbml0aWFsIHJvb3QgdGFibGUgc2l6ZSBjb25zdGFudHMuICBTZWUgdGhlIGNvbW1lbnRzIGluIGluZnRyZWVzLmhcbiAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICBzeW0gaW5jcmVtZW50cyB0aHJvdWdoIGFsbCBzeW1ib2xzLCBhbmQgdGhlIGxvb3AgdGVybWluYXRlcyB3aGVuXG4gICBhbGwgY29kZXMgb2YgbGVuZ3RoIG1heCwgaS5lLiBhbGwgY29kZXMsIGhhdmUgYmVlbiBwcm9jZXNzZWQuICBUaGlzXG4gICByb3V0aW5lIHBlcm1pdHMgaW5jb21wbGV0ZSBjb2Rlcywgc28gYW5vdGhlciBsb29wIGFmdGVyIHRoaXMgb25lIGZpbGxzXG4gICBpbiB0aGUgcmVzdCBvZiB0aGUgZGVjb2RpbmcgdGFibGVzIHdpdGggaW52YWxpZCBjb2RlIG1hcmtlcnMuXG4gICAqL1xuXG4gIC8qIHNldCB1cCBmb3IgY29kZSB0eXBlICovXG4gIC8vIHBvb3IgbWFuIG9wdGltaXphdGlvbiAtIHVzZSBpZi1lbHNlIGluc3RlYWQgb2Ygc3dpdGNoLFxuICAvLyB0byBhdm9pZCBkZW9wdHMgaW4gb2xkIHY4XG4gIGlmICh0eXBlID09PSBDT0RFUykge1xuICAgIGJhc2UgPSBleHRyYSA9IHdvcms7ICAgIC8qIGR1bW15IHZhbHVlLS1ub3QgdXNlZCAqL1xuICAgIGVuZCA9IDE5O1xuXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gTEVOUykge1xuICAgIGJhc2UgPSBsYmFzZTtcbiAgICBiYXNlX2luZGV4IC09IDI1NztcbiAgICBleHRyYSA9IGxleHQ7XG4gICAgZXh0cmFfaW5kZXggLT0gMjU3O1xuICAgIGVuZCA9IDI1NjtcblxuICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgLyogRElTVFMgKi9cbiAgICBiYXNlID0gZGJhc2U7XG4gICAgZXh0cmEgPSBkZXh0O1xuICAgIGVuZCA9IC0xO1xuICB9XG5cbiAgLyogaW5pdGlhbGl6ZSBvcHRzIGZvciBsb29wICovXG4gIGh1ZmYgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlICovXG4gIHN5bSA9IDA7ICAgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlIHN5bWJvbCAqL1xuICBsZW4gPSBtaW47ICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSBsZW5ndGggKi9cbiAgbmV4dCA9IHRhYmxlX2luZGV4OyAgICAgICAgICAgICAgLyogY3VycmVudCB0YWJsZSB0byBmaWxsIGluICovXG4gIGN1cnIgPSByb290OyAgICAgICAgICAgICAgICAvKiBjdXJyZW50IHRhYmxlIGluZGV4IGJpdHMgKi9cbiAgZHJvcCA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgYml0cyB0byBkcm9wIGZyb20gY29kZSBmb3IgaW5kZXggKi9cbiAgbG93ID0gLTE7ICAgICAgICAgICAgICAgICAgIC8qIHRyaWdnZXIgbmV3IHN1Yi10YWJsZSB3aGVuIGxlbiA+IHJvb3QgKi9cbiAgdXNlZCA9IDEgPDwgcm9vdDsgICAgICAgICAgLyogdXNlIHJvb3QgdGFibGUgZW50cmllcyAqL1xuICBtYXNrID0gdXNlZCAtIDE7ICAgICAgICAgICAgLyogbWFzayBmb3IgY29tcGFyaW5nIGxvdyAqL1xuXG4gIC8qIGNoZWNrIGF2YWlsYWJsZSB0YWJsZSBzcGFjZSAqL1xuICBpZiAoKHR5cGUgPT09IExFTlMgJiYgdXNlZCA+IEVOT1VHSF9MRU5TKSB8fFxuICAgICh0eXBlID09PSBESVNUUyAmJiB1c2VkID4gRU5PVUdIX0RJU1RTKSkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLyogcHJvY2VzcyBhbGwgY29kZXMgYW5kIG1ha2UgdGFibGUgZW50cmllcyAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogY3JlYXRlIHRhYmxlIGVudHJ5ICovXG4gICAgaGVyZV9iaXRzID0gbGVuIC0gZHJvcDtcbiAgICBpZiAod29ya1tzeW1dIDwgZW5kKSB7XG4gICAgICBoZXJlX29wID0gMDtcbiAgICAgIGhlcmVfdmFsID0gd29ya1tzeW1dO1xuICAgIH1cbiAgICBlbHNlIGlmICh3b3JrW3N5bV0gPiBlbmQpIHtcbiAgICAgIGhlcmVfb3AgPSBleHRyYVtleHRyYV9pbmRleCArIHdvcmtbc3ltXV07XG4gICAgICBoZXJlX3ZhbCA9IGJhc2VbYmFzZV9pbmRleCArIHdvcmtbc3ltXV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGVyZV9vcCA9IDMyICsgNjQ7ICAgICAgICAgLyogZW5kIG9mIGJsb2NrICovXG4gICAgICBoZXJlX3ZhbCA9IDA7XG4gICAgfVxuXG4gICAgLyogcmVwbGljYXRlIGZvciB0aG9zZSBpbmRpY2VzIHdpdGggbG93IGxlbiBiaXRzIGVxdWFsIHRvIGh1ZmYgKi9cbiAgICBpbmNyID0gMSA8PCAobGVuIC0gZHJvcCk7XG4gICAgZmlsbCA9IDEgPDwgY3VycjtcbiAgICBtaW4gPSBmaWxsOyAgICAgICAgICAgICAgICAgLyogc2F2ZSBvZmZzZXQgdG8gbmV4dCB0YWJsZSAqL1xuICAgIGRvIHtcbiAgICAgIGZpbGwgLT0gaW5jcjtcbiAgICAgIHRhYmxlW25leHQgKyAoaHVmZiA+PiBkcm9wKSArIGZpbGxdID0gKGhlcmVfYml0cyA8PCAyNCkgfCAoaGVyZV9vcCA8PCAxNikgfCBoZXJlX3ZhbCB8MDtcbiAgICB9IHdoaWxlIChmaWxsICE9PSAwKTtcblxuICAgIC8qIGJhY2t3YXJkcyBpbmNyZW1lbnQgdGhlIGxlbi1iaXQgY29kZSBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIDEpO1xuICAgIHdoaWxlIChodWZmICYgaW5jcikge1xuICAgICAgaW5jciA+Pj0gMTtcbiAgICB9XG4gICAgaWYgKGluY3IgIT09IDApIHtcbiAgICAgIGh1ZmYgJj0gaW5jciAtIDE7XG4gICAgICBodWZmICs9IGluY3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh1ZmYgPSAwO1xuICAgIH1cblxuICAgIC8qIGdvIHRvIG5leHQgc3ltYm9sLCB1cGRhdGUgY291bnQsIGxlbiAqL1xuICAgIHN5bSsrO1xuICAgIGlmICgtLWNvdW50W2xlbl0gPT09IDApIHtcbiAgICAgIGlmIChsZW4gPT09IG1heCkgeyBicmVhazsgfVxuICAgICAgbGVuID0gbGVuc1tsZW5zX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICB9XG5cbiAgICAvKiBjcmVhdGUgbmV3IHN1Yi10YWJsZSBpZiBuZWVkZWQgKi9cbiAgICBpZiAobGVuID4gcm9vdCAmJiAoaHVmZiAmIG1hc2spICE9PSBsb3cpIHtcbiAgICAgIC8qIGlmIGZpcnN0IHRpbWUsIHRyYW5zaXRpb24gdG8gc3ViLXRhYmxlcyAqL1xuICAgICAgaWYgKGRyb3AgPT09IDApIHtcbiAgICAgICAgZHJvcCA9IHJvb3Q7XG4gICAgICB9XG5cbiAgICAgIC8qIGluY3JlbWVudCBwYXN0IGxhc3QgdGFibGUgKi9cbiAgICAgIG5leHQgKz0gbWluOyAgICAgICAgICAgIC8qIGhlcmUgbWluIGlzIDEgPDwgY3VyciAqL1xuXG4gICAgICAvKiBkZXRlcm1pbmUgbGVuZ3RoIG9mIG5leHQgdGFibGUgKi9cbiAgICAgIGN1cnIgPSBsZW4gLSBkcm9wO1xuICAgICAgbGVmdCA9IDEgPDwgY3VycjtcbiAgICAgIHdoaWxlIChjdXJyICsgZHJvcCA8IG1heCkge1xuICAgICAgICBsZWZ0IC09IGNvdW50W2N1cnIgKyBkcm9wXTtcbiAgICAgICAgaWYgKGxlZnQgPD0gMCkgeyBicmVhazsgfVxuICAgICAgICBjdXJyKys7XG4gICAgICAgIGxlZnQgPDw9IDE7XG4gICAgICB9XG5cbiAgICAgIC8qIGNoZWNrIGZvciBlbm91Z2ggc3BhY2UgKi9cbiAgICAgIHVzZWQgKz0gMSA8PCBjdXJyO1xuICAgICAgaWYgKCh0eXBlID09PSBMRU5TICYmIHVzZWQgPiBFTk9VR0hfTEVOUykgfHxcbiAgICAgICAgKHR5cGUgPT09IERJU1RTICYmIHVzZWQgPiBFTk9VR0hfRElTVFMpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuXG4gICAgICAvKiBwb2ludCBlbnRyeSBpbiByb290IHRhYmxlIHRvIHN1Yi10YWJsZSAqL1xuICAgICAgbG93ID0gaHVmZiAmIG1hc2s7XG4gICAgICAvKnRhYmxlLm9wW2xvd10gPSBjdXJyO1xuICAgICAgdGFibGUuYml0c1tsb3ddID0gcm9vdDtcbiAgICAgIHRhYmxlLnZhbFtsb3ddID0gbmV4dCAtIG9wdHMudGFibGVfaW5kZXg7Ki9cbiAgICAgIHRhYmxlW2xvd10gPSAocm9vdCA8PCAyNCkgfCAoY3VyciA8PCAxNikgfCAobmV4dCAtIHRhYmxlX2luZGV4KSB8MDtcbiAgICB9XG4gIH1cblxuICAvKiBmaWxsIGluIHJlbWFpbmluZyB0YWJsZSBlbnRyeSBpZiBjb2RlIGlzIGluY29tcGxldGUgKGd1YXJhbnRlZWQgdG8gaGF2ZVxuICAgYXQgbW9zdCBvbmUgcmVtYWluaW5nIGVudHJ5LCBzaW5jZSBpZiB0aGUgY29kZSBpcyBpbmNvbXBsZXRlLCB0aGVcbiAgIG1heGltdW0gY29kZSBsZW5ndGggdGhhdCB3YXMgYWxsb3dlZCB0byBnZXQgdGhpcyBmYXIgaXMgb25lIGJpdCkgKi9cbiAgaWYgKGh1ZmYgIT09IDApIHtcbiAgICAvL3RhYmxlLm9wW25leHQgKyBodWZmXSA9IDY0OyAgICAgICAgICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbbmV4dCArIGh1ZmZdID0gbGVuIC0gZHJvcDtcbiAgICAvL3RhYmxlLnZhbFtuZXh0ICsgaHVmZl0gPSAwO1xuICAgIHRhYmxlW25leHQgKyBodWZmXSA9ICgobGVuIC0gZHJvcCkgPDwgMjQpIHwgKDY0IDw8IDE2KSB8MDtcbiAgfVxuXG4gIC8qIHNldCByZXR1cm4gcGFyYW1ldGVycyAqL1xuICAvL29wdHMudGFibGVfaW5kZXggKz0gdXNlZDtcbiAgb3B0cy5iaXRzID0gcm9vdDtcbiAgcmV0dXJuIDA7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gWlN0cmVhbSgpIHtcbiAgLyogbmV4dCBpbnB1dCBieXRlICovXG4gIHRoaXMuaW5wdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gIHRoaXMubmV4dF9pbiA9IDA7XG4gIC8qIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgYXQgaW5wdXQgKi9cbiAgdGhpcy5hdmFpbF9pbiA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBpbnB1dCBieXRlcyByZWFkIHNvIGZhciAqL1xuICB0aGlzLnRvdGFsX2luID0gMDtcbiAgLyogbmV4dCBvdXRwdXQgYnl0ZSBzaG91bGQgYmUgcHV0IHRoZXJlICovXG4gIHRoaXMub3V0cHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfb3V0ID0gMDtcbiAgLyogcmVtYWluaW5nIGZyZWUgc3BhY2UgYXQgb3V0cHV0ICovXG4gIHRoaXMuYXZhaWxfb3V0ID0gMDtcbiAgLyogdG90YWwgbnVtYmVyIG9mIGJ5dGVzIG91dHB1dCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9vdXQgPSAwO1xuICAvKiBsYXN0IGVycm9yIG1lc3NhZ2UsIE5VTEwgaWYgbm8gZXJyb3IgKi9cbiAgdGhpcy5tc2cgPSAnJy8qWl9OVUxMKi87XG4gIC8qIG5vdCB2aXNpYmxlIGJ5IGFwcGxpY2F0aW9ucyAqL1xuICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgLyogYmVzdCBndWVzcyBhYm91dCB0aGUgZGF0YSB0eXBlOiBiaW5hcnkgb3IgdGV4dCAqL1xuICB0aGlzLmRhdGFfdHlwZSA9IDIvKlpfVU5LTk9XTiovO1xuICAvKiBhZGxlcjMyIHZhbHVlIG9mIHRoZSB1bmNvbXByZXNzZWQgZGF0YSAqL1xuICB0aGlzLmFkbGVyID0gMDtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIEB0aGlzIHtQcm9taXNlfVxuICovXG5mdW5jdGlvbiBmaW5hbGx5Q29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgdmFyIGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHRoaXMudGhlbihcbiAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluYWxseUNvbnN0cnVjdG9yO1xuIiwiaW1wb3J0IHByb21pc2VGaW5hbGx5IGZyb20gJy4vZmluYWxseSc7XG5cbi8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIHByb21pc2UtcG9seWZpbGwgd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4vLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbnZhciBzZXRUaW1lb3V0RnVuYyA9IHNldFRpbWVvdXQ7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBQb2x5ZmlsbCBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgZnVuY3Rpb24nKTtcbiAgLyoqIEB0eXBlIHshbnVtYmVyfSAqL1xuICB0aGlzLl9zdGF0ZSA9IDA7XG4gIC8qKiBAdHlwZSB7IWJvb2xlYW59ICovXG4gIHRoaXMuX2hhbmRsZWQgPSBmYWxzZTtcbiAgLyoqIEB0eXBlIHtQcm9taXNlfHVuZGVmaW5lZH0gKi9cbiAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG4gIC8qKiBAdHlwZSB7IUFycmF5PCFGdW5jdGlvbj59ICovXG4gIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZShzZWxmLCBkZWZlcnJlZCkge1xuICB3aGlsZSAoc2VsZi5fc3RhdGUgPT09IDMpIHtcbiAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG4gIH1cbiAgaWYgKHNlbGYuX3N0YXRlID09PSAwKSB7XG4gICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcbiAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNiID0gc2VsZi5fc3RhdGUgPT09IDEgPyBkZWZlcnJlZC5vbkZ1bGZpbGxlZCA6IGRlZmVycmVkLm9uUmVqZWN0ZWQ7XG4gICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAoc2VsZi5fc3RhdGUgPT09IDEgPyByZXNvbHZlIDogcmVqZWN0KShkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl92YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZGVmZXJyZWQucHJvbWlzZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgcmV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gc2VsZilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgaWYgKFxuICAgICAgbmV3VmFsdWUgJiZcbiAgICAgICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICApIHtcbiAgICAgIHZhciB0aGVuID0gbmV3VmFsdWUudGhlbjtcbiAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgc2VsZi5fc3RhdGUgPSAzO1xuICAgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBmaW5hbGUoc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZG9SZXNvbHZlKGJpbmQodGhlbiwgbmV3VmFsdWUpLCBzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxmLl9zdGF0ZSA9IDE7XG4gICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBmaW5hbGUoc2VsZik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3Qoc2VsZiwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHNlbGYuX3N0YXRlID0gMjtcbiAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBmaW5hbGUoc2VsZikge1xuICBpZiAoc2VsZi5fc3RhdGUgPT09IDIgJiYgc2VsZi5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLl9oYW5kbGVkKSB7XG4gICAgICAgIFByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHNlbGYuX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBoYW5kbGUoc2VsZiwgc2VsZi5fZGVmZXJyZWRzW2ldKTtcbiAgfVxuICBzZWxmLl9kZWZlcnJlZHMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKSB7XG4gIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG59XG5cbi8qKlxuICogVGFrZSBhIHBvdGVudGlhbGx5IG1pc2JlaGF2aW5nIHJlc29sdmVyIGZ1bmN0aW9uIGFuZCBtYWtlIHN1cmVcbiAqIG9uRnVsZmlsbGVkIGFuZCBvblJlamVjdGVkIGFyZSBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIE1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgYXN5bmNocm9ueS5cbiAqL1xuZnVuY3Rpb24gZG9SZXNvbHZlKGZuLCBzZWxmKSB7XG4gIHZhciBkb25lID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgZm4oXG4gICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZWplY3Qoc2VsZiwgcmVhc29uKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChleCkge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHNlbGYsIGV4KTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAvLyBAdHMtaWdub3JlXG4gIHZhciBwcm9tID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9tKSk7XG4gIHJldHVybiBwcm9tO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbJ2ZpbmFsbHknXSA9IHByb21pc2VGaW5hbGx5O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFhcnIgfHwgdHlwZW9mIGFyci5sZW5ndGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheScpO1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcbiAgICB2YXIgcmVtYWluaW5nID0gYXJncy5sZW5ndGg7XG5cbiAgICBmdW5jdGlvbiByZXMoaSwgdmFsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodmFsICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwoXG4gICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJnc1tpXSA9IHZhbDtcbiAgICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZShhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcyhpLCBhcmdzW2ldKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlamVjdCh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0udGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBVc2UgcG9seWZpbGwgZm9yIHNldEltbWVkaWF0ZSBmb3IgcGVyZm9ybWFuY2UgZ2FpbnNcblByb21pc2UuX2ltbWVkaWF0ZUZuID1cbiAgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICBmdW5jdGlvbihmbikge1xuICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICB9KSB8fFxuICBmdW5jdGlvbihmbikge1xuICAgIHNldFRpbWVvdXRGdW5jKGZuLCAwKTtcbiAgfTtcblxuUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiBfdW5oYW5kbGVkUmVqZWN0aW9uRm4oZXJyKSB7XG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSkge1xuICAgIGNvbnNvbGUud2FybignUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOicsIGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCJzZWxmLmZldGNofHwoc2VsZi5mZXRjaD1mdW5jdGlvbihlLG4pe3JldHVybiBuPW58fHt9LG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Zvcih2YXIgbyBpbiBzLm9wZW4obi5tZXRob2R8fFwiZ2V0XCIsZSwhMCksbi5oZWFkZXJzKXMuc2V0UmVxdWVzdEhlYWRlcihvLG4uaGVhZGVyc1tvXSk7ZnVuY3Rpb24gdSgpe3ZhciBlLG49W10sdD1bXSxyPXt9O3JldHVybiBzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnJlcGxhY2UoL14oLio/KTpbXlxcU1xcbl0qKFtcXHNcXFNdKj8pJC9nbSxmdW5jdGlvbihzLG8sdSl7bi5wdXNoKG89by50b0xvd2VyQ2FzZSgpKSx0LnB1c2goW28sdV0pLHJbb109KGU9cltvXSk/ZStcIixcIit1OnV9KSx7b2s6Mj09KHMuc3RhdHVzLzEwMHwwKSxzdGF0dXM6cy5zdGF0dXMsc3RhdHVzVGV4dDpzLnN0YXR1c1RleHQsdXJsOnMucmVzcG9uc2VVUkwsY2xvbmU6dSx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShzLnJlc3BvbnNlVGV4dCl9LGpzb246ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHMucmVzcG9uc2VUZXh0KS50aGVuKEpTT04ucGFyc2UpfSxibG9iOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbcy5yZXNwb25zZV0pKX0saGVhZGVyczp7a2V5czpmdW5jdGlvbigpe3JldHVybiBufSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gcltlLnRvTG93ZXJDYXNlKCldfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKWluIHJ9fX19cy53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PW4uY3JlZGVudGlhbHMscy5vbmxvYWQ9ZnVuY3Rpb24oKXt0KHUoKSl9LHMub25lcnJvcj1yLHMuc2VuZChuLmJvZHl8fG51bGwpfSl9KTtcbiIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2ggKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuIiwiLy8gUGxheSBBdWRpbyB3aXRoIE1lZGlhU291cmNlIGV4dGVuc2lvbnMgcmVjZWl2ZWQgb3ZlciBhIHdlYnNvY2tldFxudmFyIE9QVVNfTUlNRV9UWVBFID0gJ2F1ZGlvL3dlYm07IGNvZGVjcz1cIm9wdXNcIic7XG52YXIgTVAzX01JTUVfVFlQRSA9ICdhdWRpby9tcGVnJztcblxuLy8gVGhpcyByZXByZXNlbnRzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgdHlwZXMgYXJlIHRyaWVkXG5jb25zdCBBVURJT19UWVBFUyA9IFtcbiAge1wiaWRcIjogXCJtcDNcIixcbiAgICBcInR5cGVcIjogTVAzX01JTUVfVFlQRX0sXG5cbiAge1wiaWRcIjogXCJvcHVzXCIsXG4gICAgXCJ0eXBlXCI6IE9QVVNfTUlNRV9UWVBFfSxcbl07XG5cbmV4cG9ydCB7Z2V0QmVzdEF1ZGlvVHlwZSwgV1NBdWRpb307XG5cblxuZnVuY3Rpb24gZ2V0QmVzdEF1ZGlvVHlwZSgpIHtcbiAgaWYgKHdpbmRvdy5NZWRpYVNvdXJjZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQVVESU9fVFlQRVMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKEFVRElPX1RZUEVTW2ldLnR5cGUpKSB7XG4gICAgICAgIHJldHVybiBBVURJT19UWVBFU1tpXS5pZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gV1NBdWRpbyAoYnJvd3Nlcl9pbmZvLCBpbml0X3BhcmFtcykge1xuICBpbml0X3BhcmFtcyA9IGluaXRfcGFyYW1zIHx8IHt9O1xuXG4gIHZhciBNQVhfQlVGRkVSUyA9IDI1MDtcbiAgdmFyIE1JTl9TVEFSVF9CVUZGRVJTID0gMTA7XG5cbiAgdmFyIG1pbkxhdGVuY3kgPSAwLjI7IC8vIDIwMG1zXG4gIHZhciBtYXhMYXRlbmN5ID0gMC41ICAvLyA1MDBtc1xuICB0aGlzLmxhdGVuY3lDaGVjayA9IG51bGw7XG5cbiAgdGhpcy53cyA9IG51bGw7XG4gIHRoaXMud3NfdXJsID0gbnVsbDtcblxuICB0aGlzLmVyckNvdW50ID0gMDtcblxuICB0aGlzLmFsbG93QXBwZW5kID0gZmFsc2U7XG5cbiAgdGhpcy5hdWRpbyA9IG51bGw7XG4gIHRoaXMuYXVkaW9fbWltZSA9IG51bGw7XG4gIHRoaXMubWVkaWFzb3VyY2UgPSBudWxsO1xuICB0aGlzLmJ1ZmZlciA9IG51bGw7XG5cbiAgdGhpcy5idWZmUSA9IFtdO1xuICB0aGlzLmJ1ZmZDb3VudCA9IDA7XG4gIHRoaXMuYnVmZlNpemUgPSAwO1xuXG4gIHRoaXMuZ2V0X2F1ZGlvX21pbWUgPSBmdW5jdGlvbihicm93c2VyX2luZm8pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEFVRElPX1RZUEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoQVVESU9fVFlQRVNbaV0uaWQgPT0gYnJvd3Nlcl9pbmZvLmF1ZGlvKSB7XG4gICAgICAgIHJldHVybiBBVURJT19UWVBFU1tpXS50eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gbm90IGluaXRlZCwgdW5rbm93biBhdWRpbyB0eXBlOiBcIiArIGJyb3dzZXJfaW5mby5hdWRpbyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB0aGlzLmdldF93c191cmwgPSBmdW5jdGlvbihicm93c2VyX2luZm8pIHtcbiAgICB2YXIgd3NfdXJsID0gKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PSBcImh0dHBzOlwiID8gXCJ3c3M6XCIgOiBcIndzOlwiKTtcbiAgICB3c191cmwgKz0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuXG4gICAgdmFyIGF1ZGlvX3BvcnQgPSBicm93c2VyX2luZm8uY21kX3BvcnQ7XG5cbiAgICBpZiAoaW5pdF9wYXJhbXMucHJveHlfd3MpIHtcbiAgICAgIHdzX3VybCArPSBcIi9cIiArIGluaXRfcGFyYW1zLnByb3h5X3dzICsgYXVkaW9fcG9ydDtcbiAgICB9IGVsc2Uge1xuICAgICAgd3NfdXJsICs9IFwiOlwiICsgYXVkaW9fcG9ydCArIFwiL2F1ZGlvX3dzXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdzX3VybDtcbiAgfVxuXG5cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmF1ZGlvKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmF1ZGlvX21pbWUgPSB0aGlzLmdldF9hdWRpb19taW1lKGJyb3dzZXJfaW5mbyk7XG4gICAgdGhpcy53c191cmwgPSB0aGlzLmdldF93c191cmwoYnJvd3Nlcl9pbmZvKTtcblxuICAgIGlmICghdGhpcy5hdWRpb19taW1lKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5sYXRlbmN5Q2hlY2sgPSBzZXRJbnRlcnZhbCh0aGlzLmxhdGVuY3lDb250cm9sbGVyLmJpbmQodGhpcyksIDI1MCk7XG5cbiAgICB0aGlzLm1lZGlhc291cmNlID0gbmV3IE1lZGlhU291cmNlKCk7XG4gICAgdGhpcy5tZWRpYXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwic291cmNlb3BlblwiLCB0aGlzLnNvdXJjZU9wZW4uYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLm1lZGlhc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcIk1lZGlhU291cmNlIEVycm9yXCIsIGV2ZW50KTtcbiAgICB9KS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICB0aGlzLmF1ZGlvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tZWRpYXNvdXJjZSk7XG4gICAgdGhpcy5hdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgdGhpcy5hdWRpby5sb2FkKCk7XG4gICAgdGhpcy5hdWRpby5wbGF5KCkuY2F0Y2goZnVuY3Rpb24oKSB7IH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aGlzLnNvdXJjZU9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5tZWRpYXNvdXJjZS5zb3VyY2VCdWZmZXJzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coXCJzb3VyY2UgYWxyZWFkeSBvcGVuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGJ1ZmZlciA9IHRoaXMubWVkaWFzb3VyY2UuYWRkU291cmNlQnVmZmVyKHRoaXMuYXVkaW9fbWltZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJPcGVuaW5nIFNvdXJjZSBFcnJvcjogXCIgKyBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBidWZmZXIubW9kZSA9IFwic2VxdWVuY2VcIjtcbiAgICAvL2J1ZmZlci50aW1lc3RhbXBPZmZzZXQgPSAwO1xuXG4gICAgYnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcImJ1ZmZlciBlcnJvcjogXCIgKyAodGhpcy5idWZmQ291bnQpLCBldmVudCk7XG4gICAgfSkuYmluZCh0aGlzKSk7XG5cbiAgICBidWZmZXIuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWVuZFwiLCB0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG5cbiAgICB0aGlzLmFsbG93QXBwZW5kID0gdHJ1ZTtcblxuICAgIHRoaXMuaW5pdFdzKCk7XG4gIH07XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBBdWRpb1wiKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMubGF0ZW5jeUNoZWNrKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5sYXRlbmN5Q2hlY2spO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZWRpYXNvdXJjZSkge1xuICAgICAgICB0aGlzLm1lZGlhc291cmNlLnJlbW92ZVNvdXJjZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhc291cmNlLnJlYWR5U3RhdGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICB0aGlzLm1lZGlhc291cmNlLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coXCJFcnJvciBDbG9zaW5nOiBcIiArIGUpO1xuICAgIH1cbiAgICB0aGlzLm1lZGlhc291cmNlID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5hdWRpbykge1xuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmF1ZGlvID0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yIENsb3Npbmc6IFwiICsgZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMud3MpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyB3ZWJzb2NrZXRcIik7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICB9IGNhdGNoKGUpIHt9XG5cbiAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubWVyZ2VCdWZmZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1lcmdlZDtcblxuICAgIGlmICh0aGlzLmJ1ZmZRLmxlbmd0aCA9PSAxKSB7XG4gICAgICBtZXJnZWQgPSB0aGlzLmJ1ZmZRWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZTaXplKTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuYnVmZlEubGVuZ3RoO1xuICAgICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnIgPSB0aGlzLmJ1ZmZRW2ldO1xuICAgICAgICBpZiAoY3Vyci5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlZC5zZXQoY3Vyciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGN1cnIubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYnVmZlEgPSBbXTtcbiAgICB0aGlzLmJ1ZmZDb3VudCsrO1xuICAgIHJldHVybiBtZXJnZWQ7XG4gIH1cblxuICB0aGlzLm9uVXBkYXRlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hbGxvd0FwcGVuZCA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVOZXh0KCk7XG4gIH1cblxuICB0aGlzLnVwZGF0ZU5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuYnVmZlEubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBtZXJnZWQgPSB0aGlzLm1lcmdlQnVmZmVycygpO1xuICAgICAgdGhpcy5idWZmZXIuYXBwZW5kQnVmZmVyKG1lcmdlZCk7XG4gICAgICB0aGlzLmFsbG93QXBwZW5kID0gZmFsc2U7XG4gICAgICB0aGlzLmJ1ZmZTaXplIC09IG1lcmdlZC5sZW5ndGg7XG4gICAgICB0aGlzLmVyckNvdW50ID0gMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmF1ZGlvRXJyb3IoXCJFcnJvciBBZGRpbmcgQnVmZmVyOiBcIiArIGUpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubGF0ZW5jeUNvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBjaGVjayBmb3IgbGF0ZW5jeSBhbmQgc2VlayBmb3J3YXJkIGlmIG5lY2Vzc2FyeVxuICAgIHRyeSB7XG4gICAgICB2YXIgbGF0ZW5jeSA9IHRoaXMuYXVkaW8uYnVmZmVyZWQuZW5kKDApIC0gdGhpcy5hdWRpby5jdXJyZW50VGltZTtcbiAgICAgIGlmIChsYXRlbmN5ID4gbWF4TGF0ZW5jeSkge1xuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy5hdWRpby5idWZmZXJlZC5lbmQoMCkgLSBtaW5MYXRlbmN5O1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGhhcyBiZWVuIHNlZWtlZCBieSBcIiwgTWF0aC5yb3VuZCgobGF0ZW5jeSAtIG1pbkxhdGVuY3kpICogMTAwMCksIFwiIG1zXCIpO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaChlKSB7XG5cbiAgICB9XG4gIH1cblxuICB0aGlzLmF1ZGlvRXJyb3IgPSBmdW5jdGlvbihtc2csIGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuYXVkaW8gJiYgdGhpcy5hdWRpby5lcnJvcikge1xuICAgICAgY29uc29sZS5sb2cobXNnKTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXVkaW8uZXJyb3IpO1xuICAgICAgLy9jb25zb2xlLmxvZyhcIm51bSBwcm9jZXNzZWQ6IFwiICsgdGhpcy5idWZmQ291bnQpO1xuICAgICAgdGhpcy5lcnJDb3VudCArPSAxO1xuICAgICAgLy9pZiAodGhpcy5lcnJDb3VudCA9PSAxKSB7XG4gICAgICAvLyAgICBzZXRUaW1lb3V0KHJlc3RhcnRBdWRpbywgMzAwMCk7XG4gICAgICAvL31cbiAgICB9XG4gIH1cblxuICB0aGlzLnF1ZXVlID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgLypcbiAgICBpZiAodGhpcy5idWZmU2l6ZSA+IDIwMDAwMCkge1xuICAgICAgICBpZiAodGhpcy5idWZmQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5idWZmUS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5idWZmU2l6ZSAtPSByZXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkcm9wcGluZyBvbGQgYnVmZmVyc1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGRyb3AgdGhlIHN0YXJ0aW5nIGJ1ZmZlcnNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZHJvcHBpbmcgbmV3IGJ1ZmZlcnNcIik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqL1xuXG4gICAgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICB0aGlzLmJ1ZmZRLnB1c2goYnVmZmVyKTtcbiAgICB0aGlzLmJ1ZmZTaXplICs9IGJ1ZmZlci5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy5hbGxvd0FwcGVuZCkge1xuICAgICAgdGhpcy51cGRhdGVOZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5pbml0V3MgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy53c191cmwsIFwiYmluYXJ5XCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuYXVkaW9FcnJvcihcIldTIE9wZW4gRmFpbGVkXCIpO1xuICAgIH1cblxuICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgdGhpcy53cy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCB3c19vcGVuLmJpbmQodGhpcykpO1xuICAgIHRoaXMud3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIHdzX2Nsb3NlLmJpbmQodGhpcykpO1xuICAgIHRoaXMud3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgd3NfbWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLndzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgd3NfZXJyb3IuYmluZCh0aGlzKSk7XG4gIH1cblxuICB2YXIgd3Nfb3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy90aGlzLnNlbmQoXCJyZWFkeVwiKTtcbiAgfVxuXG4gIHZhciB3c19tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5lcnJDb3VudCA9PSAwKSB7XG4gICAgICB0aGlzLnF1ZXVlKGV2ZW50LmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB3c19lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYXVkaW9FcnJvcihcIldTIEVycm9yXCIpO1xuICB9XG5cbiAgdmFyIHdzX2Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hdWRpb0Vycm9yKFwiV1MgQ2xvc2VcIik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcblxuICAvL3JldHVybiB7XCJzdGFydFwiOiBzdGFydCxcbiAgLy8gICAgICAgIFwic3RvcFwiOiBzdG9wLFxuICAvLyAgICAgICAgXCJyZXN0YXJ0XCI6IHJlc3RhcnRBdWRpbyxcbiAgLy8gICAgICAgIFwiZ2V0QXVkaW9cIjogZnVuY3Rpb24gKCkge3JldHVybiAgYXVkaW9XUy5hdWRpbzt9LFxuICAvL31cbn07XG5cblxuXG5cbiIsImV4cG9ydCB7V2ViUlRDQXVkaW99O1xuXG5cbmZ1bmN0aW9uIFdlYlJUQ0F1ZGlvKHBlZXJfaWQsIGRhdGEpIHtcblxuICBsZXQgZGVidWcgPSB0cnVlO1xuICBsZXQgYXVkaW8gPSBudWxsO1xuICBsZXQgY29ubmVjdF9hdHRlbXB0cyA9IDA7XG4gIGxldCBwZWVyX2Nvbm5lY3Rpb247XG4gIGxldCB3c19jb25uO1xuXG4gIHRoaXMuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYXVkaW8pIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiYWxyZWFkeSBzdGFydGVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgIGF1ZGlvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICBhdWRpby5wbGF5KCkuY2F0Y2goc2V0RXJyb3IpO1xuICAgIGNvbm5lY3RUb1NpZ25hbGluZ1NlcnZlcigpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbm5lY3RUb1NpZ25hbGluZ1NlcnZlcigpIHtcbiAgICBjb25uZWN0X2F0dGVtcHRzKys7XG4gICAgaWYgKGNvbm5lY3RfYXR0ZW1wdHMgPiAxMDApIHtcbiAgICAgIHNldEVycm9yKFwiVG9vIG1hbnkgY29ubmVjdGlvbiBhdHRlbXB0cywgYWJvcnRpbmcuIFJlZnJlc2ggcGFnZSB0byB0cnkgYWdhaW5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggdGhlIHBlZXIgaWQgdG8gdXNlXG4gICAgbGV0IHBlZXJfaWQgPSBnZXRQZWVySWQoKTtcbiAgICBsZXQgd3NfdXJsID0gZ2V0U2lnbmFsbGluZ1NlcnZlcigpO1xuICAgIHNldFN0YXR1cyhcIkNvbm5lY3RpbmcgdG8gc2VydmVyIFwiICsgd3NfdXJsICsgXCIsIGF0dGVtcHQ9IFwiICsgY29ubmVjdF9hdHRlbXB0cyk7XG4gICAgd3NfY29ubiA9IG5ldyBXZWJTb2NrZXQod3NfdXJsKTtcbiAgICAvKiBXaGVuIGNvbm5lY3RlZCwgaW1tZWRpYXRlbHkgcmVnaXN0ZXIgd2l0aCB0aGUgc2VydmVyICovXG4gICAgd3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgd3NfY29ubi5zZW5kKCdIRUxMTyAnICsgcGVlcl9pZCk7XG4gICAgICBzZXRTdGF0dXMoXCJSZWdpc3RlcmluZyB3aXRoIHNlcnZlciwgcGVlci1pZCA9IFwiICsgcGVlcl9pZCk7XG4gICAgfSk7XG5cbiAgICB3c19jb25uLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25TZXJ2ZXJFcnJvcik7XG4gICAgd3NfY29ubi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25TZXJ2ZXJNZXNzYWdlKTtcbiAgICB3c19jb25uLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25TZXJ2ZXJDbG9zZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQZWVySWQoKSB7XG4gICAgcmV0dXJuIHBlZXJfaWQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaWduYWxsaW5nU2VydmVyKCkge1xuICAgIGxldCB3c191cmwgPSAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSBcImh0dHBzOlwiID8gXCJ3c3M6Ly9cIiA6IFwid3M6Ly9cIik7XG4gICAgd3NfdXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArIFwiOlwiICsgZGF0YS5jbWRfcG9ydDtcbiAgICByZXR1cm4gd3NfdXJsXG4gIH1cblxuICBmdW5jdGlvbiBvblNlcnZlckVycm9yKCkge1xuICAgIHNldEVycm9yKFwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gc2VydmVyLCBkaWQgeW91IGFkZCBhbiBleGNlcHRpb24gZm9yIHRoZSBjZXJ0aWZpY2F0ZT9cIik7XG4gICAgLy8gUmV0cnkgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgd2luZG93LnNldFRpbWVvdXQoY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyLCAzMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUluY29taW5nRXJyb3IobWVzc2FnZSkge1xuICAgIGNvbnNvbGUubG9nKFwiaGFuZGxlSW5jb21pbmdFcnJvclwiICsgbWVzc2FnZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblNlcnZlck1lc3NhZ2UoZXZlbnQpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgZnJvbSB3ZWJzb2NrZXQgXCIgKyBldmVudC5kYXRhKTtcbiAgICB9XG4gICAgbGV0IG1zZztcbiAgICBzd2l0Y2ggKGV2ZW50LmRhdGEpIHtcbiAgICAgIGNhc2UgXCJIRUxMT1wiOlxuICAgICAgICBzZXRTdGF0dXMoXCJSZWdpc3RlcmVkIHdpdGggc2VydmVyLCB3YWl0aW5nIGZvciBjYWxsXCIpO1xuICAgICAgICB3c19jb25uLnNlbmQoJ1BPUlQgJyArIGRhdGEuaWNlX3RjcF9wb3J0ICsgJyAnICsgZGF0YS5pY2VfdWRwX3BvcnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5zdGFydHNXaXRoKFwiRVJST1JcIikpIHtcbiAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgaW5jb21pbmcgSlNPTiBTRFAgYW5kIElDRSBtZXNzYWdlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1zZyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyBpbmNvbWluZyBKU09OOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVJbmNvbWluZ0Vycm9yKFwiVW5rbm93biBlcnJvciBwYXJzaW5nIHJlc3BvbnNlOiBcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmNvbWluZyBKU09OIHNpZ25hbHMgdGhlIGJlZ2lubmluZyBvZiBhIGNhbGxcbiAgICAgICAgaWYgKCFwZWVyX2Nvbm5lY3Rpb24pXG4gICAgICAgICAgY3JlYXRlQ2FsbChtc2cpO1xuXG4gICAgICAgIGlmIChtc2cuc2RwICE9IG51bGwpIHtcbiAgICAgICAgICBvbkluY29taW5nU0RQKG1zZy5zZHApO1xuICAgICAgICB9IGVsc2UgaWYgKG1zZy5pY2UgIT0gbnVsbCkge1xuICAgICAgICAgIG9uSW5jb21pbmdJQ0UobXNnLmljZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlSW5jb21pbmdFcnJvcihcIlVua25vd24gaW5jb21pbmcgSlNPTjogXCIgKyBtc2cpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSUNFIGNhbmRpZGF0ZSByZWNlaXZlZCBmcm9tIHBlZXIsIGFkZCBpdCB0byB0aGUgcGVlciBjb25uZWN0aW9uXG4gIGZ1bmN0aW9uIG9uSW5jb21pbmdJQ0UoaWNlKSB7XG4gICAgbGV0IGNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoaWNlKTtcbiAgICBwZWVyX2Nvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goc2V0RXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TZXJ2ZXJDbG9zZShldmVudCkge1xuICAgIHNldFN0YXR1cygnRGlzY29ubmVjdGVkIGZyb20gc2VydmVyIHdpdGggY29kZT0nICsgZXZlbnQuY29kZSArICcgcmVhc29uPScgKyBldmVudC5yZWFzb24pO1xuICAgIHJlc2V0QXVkaW8oKTtcbiAgICBkaXNjb25uZWN0V2Vic29ja2V0KCk7XG5cbiAgICBpZiAoZXZlbnQuY29kZSAhPT0gMTAwMikge1xuICAgICAgLy8gUmVzZXQgYWZ0ZXIgYSBzZWNvbmRcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNvbm5lY3RUb1NpZ25hbGluZ1NlcnZlciwgMjAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjb25uZWN0X2F0dGVtcHRzIDwgNSkge1xuICAgICAgICAvLyBSZXRyaWV2ZSB0byBjb25uZWN0IHVwIHRvIDUgdGltZXMgKHBlZXItaWQgbWlnaHQgYmUgaW4gY29uZmxpY3QgaWYgaW5pdF9icm93c2VyIGlzIGNhbGxlZCBhZ2FpbilcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY29ubmVjdFRvU2lnbmFsaW5nU2VydmVyLCAyMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldlYlJUQy1zdGF0dXM6XCIgKyBzdGF0dXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEVycm9yKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJXZWJSVEMtZXJyb3I6IFwiICsgZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25JbmNvbWluZ1NEUChzZHApIHtcbiAgICBwZWVyX2Nvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oc2RwKS50aGVuKCgpID0+IHtcbiAgICAgIHNldFN0YXR1cyhcIlJlbW90ZSBTRFAgc2V0XCIpO1xuICAgICAgaWYgKHNkcC50eXBlICE9PSBcIm9mZmVyXCIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHNldFN0YXR1cyhcIkdvdCBTRFAgb2ZmZXJcIik7XG4gICAgICBwZWVyX2Nvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKClcbiAgICAgICAgLnRoZW4ob25Mb2NhbERlc2NyaXB0aW9uKS5jYXRjaChzZXRFcnJvcik7XG4gICAgfSkuY2F0Y2goc2V0RXJyb3IpO1xuICB9XG5cbiAgLy8gTG9jYWwgZGVzY3JpcHRpb24gd2FzIHNldCwgc2VuZCBpdCB0byBwZWVyXG4gIGZ1bmN0aW9uIG9uTG9jYWxEZXNjcmlwdGlvbihkZXNjKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkdvdCBsb2NhbCBkZXNjcmlwdGlvbjogXCIgKyBKU09OLnN0cmluZ2lmeShkZXNjKSk7XG4gICAgfVxuICAgIHBlZXJfY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBzZXRTdGF0dXMoXCJTZW5kaW5nIFNEUCBhbnN3ZXJcIik7XG4gICAgICBsZXQgc2RwID0gSlNPTi5zdHJpbmdpZnkoeydzZHAnOiBwZWVyX2Nvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbn0pO1xuICAgICAgd3NfY29ubi5zZW5kKHNkcCk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHJlc2V0QXVkaW8oKSB7XG4gICAgLy8gUmVzZXQgdGhlIGF1ZGlvIGVsZW1lbnQgYW5kIHN0b3Agc2hvd2luZyB0aGUgbGFzdCByZWNlaXZlZCBmcmFtZVxuICAgIHRyeSB7XG4gICAgICBhdWRpby5wYXVzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzZXRBdWRpbyBlcnJvciBcIiArIGUpO1xuICAgIH1cblxuICB9XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xvc2luZyBXZWJSVEMgYXVkaW8gY29ubmVjdGlvblwiKTtcbiAgICBkaXNjb25uZWN0V2Vic29ja2V0KCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGlzY29ubmVjdFdlYnNvY2tldCgpIHtcbiAgICBpZiAod3NfY29ubikge1xuICAgICAgY29uc29sZS5sb2coXCJkaXNjb25uZWN0IHdlYnNvY2tldFwiKTtcbiAgICAgIHdzX2Nvbm4uY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpZiAocGVlcl9jb25uZWN0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImRpc2Nvbm5lY3QgcGVlclwiKTtcbiAgICAgIHBlZXJfY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgcGVlcl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDYWxsKG1zZykge1xuICAgIC8vIFJlc2V0IGNvbm5lY3Rpb24gYXR0ZW1wdHMgYmVjYXVzZSB3ZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5XG4gICAgY29ubmVjdF9hdHRlbXB0cyA9IDA7XG5cbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgUlRDUGVlckNvbm5lY3Rpb24nKTtcblxuXG4gICAgcGVlcl9jb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGdldFJ0Y1BlZXJDb25maWd1cmF0aW9uKCkpO1xuICAgIHBlZXJfY29ubmVjdGlvbi5vbnRyYWNrID0gb25SZW1vdGVUcmFja0FkZGVkO1xuXG4gICAgLyogU2VuZCBvdXIgdmlkZW8vYXVkaW8gdG8gdGhlIG90aGVyIHBlZXIgKi9cbiAgICBpZiAoIW1zZy5zZHApIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV0FSTklORzogRmlyc3QgbWVzc2FnZSB3YXNuJ3QgYW4gU0RQIG1lc3NhZ2UhP1wiKTtcbiAgICB9XG5cbiAgICBwZWVyX2Nvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIFdlIGhhdmUgYSBjYW5kaWRhdGUsIHNlbmQgaXQgdG8gdGhlIHJlbW90ZSBwYXJ0eSB3aXRoIHRoZVxuICAgICAgLy8gc2FtZSB1dWlkXG4gICAgICBpZiAoZXZlbnQuY2FuZGlkYXRlID09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJQ0UgQ2FuZGlkYXRlIHdhcyBudWxsLCBkb25lXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcInNlbmQgY2FuZGlkYXRlIHJlbW90ZWx5XCIgKyBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlKTtcblxuICAgICAgd3NfY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHsnaWNlJzogZXZlbnQuY2FuZGlkYXRlfSkpO1xuICAgIH07XG5cbiAgICBzZXRTdGF0dXMoXCJDcmVhdGVkIHBlZXIgY29ubmVjdGlvbiBmb3IgY2FsbCwgd2FpdGluZyBmb3IgU0RQXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZW1vdGVUcmFja0FkZGVkKGV2ZW50KSB7XG4gICAgYXVkaW8uc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJ0Y1BlZXJDb25maWd1cmF0aW9uKCkge1xuICAgIGxldCBpY2VTZXJ2ZXJzID0gW107XG4gICAgaWYgKGRhdGFbXCJ3ZWJydGNfdHVybl9zZXJ2ZXJcIl0pIHtcbiAgICAgIGxldCBzZXJ2ZXIgPSBkYXRhW1wid2VicnRjX3R1cm5fc2VydmVyXCJdO1xuICAgICAgbGV0IGNyZWRlbnRpYWxzID0gZGF0YVtcIndlYnJ0Y190dXJuX2NyZWRlbnRpYWxzXCJdO1xuXG4gICAgICBpY2VTZXJ2ZXJzLnB1c2goe1xuICAgICAgICBcInVybHNcIjogc2VydmVyLFxuICAgICAgICBcImNyZWRlbnRpYWxcIjogY3JlZGVudGlhbHNbXCJwYXNzd29yZFwiXSxcbiAgICAgICAgXCJ1c2VybmFtZVwiOiBjcmVkZW50aWFsc1tcInVzZXJuYW1lXCJdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJ3ZWJydGNfc3R1bl9zZXJ2ZXJcIl0pIHtcbiAgICAgIGxldCBzZXJ2ZXIgPSBkYXRhW1wid2VicnRjX3N0dW5fc2VydmVyXCJdO1xuICAgICAgaWNlU2VydmVycy5wdXNoKHtcInVybHNcIjogc2VydmVyfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiaWNlc2VydmVycyA9ICVPXCIsIGljZVNlcnZlcnMpO1xuXG5cbiAgICByZXR1cm4ge1wiaWNlU2VydmVyc1wiOiBpY2VTZXJ2ZXJzfTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5cblxuXG4iLCJpbXBvcnQgJ3VuZmV0Y2gvcG9seWZpbGwvaW5kZXgnO1xuaW1wb3J0IFJGQiBmcm9tICdAbm92bmMvbm92bmMvY29yZS9yZmInO1xuaW1wb3J0IFByb21pc2UgZnJvbSAncHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgeyBXU0F1ZGlvLCBnZXRCZXN0QXVkaW9UeXBlIH0gZnJvbSAnLi9hdWRpby1tZWRpYXNvdXJjZSc7XG5pbXBvcnQgeyBXZWJSVENBdWRpbyB9IGZyb20gJy4vYXVkaW8td2VicnRjJ1xuXG5cbmZ1bmN0aW9uIHRvUXVlcnlTdHJpbmcob2JqKSB7XG4gIHZhciBwYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIHBhcnRzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFydHMuam9pbignJicpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENCcm93c2VyKHJlcWlkLCB0YXJnZXRfZGl2LCBpbml0X3BhcmFtcykge1xuICB2YXIgY29udHJvbGxlciA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnID8gbmV3IEFib3J0Q29udHJvbGxlcigpIDogbnVsbDtcblxuICB2YXIgY21kX3BvcnQgPSB1bmRlZmluZWQ7XG4gIHZhciB2bmNfcG9ydCA9IHVuZGVmaW5lZDtcblxuICB2YXIgY2xpcEV2ZW50cyA9IFsncGFzdGUnXTtcbiAgdmFyIGNvbm5lY3RlZCA9IGZhbHNlO1xuICB2YXIgY291bnRkb3duVGltZXIgPSBudWxsO1xuICB2YXIgdmlzaWJpbGl0eUhhbmRsZSA9IG51bGw7XG4gIHZhciBldmVyX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICB2YXIgZmFpbF9jb3VudCA9IDA7XG4gIHZhciBoYXNDbGlwYm9hcmQgPSBmYWxzZTtcbiAgdmFyIGxhc3RUZXh0ID0gdW5kZWZpbmVkO1xuICB2YXIgbWF4UmV0cnkgPSAxMDtcbiAgdmFyIHJldHJ5Q291bnQgPSAwO1xuICB2YXIgcmV0cnlIYW5kbGUgPSBudWxsO1xuICB2YXIgc3RhZ2VkVGV4dCA9IG51bGw7XG4gIHZhciB0aW1lcnMgPSBbXVxuXG4gIHZhciBtaW5fd2lkdGggPSAzMDA7XG4gIHZhciBtaW5faGVpZ2h0ID0gMzAwO1xuXG4gIHZhciByZmI7XG4gIHZhciByZXNpemVUaW1lb3V0O1xuICB2YXIgdm5jX3Bhc3MgPSBcInNlY3JldFwiO1xuXG4gIHZhciBlbmRfdGltZSA9IHVuZGVmaW5lZDtcblxuICB2YXIgdGFyZ2V0RGl2Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0X2Rpdik7XG5cbiAgdmFyIHdhaXRpbmdfZm9yX2NvbnRhaW5lciA9IGZhbHNlO1xuICB2YXIgd2FpdGluZ19mb3Jfdm5jID0gZmFsc2U7XG5cbiAgaW5pdF9wYXJhbXMgPSBpbml0X3BhcmFtcyB8fCB7fTtcblxuICBpbml0X3BhcmFtcy5hcGlfcHJlZml4ID0gaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCB8fCBcIlwiO1xuXG4gIHZhciBudW1fdm5jX3JldHJpZXMgPSBpbml0X3BhcmFtcy5udW1fdm5jX3JldHJpZXMgfHwgMztcblxuICB2YXIgcmVxX3BhcmFtcyA9IHt9O1xuXG4gIC8vIHJmYiBldmVudCBjYWxsYmFja3NcbiAgdmFyIGNyZWRlbnRpYWxzUmVxdWlyZWQ7XG4gIHZhciBjb25uZWN0O1xuICB2YXIgZGlzY29ubmVjdDtcbiAgdmFyIHNlY3VyaXR5RmFpbHVyZTtcbiAgdmFyIGNsaXBib2FyZFxuICB2YXIgcmZiRXZlbnRzQm91bmQgPSBmYWxzZTtcblxuXG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIC8vIENvdW50ZG93biB1cGRhdGVyXG4gICAgaWYgKGluaXRfcGFyYW1zLm9uX2NvdW50ZG93bikge1xuICAgICAgY291bnRkb3duVGltZXIgPSBzZXRJbnRlcnZhbCh1cGRhdGVfY291bnRkb3duLCAxMDAwKTtcbiAgICB9XG5cbiAgICBpbml0X2h0bWwodGFyZ2V0X2Rpdik7XG5cbiAgICBzZXR1cF9icm93c2VyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGlwSGFuZGxlcihlKSB7XG4gICAgaWYgKCFoYXNDbGlwYm9hcmQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dDtcbiAgICBpZiAod2luZG93LmNsaXBib2FyZERhdGEgJiYgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSkgeyAvLyBpZVxuICAgICAgdGV4dCA9IHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICB9IGVsc2UgaWYgKGUuY2xpcGJvYXJkRGF0YSAmJiBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSkge1xuICAgICAgdGV4dCA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3RlZCAmJiByZmIgJiYgdGV4dCkge1xuICAgICAgcmZiLmNsaXBib2FyZFBhc3RlRnJvbSh0ZXh0KTtcblxuICAgICAgLy8gYXR0ZW1wdCBzZW5kaW5nIHBhc3RlIGNvbW1hbmRcbiAgICAgIHJmYi5zZW5kS2V5KDB4ZmZlMywgbnVsbCwgdHJ1ZSk7XG4gICAgICByZmIuc2VuZEtleSgweDAwNzYsIG51bGwsIHRydWUpO1xuICAgICAgcmZiLnNlbmRLZXkoMHgwMDc2LCBudWxsLCBmYWxzZSk7XG4gICAgICByZmIuc2VuZEtleSgweGZmZTMsIG51bGwsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0X2NsaXBib2FyZCgpIHtcbiAgICBpZiAoIWluaXRfcGFyYW1zLmNsaXBib2FyZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhc0NsaXBib2FyZCA9IHRydWU7XG4gICAgbGFzdFRleHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBpZiByZW1vdGUgYnJvd3NlciBjdXQvY29weSBvcHBlcmF0aW9uIG9jY3VyZWQsIGluc2VydCBpbnRvIGNsaXBib2FyZCBmaWVsZFxuICAgIGlmIChzdGFnZWRUZXh0KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5pdF9wYXJhbXMuY2xpcGJvYXJkKS52YWx1ZSA9IHN0YWdlZFRleHQ7XG4gICAgICAgIHN0YWdlZFRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcEV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpbml0X3BhcmFtcy5jbGlwYm9hcmQpLmFkZEV2ZW50TGlzdGVuZXIoY2xpcEV2ZW50c1tpXSwgY2xpcEhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lfY2xpcGJvYXJkKCkge1xuICAgIGlmICghaW5pdF9wYXJhbXMuY2xpcGJvYXJkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzQ2xpcGJvYXJkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjYW52YXMoKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICB9XG5cbiAgZnVuY3Rpb24gbXNnZGl2KCkge1xuICAgIHJldHVybiB0YXJnZXREaXZOb2RlLnF1ZXJ5U2VsZWN0b3IoJyNicm93c2VyTXNnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRhcmdldERpdk5vZGUucXVlcnlTZWxlY3RvcignI25vVk5DX3NjcmVlbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdF9odG1sKCkge1xuICAgIC8vIGVuc3VyZSBjb250YWluZXIgaXMgZW1wdGllZCBvZiBwcmV2aW91cyBicm93c2Vyc1xuICAgIHRhcmdldERpdk5vZGUuaW5uZXJIVE1MID0gJyc7XG5cbiAgICB2YXIgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnaWQnLCAnYnJvd3Nlck1zZycpO1xuICAgIG1zZ0Rpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xvYWRpbmcnKTtcbiAgICB0YXJnZXREaXZOb2RlLmFwcGVuZENoaWxkKG1zZ0Rpdik7XG5cbiAgICB2YXIgY2FudmFzRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FudmFzRWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2FudmFzJyk7XG4gICAgdmFyIGNhbnZhc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhbnZhc0Rpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25vVk5DX3NjcmVlbicpO1xuICAgIGNhbnZhc0Rpdi5hcHBlbmRDaGlsZChjYW52YXNFbGUpO1xuICAgIHRhcmdldERpdk5vZGUuYXBwZW5kQ2hpbGQoY2FudmFzRGl2KTtcblxuICAgIGNhbnZhc0VsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBfYnJvd3NlcigpIHtcbiAgICBpZiAod2FpdGluZ19mb3Jfdm5jIHx8IHdhaXRpbmdfZm9yX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtc2c7XG5cbiAgICBpZiAoZXZlcl9jb25uZWN0ZWQpIHtcbiAgICAgIG1zZyA9IFwiUmVjb25uZWN0aW5nIHRvIFJlbW90ZSBCcm93c2VyLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zZyA9IFwiSW5pdGlhbGl6aW5nIFJlbW90ZSBCcm93c2VyLi4uXCI7XG4gICAgfVxuXG4gICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gbXNnO1xuICAgIG1zZ2RpdigpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgLy8gY2FsY3VsYXRlIGRpbWVuc2lvbnNcbiAgICBjb25zdCBiY3IgPSB0YXJnZXREaXZOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCB3ID0gYmNyLndpZHRoO1xuICAgIGxldCBoID0gYmNyLmhlaWdodDtcblxuICAgIGlmICghaW5pdF9wYXJhbXMuZmlsbF93aW5kb3cpIHtcbiAgICAgIHcgKj0gMC45NjtcbiAgICAgIGggLT0gMjU7XG4gICAgfVxuXG4gICAgaWYgKHcgPCBoKSB7XG4gICAgICAvLyBmbGlwIG1pbnMgZm9yIHZlcnRpY2FsIGxheW91dFxuICAgICAgdmFyIHQgPSBtaW5fd2lkdGg7XG4gICAgICBtaW5fd2lkdGggPSBtaW5faGVpZ2h0O1xuICAgICAgbWluX2hlaWdodCA9IHQ7XG4gICAgfVxuXG4gICAgcmVxX3BhcmFtc1snd2lkdGgnXSA9IE1hdGgubWF4KHcsIG1pbl93aWR0aCk7XG4gICAgcmVxX3BhcmFtc1snaGVpZ2h0J10gPSBNYXRoLm1heChoLCBtaW5faGVpZ2h0KTtcbiAgICByZXFfcGFyYW1zWyd3aWR0aCddID0gcGFyc2VJbnQocmVxX3BhcmFtc1snd2lkdGgnXSAvIDgpICogODtcbiAgICByZXFfcGFyYW1zWydoZWlnaHQnXSA9IHBhcnNlSW50KHJlcV9wYXJhbXNbJ2hlaWdodCddIC8gOCkgKiA4O1xuXG4gICAgcmVxX3BhcmFtc1sncmVxaWQnXSA9IHJlcWlkO1xuXG4gICAgcmVxX3BhcmFtc1tcImF1ZGlvXCJdID0gZ2V0QmVzdEF1ZGlvVHlwZSgpO1xuXG4gICAgaWYgKCFyZXFfcGFyYW1zW1wiYXVkaW9cIl0pIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gU3VwcG9ydGVkIEF1ZGlvIFR5cGVzXCIpO1xuICAgIH1cblxuICAgIGluaXRfYnJvd3NlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdF9icm93c2VyKCkge1xuICAgIGlmICh3YWl0aW5nX2Zvcl9jb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSB0cnVlO1xuXG4gICAgdmFyIGluaXRfdXJsID0gaW5pdF9wYXJhbXMuYXBpX3ByZWZpeCArIFwiL2luaXRfYnJvd3Nlcj9cIiArIHRvUXVlcnlTdHJpbmcocmVxX3BhcmFtcyk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHsgaGVhZGVyczogbmV3IEhlYWRlcnMoaW5pdF9wYXJhbXMuaGVhZGVycyB8fCB7fSkgfTtcblxuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICBvcHRpb25zLnNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuICAgIH1cblxuICAgIC8vIGV4cGVjdHMganNvbiByZXNwb25zZVxuICAgIGZldGNoKGluaXRfdXJsLCBvcHRpb25zKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuc3RhdHVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHdhaXRpbmdfZm9yX2NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICBoYW5kbGVfYnJvd3Nlcl9yZXNwb25zZShkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZmV0Y2ggZXJyb3InLCBlcnIpO1xuICAgICAgICB3YWl0aW5nX2Zvcl9jb250YWluZXIgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2VyIGNhbmNlbGVkXG4gICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnIgfHwgZXJyLm1lc3NhZ2UgIT0gNDA0KSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gJ1JlY29ubmVjdGluZyB0byBSZW1vdGUgQnJvd3Nlci4uLic7XG4gICAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICBpZihyZXRyeUNvdW50KysgPCBtYXhSZXRyeSkge1xuICAgICAgICAgICAgdGltZXJzLnB1c2goc2V0VGltZW91dChpbml0X2Jyb3dzZXIsIDEwMDApKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgICBpbml0X3BhcmFtcy5vbl9ldmVudCgnZXhwaXJlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gJ1JlbW90ZSBCcm93c2VyIEV4cGlyZWQuLi4gUGxlYXNlIHRyeSBhZ2Fpbi4uLic7XG4gICAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlX2Jyb3dzZXJfcmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciBxaWQgPSBkYXRhLmlkO1xuXG4gICAgaWYgKGRhdGEuY21kX3BvcnQgJiYgZGF0YS52bmNfcG9ydCkge1xuICAgICAgY21kX3BvcnQgPSBkYXRhLmNtZF9wb3J0O1xuICAgICAgdm5jX3BvcnQgPSBkYXRhLnZuY19wb3J0O1xuXG4gICAgICBlbmRfdGltZSA9IHBhcnNlSW50KERhdGUubm93KCkgLyAxMDAwLCAxMCkgKyBkYXRhLnR0bDtcblxuICAgICAgdm5jX3Bhc3MgPSBkYXRhLnZuY19wYXNzO1xuXG4gICAgICBpZiAoaW5pdF9wYXJhbXMuYXVkaW8pIHtcbiAgICAgICAgLy8gc2V0dXBfYnJvd3NlciBjYW4gYmUgY2FsbGVkIG1hbnkgdGltZXMgKHNwZWNpYWxseSB3aGVuIG5vVm5jIHRocm93biBhbiBleGNlcHRpb24pLCB3ZSBzdG9wIHNvdW5kIGJlZm9yZSBpbml0IGFnYWluXG4gICAgICAgIGlmICh3aW5kb3cuYXVkaW9QbHVnaW4gJiYgd2luZG93LmF1ZGlvUGx1Z2luLmhhc093blByb3BlcnR5KFwiY2xvc2VcIikpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luLmNsb3NlKCk7XG4gICAgICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbCBkdXJpbmcgd2luZG93LmF1ZGlvLmNsb3NlKClcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmF1ZGlvKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJ3ZWJydGNcIikpIHsgICAgICAgICAvLyBAdG9kbyBDSEFOR0UgTUUgcXVpY2smZGlydHkgaGFja1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3ZWJSVEM6IGluaXQgcGx1Z2luXCIpO1xuICAgICAgICAgICAgdmFyIHdlYnJ0Y19kYXRhID0ge307XG4gICAgICAgICAgICAvL3dlYnJ0Y19kYXRhLndlYnJ0Y19zdHVuX3NlcnZlciA9IFwic3R1bjpzdHVuLmwuZ29vZ2xlLmNvbToxOTMwMlwiO1xuICAgICAgICAgICAgd2VicnRjX2RhdGEuY21kX3BvcnQgPSBjbWRfcG9ydDtcbiAgICAgICAgICAgIHdlYnJ0Y19kYXRhLmljZV90Y3BfcG9ydCA9IGRhdGEuaWNlX3RjcF9wb3J0O1xuICAgICAgICAgICAgd2VicnRjX2RhdGEuaWNlX3VkcF9wb3J0ID0gZGF0YS5pY2VfdWRwX3BvcnQ7XG5cbiAgICAgICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbiA9IG5ldyBXZWJSVENBdWRpbyhcIjFcIiwgd2VicnRjX2RhdGEpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV1NBdWRpbzogaW5pdCBwbHVnaW5cIik7XG4gICAgICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4gPSBuZXcgV1NBdWRpbyhkYXRhLCBpbml0X3BhcmFtcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGluaXRfcGFyYW1zLmF1ZGlvID09IFwid2FpdF9mb3JfY2xpY2tcIikge1xuICAgICAgICAgICAgLy8gYWN0aXZhdGUgYXVkaW8gb24gZmlyc3QgY2xpY2tcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbi5zdGFydCgpO1xuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCByaWdodCBhd2F5IC0tIG1heSBiZSBtdXRlZCBvbiBsYXRlc3QgQ2hyb21lIHVudGlsIGNsaWNrXG4gICAgICAgICAgICB3aW5kb3cuYXVkaW9QbHVnaW4uc3RhcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluaXRfcGFyYW1zLm9uX2V2ZW50KSB7XG4gICAgICAgIGluaXRfcGFyYW1zLm9uX2V2ZW50KFwiaW5pdFwiLCBkYXRhKTtcbiAgICAgIH1cblxuICAgICAgdGltZXJzLnB1c2god2luZG93LnNldFRpbWVvdXQodHJ5X2luaXRfdm5jLCAzMDAwKSk7XG5cbiAgICB9IGVsc2UgaWYgKGRhdGEucXVldWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgbXNnID0gXCJXYWl0aW5nIGZvciBlbXB0eSBzbG90Li4uIFwiO1xuICAgICAgaWYgKGRhdGEucXVldWUgPT0gMCkge1xuICAgICAgICBtc2cgKz0gXCI8Yj5Zb3UgYXJlIG5leHQhPC9iPlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnICs9IFwiQXQgbW9zdCA8Yj5cIiArIGRhdGEucXVldWUgKyBcIiB1c2VyKHMpPC9iPiBhaGVhZCBvZiB5b3VcIjtcbiAgICAgIH1cbiAgICAgIG1zZ2RpdigpLmlubmVySFRNTCA9IG1zZztcblxuICAgICAgdGltZXJzLnB1c2god2luZG93LnNldFRpbWVvdXQoaW5pdF9icm93c2VyLCAzMDAwKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5X2luaXRfdm5jKCkge1xuICAgIGRvX3ZuYygpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHdhaXRpbmdfZm9yX3ZuYyA9IGZhbHNlOyB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkJywgZXJyKTtcblxuICAgICAgICB3YWl0aW5nX2Zvcl92bmMgPSBmYWxzZTtcbiAgICAgICAgZmFpbF9jb3VudCsrO1xuXG4gICAgICAgIGlmIChmYWlsX2NvdW50IDw9IG51bV92bmNfcmV0cmllcykge1xuICAgICAgICAgIG1zZ2RpdigpLmlubmVySFRNTCA9IFwiUmV0cnlpbmcgdG8gY29ubmVjdCB0byByZW1vdGUgYnJvd3Nlci4uLlwiO1xuICAgICAgICAgIHRpbWVycy5wdXNoKHNldFRpbWVvdXQoaW5pdF9icm93c2VyLCA1MDApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaW5pdF9wYXJhbXMub25fZXZlbnQpIHtcbiAgICAgICAgICAgIGluaXRfcGFyYW1zLm9uX2V2ZW50KFwiZmFpbFwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbXNnZGl2KCkuaW5uZXJIVE1MID0gXCJGYWlsZWQgdG8gY29ubmVjdCB0byByZW1vdGUgYnJvd3Nlci4uLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gY2xpZW50UG9zaXRpb24oKSB7XG4gICAgY29uc3QgYmNyID0gdGFyZ2V0RGl2Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgYyA9IGNhbnZhcygpO1xuICAgIHZhciBjaCA9IGMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIHZhciBjdyA9IGMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgaWYgKCFpbml0X3BhcmFtcy5maWxsX3dpbmRvdykge1xuICAgICAgYy5zdHlsZS5tYXJnaW5MZWZ0ID0gKChiY3Iud2lkdGggLSBjdykvMikgKyAncHgnO1xuICAgICAgYy5zdHlsZS5tYXJnaW5Ub3AgPSAoKGJjci5oZWlnaHQgLSAoY2ggKyAyNSkpLzIpICsgJ3B4JztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGllbnRSZXNpemUoKSB7XG4gICAgY29uc3QgYmNyID0gdGFyZ2V0RGl2Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCB3ID0gYmNyLndpZHRoO1xuICAgIGxldCBoID0gYmNyLmhlaWdodDtcblxuICAgIGlmICghaW5pdF9wYXJhbXMuZmlsbF93aW5kb3cpIHtcbiAgICAgIHcgPSBNYXRoLnJvdW5kKHcgKiAwLjk2KTtcbiAgICAgIGggPSBoIC0gMjU7XG4gICAgfVxuXG4gICAgaWYgKHJmYikge1xuICAgICAgdmFyIHMgPSByZmIuX2Rpc3BsYXkuYXV0b3NjYWxlKHcsIGgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVk5DQ29weUN1dChyZmIsIHRleHQpIHtcbiAgICBpZiAoaW5pdF9wYXJhbXMuY2xpcGJvYXJkICYmIGhhc0NsaXBib2FyZCkge1xuICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpbml0X3BhcmFtcy5jbGlwYm9hcmQpLmlubmVySFRNTCA9ICh0ZXh0KTtcbiAgICB9IGVsc2UgaWYoaW5pdF9wYXJhbXMuY2xpcGJvYXJkKSB7XG4gICAgICBzdGFnZWRUZXh0ID0gdGV4dDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkb192bmMoKSB7XG4gICAgaWYgKHdhaXRpbmdfZm9yX3ZuYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhaXRpbmdfZm9yX3ZuYyA9IHRydWU7XG5cbiAgICB2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICB2YXIgcG9ydCA9IHZuY19wb3J0O1xuICAgIHZhciBwYXRoID0gXCJ3ZWJzb2NraWZ5XCI7XG4gICAgdmFyIHByb3RvY29sID0gXCJ3c1wiO1xuXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJodHRwczpcIikge1xuICAgICAgcHJvdG9jb2wgPSBcIndzc1wiO1xuICAgIH1cblxuICAgIC8vIFByb3h5IFdTIHZpYSB0aGUgb3JpZ2luIGhvc3QsIGluc3RlYWQgb2YgbWFraW5nIGRpcmVjdCBjb25uXG4gICAgLy8gJ3Byb3h5X3dzJyBzcGVjaWZpZXMgdGhlIHByb3h5IHBhdGgsIHBvcnQgaXMgYXBwZW5kZWRcbiAgICBpZiAoaW5pdF9wYXJhbXMucHJveHlfd3MpIHtcbiAgICAgIHBhdGggPSBpbml0X3BhcmFtcy5wcm94eV93cyArIHBvcnQ7XG4gICAgICBwb3J0ID0gd2luZG93LmxvY2F0aW9uLnBvcnQ7XG4gICAgICBpZiAoIXBvcnQpIHtcbiAgICAgICAgcG9ydCA9ICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT0gXCJodHRwczpcIiA/IDQ0MyA6IDgwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0ID0gY2FudmFzKCk7XG4gICAgdmFyIHdlYnNlcnZpY2VfdXJsID0gcHJvdG9jb2wgKyAnOi8vJyArIGhvc3QgKyAnOicgKyBwb3J0ICsgJy8nICsgcGF0aDtcblxuICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB0byBcIiArIHdlYnNlcnZpY2VfdXJsKTtcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmZiID0gbmV3IFJGQih0YXJnZXQsIHdlYnNlcnZpY2VfdXJsLCB7J2NyZWRlbnRpYWxzJzogeydwYXNzd29yZCc6IHZuY19wYXNzfX0pO1xuICAgICAgd2luZG93LnJmYiA9IHJmYjtcblxuICAgICAgLy9pZiAoIXJmYkV2ZW50c0JvdW5kKSB7XG4gICAgICBjcmVkZW50aWFsc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QoXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjYW52YXMoKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICBpZiAoaW5pdF9wYXJhbXMuZmlsbF93aW5kb3cpIHtcbiAgICAgICAgICBjYW52YXMoKS5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbXNnZGl2KCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBldmVyX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIGZhaWxfY291bnQgPSAwO1xuXG4gICAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICAgIGluaXRfcGFyYW1zLm9uX2V2ZW50KFwiY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZmIucmVzaXplU2Vzc2lvbiA9IHRydWU7XG4gICAgICAgIHJmYi5zY2FsZVZpZXdwb3J0ID0gdHJ1ZTtcblxuICAgICAgICByZXNvbHZlKFwiY29ubmVjdGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBkaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25uZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICBjYW52YXMoKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHZhciByZWluaXQgPSAhZG9jdW1lbnQuaGlkZGVuO1xuXG4gICAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICAgIGluaXRfcGFyYW1zLm9uX2V2ZW50KFwiZGlzY29ubmVjdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWluaXQpIHtcbiAgICAgICAgICBzZXR1cF9icm93c2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KFwiZGlzY29ubmVjdGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBzZWN1cml0eUZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChcInNlY3VyaXR5RmFpbHVyZVwiKTtcbiAgICAgIH1cblxuICAgICAgY2xpcGJvYXJkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIG9uVk5DQ29weUN1dChyZmIsIGV2ZW50LmRldGFpbC50ZXh0KTtcbiAgICAgIH1cblxuICAgICAgcmZiLmFkZEV2ZW50TGlzdGVuZXIoXCJjcmVkZW50aWFsc3JlcXVpcmVkXCIsIGNyZWRlbnRpYWxzUmVxdWlyZWQpO1xuICAgICAgcmZiLmFkZEV2ZW50TGlzdGVuZXIoXCJjb25uZWN0XCIsIGNvbm5lY3QpO1xuICAgICAgcmZiLmFkZEV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0XCIsIGRpc2Nvbm5lY3QpO1xuICAgICAgcmZiLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eWZhaWx1cmVcIiwgc2VjdXJpdHlGYWlsdXJlKTtcbiAgICAgIHJmYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpcGJvYXJkXCIsIGNsaXBib2FyZCk7XG4gICAgICAvLyAgIHJmYkV2ZW50c0JvdW5kID0gdHJ1ZTtcbiAgICAgIC8vIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cblxuICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gV2hlbiB0aGUgd2luZG93IGhhcyBiZWVuIHJlc2l6ZWQsIHdhaXQgdW50aWwgdGhlIHNpemUgcmVtYWluc1xuICAgIC8vIHRoZSBzYW1lIGZvciAwLjUgc2Vjb25kcyBiZWZvcmUgc2VuZGluZyB0aGUgcmVxdWVzdCBmb3IgY2hhbmdpbmdcbiAgICAvLyB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc2Vzc2lvblxuICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0KTtcbiAgICByZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgY2xpZW50UmVzaXplKCk7XG4gICAgICAvL2NsaWVudFBvc2l0aW9uKCk7XG4gICAgfSwgNTAwKTtcbiAgfTtcblxuICBmdW5jdGlvbiB2aXNpYmlsaXR5Q2hhbmdlQ0IoKSB7XG4gICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgdmlzaWJpbGl0eUhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChyZmIpIHtcbiAgICAgICAgICByZmIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5pdF9wYXJhbXMuaW5hY3RpdmVTZWNzICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFyVGltZW91dCh2aXNpYmlsaXR5SGFuZGxlKTtcbiAgICAgIGlmICghY29ubmVjdGVkKSB7XG4gICAgICAgIGlmIChpbml0X3BhcmFtcy5vbl9ldmVudCkge1xuICAgICAgICAgIGluaXRfcGFyYW1zLm9uX2V2ZW50KFwicmVjb25uZWN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0dXBfYnJvd3NlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZV9jb3VudGRvd24oKSB7XG4gICAgaWYgKCFlbmRfdGltZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VyciA9IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICB2YXIgc2VjZGlmZiA9IGVuZF90aW1lIC0gY3VycjtcblxuICAgIGlmIChzZWNkaWZmIDwgMCkge1xuICAgICAgaW5pdF9wYXJhbXMub25fY291bnRkb3duKDAsIFwiMDA6MDBcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1pbiA9IE1hdGguZmxvb3Ioc2VjZGlmZiAvIDYwKTtcbiAgICB2YXIgc2VjID0gc2VjZGlmZiAlIDYwO1xuICAgIGlmIChzZWMgPD0gOSkge1xuICAgICAgc2VjID0gXCIwXCIgKyBzZWM7XG4gICAgfVxuICAgIGlmIChtaW4gPD0gOSkge1xuICAgICAgbWluID0gXCIwXCIgKyBtaW47XG4gICAgfVxuXG4gICAgaW5pdF9wYXJhbXMub25fY291bnRkb3duKHNlY2RpZmYsIG1pbiArIFwiOlwiICsgc2VjKTtcbiAgfVxuXG4gIGlmIChpbml0X3BhcmFtcy5pbmFjdGl2ZVNlY3MpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB2aXNpYmlsaXR5Q2hhbmdlQ0IpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJUaW1lcnMoKSB7XG4gICAgLy8gY2xlYXIgaW50ZXJ2YWxzIGFuZCB0aW1lcnNcbiAgICBjbGVhckludGVydmFsKGNvdW50ZG93blRpbWVyKTtcbiAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUhhbmRsZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcnNbaV0pO1xuICAgIH1cbiAgICB0aW1lcnMgPSBbXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAvLyBjYW5jZWwgZmV0Y2ggcmVxdWVzdHNcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIGF1ZGlvIHBsdWdpblxuICAgIGlmIChpbml0X3BhcmFtcy5hdWRpbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmF1ZGlvUGx1Z2luLmNsb3NlKCk7XG4gICAgICAgIHdpbmRvdy5hdWRpb1BsdWdpbiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gY2F0Y2ggKGVycil7fVxuICAgIH1cblxuICAgIGlmIChyZmIpIHtcbiAgICAgIHJmYi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY3JlZGVudGlhbHNyZXF1aXJlZFwiLCBjcmVkZW50aWFsc1JlcXVpcmVkKTtcbiAgICAgIHJmYi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29ubmVjdFwiLCBjb25uZWN0KTtcbiAgICAgIHJmYi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBkaXNjb25uZWN0KTtcbiAgICAgIHJmYi5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VjdXJpdHlmYWlsdXJlXCIsIHNlY3VyaXR5RmFpbHVyZSk7XG4gICAgICByZmIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaXBib2FyZFwiLCBjbGlwYm9hcmQpO1xuICAgICAgcmZiLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICB2YXIgY252cyA9IGNhbnZhcygpO1xuICAgIHZhciBfc2NyZWVuID0gc2NyZWVuKCk7XG5cbiAgICBjbGVhclRpbWVycygpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdmlzaWJpbGl0eUNoYW5nZUNCKTtcbiAgfVxuXG4gIHN0YXJ0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBcImNsb3NlXCI6IGNsb3NlLFxuICAgIFwiZGVzdHJveV9jbGlwYm9hcmRcIjogZGVzdHJveV9jbGlwYm9hcmQsXG4gICAgXCJpbml0X2NsaXBib2FyZFwiOiBpbml0X2NsaXBib2FyZFxuICAgfVxufVxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==